(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();function Sx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var db={exports:{}},Cl={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pb;function kx(){if(pb)return Cl;pb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,u){var f=null;if(u!==void 0&&(f=""+u),s.key!==void 0&&(f=""+s.key),"key"in s){u={};for(var p in s)p!=="key"&&(u[p]=s[p])}else u=s;return s=u.ref,{$$typeof:r,type:a,key:f,ref:s!==void 0?s:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var mb;function xx(){return mb||(mb=1,db.exports=kx()),db.exports}var C=xx(),gb={exports:{}},De={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var yb;function Tx(){if(yb)return De;yb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function k(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,M={};function z(L,te,se){this.props=L,this.context=te,this.refs=M,this.updater=se||R}z.prototype.isReactComponent={},z.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=z.prototype;function J(L,te,se){this.props=L,this.context=te,this.refs=M,this.updater=se||R}var ie=J.prototype=new W;ie.constructor=J,_(ie,z.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function A(L,te,se,re,me,_e){return se=_e.ref,{$$typeof:r,type:L,key:te,ref:se!==void 0?se:null,props:_e}}function E(L,te){return A(L.type,te,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function P(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return te[se]})}var O=/\/+/g;function j(L,te){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):te.toString(36)}function N(){}function Ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function et(L,te,se,re,me){var _e=typeof L;(_e==="undefined"||_e==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(_e){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case r:case e:ve=!0;break;case v:return ve=L._init,et(ve(L._payload),te,se,re,me)}}if(ve)return me=me(L),ve=re===""?"."+j(L,0):re,ue(me)?(se="",ve!=null&&(se=ve.replace(O,"$&/")+"/"),et(me,te,se,"",function(vn){return vn})):me!=null&&(D(me)&&(me=E(me,se+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(O,"$&/")+"/")+ve)),te.push(me)),1;ve=0;var ft=re===""?".":re+":";if(ue(L))for(var Me=0;Me<L.length;Me++)re=L[Me],_e=ft+j(re,Me),ve+=et(re,te,se,_e,me);else if(Me=k(L),typeof Me=="function")for(L=Me.call(L),Me=0;!(re=L.next()).done;)re=re.value,_e=ft+j(re,Me++),ve+=et(re,te,se,_e,me);else if(_e==="object"){if(typeof L.then=="function")return et(Ye(L),te,se,re,me);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(L,te,se){if(L==null)return L;var re=[],me=0;return et(L,re,"","",function(_e){return te.call(se,_e,me++)}),re}function le(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var pe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function be(){}return De.Children={map:K,forEach:function(L,te,se){K(L,function(){te.apply(this,arguments)},se)},count:function(L){var te=0;return K(L,function(){te++}),te},toArray:function(L){return K(L,function(te){return te})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},De.Component=z,De.Fragment=n,De.Profiler=s,De.PureComponent=J,De.StrictMode=a,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,De.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ce.H.useMemoCache(L)}},De.cache=function(L){return function(){return L.apply(null,arguments)}},De.cloneElement=function(L,te,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var re=_({},L.props),me=L.key,_e=void 0;if(te!=null)for(ve in te.ref!==void 0&&(_e=void 0),te.key!==void 0&&(me=""+te.key),te)!ae.call(te,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&te.ref===void 0||(re[ve]=te[ve]);var ve=arguments.length-2;if(ve===1)re.children=se;else if(1<ve){for(var ft=Array(ve),Me=0;Me<ve;Me++)ft[Me]=arguments[Me+2];re.children=ft}return A(L.type,me,void 0,void 0,_e,re)},De.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},De.createElement=function(L,te,se){var re,me={},_e=null;if(te!=null)for(re in te.key!==void 0&&(_e=""+te.key),te)ae.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=te[re]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ft=Array(ve),Me=0;Me<ve;Me++)ft[Me]=arguments[Me+2];me.children=ft}if(L&&L.defaultProps)for(re in ve=L.defaultProps,ve)me[re]===void 0&&(me[re]=ve[re]);return A(L,_e,void 0,void 0,null,me)},De.createRef=function(){return{current:null}},De.forwardRef=function(L){return{$$typeof:p,render:L}},De.isValidElement=D,De.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:le}},De.memo=function(L,te){return{$$typeof:g,type:L,compare:te===void 0?null:te}},De.startTransition=function(L){var te=ce.T,se={};ce.T=se;try{var re=L(),me=ce.S;me!==null&&me(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,pe)}catch(_e){pe(_e)}finally{ce.T=te}},De.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},De.use=function(L){return ce.H.use(L)},De.useActionState=function(L,te,se){return ce.H.useActionState(L,te,se)},De.useCallback=function(L,te){return ce.H.useCallback(L,te)},De.useContext=function(L){return ce.H.useContext(L)},De.useDebugValue=function(){},De.useDeferredValue=function(L,te){return ce.H.useDeferredValue(L,te)},De.useEffect=function(L,te,se){var re=ce.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(L,te)},De.useId=function(){return ce.H.useId()},De.useImperativeHandle=function(L,te,se){return ce.H.useImperativeHandle(L,te,se)},De.useInsertionEffect=function(L,te){return ce.H.useInsertionEffect(L,te)},De.useLayoutEffect=function(L,te){return ce.H.useLayoutEffect(L,te)},De.useMemo=function(L,te){return ce.H.useMemo(L,te)},De.useOptimistic=function(L,te){return ce.H.useOptimistic(L,te)},De.useReducer=function(L,te,se){return ce.H.useReducer(L,te,se)},De.useRef=function(L){return ce.H.useRef(L)},De.useState=function(L){return ce.H.useState(L)},De.useSyncExternalStore=function(L,te,se){return ce.H.useSyncExternalStore(L,te,se)},De.useTransition=function(){return ce.H.useTransition()},De.version="19.1.0",De}var vb;function Yp(){return vb||(vb=1,gb.exports=Tx()),gb.exports}var U=Yp(),$d={exports:{}},_l={},bb={exports:{}},wb={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Sb;function Ex(){return Sb||(Sb=1,function(r){function e(K,le){var pe=K.length;K.push(le);e:for(;0<pe;){var be=pe-1>>>1,L=K[be];if(0<s(L,le))K[be]=le,K[pe]=L,pe=be;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var le=K[0],pe=K.pop();if(pe!==le){K[0]=pe;e:for(var be=0,L=K.length,te=L>>>1;be<te;){var se=2*(be+1)-1,re=K[se],me=se+1,_e=K[me];if(0>s(re,pe))me<L&&0>s(_e,re)?(K[be]=_e,K[me]=pe,be=me):(K[be]=re,K[se]=pe,be=se);else if(me<L&&0>s(_e,pe))K[be]=_e,K[me]=pe,be=me;else break e}}return le}function s(K,le){var pe=K.sortIndex-le.sortIndex;return pe!==0?pe:K.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],v=1,S=null,k=3,R=!1,_=!1,M=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(K){for(var le=n(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=K)a(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(g)}}function ce(K){if(M=!1,ue(K),!_)if(n(m)!==null)_=!0,ae||(ae=!0,j());else{var le=n(g);le!==null&&et(ce,le.startTime-K)}}var ae=!1,A=-1,E=5,D=-1;function P(){return z?!0:!(r.unstable_now()-D<E)}function O(){if(z=!1,ae){var K=r.unstable_now();D=K;var le=!0;try{e:{_=!1,M&&(M=!1,J(A),A=-1),R=!0;var pe=k;try{t:{for(ue(K),S=n(m);S!==null&&!(S.expirationTime>K&&P());){var be=S.callback;if(typeof be=="function"){S.callback=null,k=S.priorityLevel;var L=be(S.expirationTime<=K);if(K=r.unstable_now(),typeof L=="function"){S.callback=L,ue(K),le=!0;break t}S===n(m)&&a(m),ue(K)}else a(m);S=n(m)}if(S!==null)le=!0;else{var te=n(g);te!==null&&et(ce,te.startTime-K),le=!1}}break e}finally{S=null,k=pe,R=!1}le=void 0}}finally{le?j():ae=!1}}}var j;if(typeof ie=="function")j=function(){ie(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ye=N.port2;N.port1.onmessage=O,j=function(){Ye.postMessage(null)}}else j=function(){W(O,0)};function et(K,le){A=W(function(){K(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(K){switch(k){case 1:case 2:case 3:var le=3;break;default:le=k}var pe=k;k=le;try{return K()}finally{k=pe}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=k;k=K;try{return le()}finally{k=pe}},r.unstable_scheduleCallback=function(K,le,pe){var be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=pe+L,K={id:v++,callback:le,priorityLevel:K,startTime:pe,expirationTime:L,sortIndex:-1},pe>be?(K.sortIndex=pe,e(g,K),n(m)===null&&K===n(g)&&(M?(J(A),A=-1):M=!0,et(ce,pe-be))):(K.sortIndex=L,e(m,K),_||R||(_=!0,ae||(ae=!0,j()))),K},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(K){var le=k;return function(){var pe=k;k=le;try{return K.apply(this,arguments)}finally{k=pe}}}}(wb)),wb}var kb;function Cx(){return kb||(kb=1,bb.exports=Ex()),bb.exports}var qd={exports:{}},sn={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xb;function _x(){if(xb)return sn;xb=1;var r=Yp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(m,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:m,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},sn.flushSync=function(m){var g=f.T,v=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=g,a.p=v,a.d.f()}},sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},sn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin),k=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:k,fetchPriority:R}):v==="script"&&a.d.X(m,{crossOrigin:S,integrity:k,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin);a.d.L(m,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},sn.requestFormReset=function(m){a.d.r(m)},sn.unstable_batchedUpdates=function(m,g){return m(g)},sn.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var Tb;function Dx(){if(Tb)return qd.exports;Tb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qd.exports=_x(),qd.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Eb;function Nx(){if(Eb)return _l;Eb=1;var r=Cx(),e=Yp(),n=Dx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,l=i;;){var h=o.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){o=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===o)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(a(188))}if(o.return!==l.return)o=h,l=d;else{for(var w=!1,x=h.child;x;){if(x===o){w=!0,o=h,l=d;break}if(x===l){w=!0,l=h,o=d;break}x=x.sibling}if(!w){for(x=d.child;x;){if(x===o){w=!0,o=d,l=h;break}if(x===l){w=!0,l=d,o=h;break}x=x.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==l)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case ce:return"Suspense";case ae:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case E:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},be=[],L=-1;function te(t){return{current:t}}function se(t){0>L||(t.current=be[L],be[L]=null,L--)}function re(t,i){L++,be[L]=t.current,t.current=i}var me=te(null),_e=te(null),ve=te(null),ft=te(null);function Me(t,i){switch(re(ve,i),re(_e,t),re(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Vv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Vv(i),t=$v(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(me),re(me,t)}function vn(){se(me),se(_e),se(ve)}function Fn(t){t.memoizedState!==null&&re(ft,t);var i=me.current,o=$v(i,t.type);i!==o&&(re(_e,t),re(me,o))}function Cn(t){_e.current===t&&(se(me),se(_e)),ft.current===t&&(se(ft),Sl._currentValue=pe)}var jn=Object.prototype.hasOwnProperty,zn=r.unstable_scheduleCallback,at=r.unstable_cancelCallback,xt=r.unstable_shouldYield,Fr=r.unstable_requestPaint,fn=r.unstable_now,co=r.unstable_getCurrentPriorityLevel,pa=r.unstable_ImmediatePriority,wi=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,ho=r.unstable_LowPriority,Si=r.unstable_IdlePriority,ma=r.log,fo=r.unstable_setDisableYieldValue,dt=null,Be=null;function Qt(t){if(typeof ma=="function"&&fo(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(dt,t)}catch{}}var Rt=Math.clz32?Math.clz32:Un,ga=Math.log,_s=Math.LN2;function Un(t){return t>>>=0,t===0?32:31-(ga(t)/_s|0)|0}var pr=256,zr=4194304;function bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ur(t,i,o){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=bn(l):(w&=x,w!==0?h=bn(w):o||(o=x&~t,o!==0&&(h=bn(o))))):(x=l&~d,x!==0?h=bn(x):w!==0?h=bn(w):o||(o=l&~t,o!==0&&(h=bn(o)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,o=i&-i,d>=o||d===32&&(o&4194048)!==0)?i:h}function rr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ya(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(){var t=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),t}function va(){var t=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),t}function Vn(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _t(t,i,o,l,h,d){var w=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(o=w&~o;0<o;){var G=31-Rt(o),Z=1<<G;x[G]=0,I[G]=-1;var Q=B[G];if(Q!==null)for(B[G]=null,G=0;G<Q.length;G++){var H=Q[G];H!==null&&(H.lane&=-536870913)}o&=~Z}l!==0&&dn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(w&~i))}function dn(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Rt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|o&4194090}function Ge(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var l=31-Rt(o),h=1<<l;h&i|t[l]&i&&(t[l]|=i),o&=~h}}function At(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $n(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:sb(t.type))}function ba(t,i){var o=le.p;try{return le.p=t,i()}finally{le.p=o}}var ot=Math.random().toString(36).slice(2),vt="__reactFiber$"+ot,ct="__reactProps$"+ot,an="__reactContainer$"+ot,Vr="__reactEvents$"+ot,wa="__reactListeners$"+ot,mr="__reactHandles$"+ot,Ti="__reactResources$"+ot,gr="__reactMarker$"+ot;function yr(t){delete t[vt],delete t[ct],delete t[Vr],delete t[wa],delete t[mr]}function ir(t){var i=t[vt];if(i)return i;for(var o=t.parentNode;o;){if(i=o[an]||o[vt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Qv(t);t!==null;){if(o=t[vt])return o;t=Qv(t)}return i}t=o,o=t.parentNode}return null}function xe(t){if(t=t[vt]||t[an]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ue(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Pe(t){var i=t[Ti];return i||(i=t[Ti]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(t){t[gr]=!0}var Ht=new Set,vr={};function _n(t,i){ar(t,i),ar(t+"Capture",i)}function ar(t,i){for(vr[t]=i,t=0;t<i.length;t++)Ht.add(i[t])}var hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},Sa={};function du(t){return jn.call(Sa,t)?!0:jn.call(fu,t)?!1:hu.test(t)?Sa[t]=!0:(fu[t]=!0,!1)}function Ei(t,i,o){if(du(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function br(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Kt(t,i,o,l){if(l===null)t.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+l)}}var ka,pu;function $r(t){if(ka===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ka=i&&i[1]||"",pu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+pu}var po=!1;function mo(t,i){if(!t||po)return"";po=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var Q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){Q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){Q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&Q&&typeof H.stack=="string")return[H.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),w=d[0],x=d[1];if(w&&x){var I=w.split(`
`),B=x.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var G=`
`+I[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?$r(o):""}function Ds(t){switch(t.tag){case 26:case 27:case 5:return $r(t.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return mo(t.type,!1);case 11:return mo(t.type.render,!1);case 1:return mo(t.type,!0);case 31:return $r("Activity");default:return""}}function go(t){try{var i="";do i+=Ds(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wh(t){var i=Ns(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,d.call(this,w)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function yo(t){t._valueTracker||(t._valueTracker=Wh(t))}function Os(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==o?(i.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qh=/[\n"\\]/g;function Pt(t){return t.replace(Qh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dn(t,i,o,l,h,d,w,x){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+pn(i)):t.value!==""+pn(i)&&(t.value=""+pn(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Ci(t,w,pn(i)):o!=null?Ci(t,w,pn(o)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+pn(x):t.removeAttribute("name")}function Ta(t,i,o,l,h,d,w,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||o!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;o=o!=null?""+pn(o):"",i=i!=null?""+pn(i):o,x||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function Ci(t,i,o){i==="number"&&xa(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function qr(t,i,o,l){if(t=t.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=i.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&l&&(t[o].defaultSelected=!0)}else{for(o=""+pn(o),i=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function tt(t,i,o){if(i!=null&&(i=""+pn(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+pn(o):""}function Ea(t,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=pn(i),t.defaultValue=o,l=t.textContent,l===o&&l!==""&&l!==null&&(t.value=l)}function qn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,o):typeof o!="number"||o===0||Ca.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Is(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&o[h]!==l&&mu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&mu(t,d,i[d])}function Rs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(t){return Kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Br=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wr=null,Qr=null;function As(t){var i=xe(t);if(i&&(t=i.stateNode)){var o=t[ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(Dn(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==t&&l.form===t.form){var h=l[ct]||null;if(!h)throw Error(a(90));Dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===t.form&&Os(l)}break e;case"textarea":tt(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&qr(t,!!o.multiple,i,!1)}}}var wr=!1;function gu(t,i,o){if(wr)return t(i,o);wr=!0;try{var l=t(i);return l}finally{if(wr=!1,(Wr!==null||Qr!==null)&&(uc(),Wr&&(i=Wr,t=Qr,Qr=Wr=null,As(i),t)))for(i=0;i<t.length;i++)As(t[i])}}function _a(t,i){var o=t.stateNode;if(o===null)return null;var l=o[ct]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(or)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Wn=!1}var Sr=null,_i=null,Hr=null;function Ps(){if(Hr)return Hr;var t,i=_i,o=i.length,l,h="value"in Sr?Sr.value:Sr.textContent,d=h.length;for(t=0;t<o&&i[t]===h[t];t++);var w=o-t;for(l=1;l<=w&&i[o-l]===h[d-l];l++);return Hr=h.slice(t,1<l?1-l:void 0)}function kr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function Ls(){return!1}function Ut(t){function i(o,l,h,d,w){this._reactName=o,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=w,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xr:Ls,this.isPropagationStopped=Ls,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Ut(He),Na=v({},He,{view:0,detail:0}),yu=Ut(Na),wo,So,Tr,Oa=v({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tr&&(Tr&&t.type==="mousemove"?(wo=t.screenX-Tr.screenX,So=t.screenY-Tr.screenY):So=wo=0,Tr=t),wo)},movementY:function(t){return"movementY"in t?t.movementY:So}}),Qn=Ut(Oa),vu=v({},Oa,{dataTransfer:0}),Yh=Ut(vu),Ia=v({},Na,{relatedTarget:0}),ko=Ut(Ia),Ms=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),xo=Ut(Ms),bu=v({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),To=Ut(bu),Gh=v({},He,{data:0}),Fs=Ut(Gh),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Su[t])?!!i[t]:!1}function Aa(){return js}var ku=v({},Na,{key:function(t){if(t.key){var i=Ra[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eo=Ut(ku),xu=v({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=Ut(xu),Kr=v({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),Tu=Ut(Kr),Eu=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cu=Ut(Eu),_u=v({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Co=Ut(_u),mn=v({},He,{newState:0,oldState:0}),Du=Ut(mn),Nu=[9,13,27,32],Er=or&&"CompositionEvent"in window,c=null;or&&"documentMode"in document&&(c=document.documentMode);var y=or&&"TextEvent"in window&&!c,b=or&&(!Er||c&&8<c&&11>=c),T=" ",$=!1;function Y(t,i){switch(t){case"keyup":return Nu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $e=!1;function Lt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:($=!0,T);case"textInput":return t=i.data,t===T&&$?null:t;default:return null}}function We(t,i){if($e)return t==="compositionend"||!Er&&Y(t,i)?(t=Ps(),Hr=_i=Sr=null,$e=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Yr(t,i,o,l){Wr?Qr?Qr.push(l):Qr=[l]:Wr=l,i=mc(i,"onChange"),0<i.length&&(o=new bo("onChange","change",null,o,l),t.push({event:o,listeners:i}))}var Gt=null,Cr=null;function Us(t){Mv(t,0)}function Ou(t){var i=Ue(t);if(Os(i))return t}function rg(t,i){if(t==="change")return i}var ig=!1;if(or){var Xh;if(or){var Jh="oninput"in document;if(!Jh){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Jh=typeof ag.oninput=="function"}Xh=Jh}else Xh=!1;ig=Xh&&(!document.documentMode||9<document.documentMode)}function og(){Gt&&(Gt.detachEvent("onpropertychange",sg),Cr=Gt=null)}function sg(t){if(t.propertyName==="value"&&Ou(Cr)){var i=[];Yr(i,Cr,t,Bn(t)),gu(Us,i)}}function X1(t,i,o){t==="focusin"?(og(),Gt=i,Cr=o,Gt.attachEvent("onpropertychange",sg)):t==="focusout"&&og()}function J1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Cr)}function Z1(t,i){if(t==="click")return Ou(i)}function ek(t,i){if(t==="input"||t==="change")return Ou(i)}function tk(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:tk;function Vs(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var h=o[l];if(!jn.call(i,h)||!Nn(t[h],i[h]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,i){var o=lg(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=i&&l>=i)return{node:o,offset:i-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lg(o)}}function cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xa(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=xa(t.document)}return i}function Zh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var nk=or&&"documentMode"in document&&11>=document.documentMode,_o=null,ef=null,$s=null,tf=!1;function fg(t,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tf||_o==null||_o!==xa(l)||(l=_o,"selectionStart"in l&&Zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Vs($s,l)||($s=l,l=mc(ef,"onSelect"),0<l.length&&(i=new bo("onSelect","select",null,i,o),t.push({event:i,listeners:l}),i.target=_o)))}function Pa(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Do={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},nf={},dg={};or&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function La(t){if(nf[t])return nf[t];if(!Do[t])return t;var i=Do[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in dg)return nf[t]=i[o];return t}var pg=La("animationend"),mg=La("animationiteration"),gg=La("animationstart"),rk=La("transitionrun"),ik=La("transitionstart"),ak=La("transitioncancel"),yg=La("transitionend"),vg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function sr(t,i){vg.set(t,i),_n(i,[t])}var bg=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var o=bg.get(t);return o!==void 0?o:(i={value:t,source:i,stack:go(i)},bg.set(t,i),i)}return{value:t,source:i,stack:go(i)}}var Kn=[],No=0,af=0;function Iu(){for(var t=No,i=af=No=0;i<t;){var o=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var h=Kn[i];Kn[i++]=null;var d=Kn[i];if(Kn[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}d!==0&&wg(o,h,d)}}function Ru(t,i,o,l){Kn[No++]=t,Kn[No++]=i,Kn[No++]=o,Kn[No++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,o,l){return Ru(t,i,o,l),Au(t)}function Oo(t,i){return Ru(t,null,null,i),Au(t)}function wg(t,i,o){t.lanes|=o;var l=t.alternate;l!==null&&(l.lanes|=o);for(var h=!1,d=t.return;d!==null;)d.childLanes|=o,l=d.alternate,l!==null&&(l.childLanes|=o),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Rt(o),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=o|536870912),d):null}function Au(t){if(50<dl)throw dl=0,fd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Io={};function ok(t,i,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,o,l){return new ok(t,i,o,l)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gr(t,i){var o=t.alternate;return o===null?(o=On(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Sg(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Pu(t,i,o,l,h,d){var w=0;if(l=t,typeof t=="function")sf(t)&&(w=1);else if(typeof t=="string")w=lx(t,o,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=On(31,o,i,h),t.elementType=D,t.lanes=d,t;case _:return Ma(o.children,h,d,i);case M:w=8,h|=24;break;case z:return t=On(12,o,i,h|2),t.elementType=z,t.lanes=d,t;case ce:return t=On(13,o,i,h),t.elementType=ce,t.lanes=d,t;case ae:return t=On(19,o,i,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case ie:w=10;break e;case J:w=9;break e;case ue:w=11;break e;case A:w=14;break e;case E:w=16,l=null;break e}w=29,o=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=On(w,o,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ma(t,i,o,l){return t=On(7,t,l,i),t.lanes=o,t}function lf(t,i,o){return t=On(6,t,null,i),t.lanes=o,t}function uf(t,i,o){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ro=[],Ao=0,Lu=null,Mu=0,Yn=[],Gn=0,Fa=null,Xr=1,Jr="";function ja(t,i){Ro[Ao++]=Mu,Ro[Ao++]=Lu,Lu=t,Mu=i}function kg(t,i,o){Yn[Gn++]=Xr,Yn[Gn++]=Jr,Yn[Gn++]=Fa,Fa=t;var l=Xr;t=Jr;var h=32-Rt(l)-1;l&=~(1<<h),o+=1;var d=32-Rt(i)+h;if(30<d){var w=h-h%5;d=(l&(1<<w)-1).toString(32),l>>=w,h-=w,Xr=1<<32-Rt(i)+h|o<<h|l,Jr=d+t}else Xr=1<<d|o<<h|l,Jr=t}function cf(t){t.return!==null&&(ja(t,1),kg(t,1,0))}function hf(t){for(;t===Lu;)Lu=Ro[--Ao],Ro[Ao]=null,Mu=Ro[--Ao],Ro[Ao]=null;for(;t===Fa;)Fa=Yn[--Gn],Yn[Gn]=null,Jr=Yn[--Gn],Yn[Gn]=null,Xr=Yn[--Gn],Yn[Gn]=null}var gn=null,St=null,Qe=!1,za=null,_r=!1,ff=Error(a(519));function Ua(t){var i=Error(a(418,""));throw Ws(Hn(i,t)),ff}function xg(t){var i=t.stateNode,o=t.type,l=t.memoizedProps;switch(i[vt]=t,i[ct]=l,o){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(o=0;o<ml.length;o++)Ae(ml[o],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),Ta(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yo(i);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),Ea(i,l.value,l.defaultValue,l.children),yo(i)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||Uv(i.textContent,o)?(l.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),l.onScroll!=null&&Ae("scroll",i),l.onScrollEnd!=null&&Ae("scrollend",i),l.onClick!=null&&(i.onclick=gc),i=!0):i=!1,i||Ua(t)}function Tg(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:gn=gn.return}}function qs(t){if(t!==gn)return!1;if(!Qe)return Tg(t),Qe=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Dd(t.type,t.memoizedProps)),o=!o),o&&St&&Ua(t),Tg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){St=ur(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}St=null}}else i===27?(i=St,qi(t.type)?(t=Rd,Rd=null,St=t):St=i):St=gn?ur(t.stateNode.nextSibling):null;return!0}function Bs(){St=gn=null,Qe=!1}function Eg(){var t=za;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),za=null),t}function Ws(t){za===null?za=[t]:za.push(t)}var df=te(null),Va=null,Zr=null;function Di(t,i,o){re(df,i._currentValue),i._currentValue=o}function ei(t){t._currentValue=df.current,se(df)}function pf(t,i,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===o)break;t=t.return}}function mf(t,i,o,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var w=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var I=0;I<i.length;I++)if(x.context===i[I]){d.lanes|=o,x=d.alternate,x!==null&&(x.lanes|=o),pf(d.return,o,t),l||(w=null);break e}d=x.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=o,d=w.alternate,d!==null&&(d.lanes|=o),pf(w,o,t),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===t){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Qs(t,i,o,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var x=h.type;Nn(h.pendingProps.value,w.value)||(t!==null?t.push(x):t=[x])}}else if(h===ft.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&mf(i,t,o,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Va=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Cg(Va,t)}function ju(t,i){return Va===null&&$a(t),Cg(t,i)}function Cg(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Zr===null){if(t===null)throw Error(a(308));Zr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zr=Zr.next=i;return o}var sk=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},lk=r.unstable_scheduleCallback,uk=r.unstable_NormalPriority,Mt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new sk,data:new Map,refCount:0}}function Hs(t){t.refCount--,t.refCount===0&&lk(uk,function(){t.controller.abort()})}var Ks=null,yf=0,Po=0,Lo=null;function ck(t,i){if(Ks===null){var o=Ks=[];yf=0,Po=bd(),Lo={status:"pending",value:void 0,then:function(l){o.push(l)}}}return yf++,i.then(_g,_g),i}function _g(){if(--yf===0&&Ks!==null){Lo!==null&&(Lo.status="fulfilled");var t=Ks;Ks=null,Po=0,Lo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hk(t,i){var o=[],l={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),l}var Dg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ck(t,i),Dg!==null&&Dg(t,i)};var qa=te(null);function vf(){var t=qa.current;return t!==null?t:lt.pooledCache}function zu(t,i){i===null?re(qa,qa.current):re(qa,i.pool)}function Ng(){var t=vf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ys=Error(a(460)),Og=Error(a(474)),Uu=Error(a(542)),bf={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vu(){}function Rg(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(Vu,Vu),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t;default:if(typeof i.status=="string")i.then(Vu,Vu);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pg(t),t}throw Gs=i,Ys}}var Gs=null;function Ag(){if(Gs===null)throw Error(a(459));var t=Gs;return Gs=null,t}function Pg(t){if(t===Ys||t===Uu)throw Error(a(483))}var Ni=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(t,i,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Au(t),wg(t,null,o),i}return Ru(t,l,i,o),Au(t)}function Xs(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,o|=l,i.lanes=o,Ge(t,o)}}function kf(t,i){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var h=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};d===null?h=d=w:d=d.next=w,o=o.next}while(o!==null);d===null?h=d=i:d=d.next=i}else h=d=i;o={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var xf=!1;function Js(){if(xf){var t=Lo;if(t!==null)throw t}}function Zs(t,i,o,l){xf=!1;var h=t.updateQueue;Ni=!1;var d=h.firstBaseUpdate,w=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,B=I.next;I.next=null,w===null?d=B:w.next=B,w=I;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==w&&(x===null?G.firstBaseUpdate=B:x.next=B,G.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;w=0,G=B=I=null,x=d;do{var Q=x.lane&-536870913,H=Q!==x.lane;if(H?(Fe&Q)===Q:(l&Q)===Q){Q!==0&&Q===Po&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ke=t,we=x;Q=i;var it=o;switch(we.tag){case 1:if(ke=we.payload,typeof ke=="function"){Z=ke.call(it,Z,Q);break e}Z=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=we.payload,Q=typeof ke=="function"?ke.call(it,Z,Q):ke,Q==null)break e;Z=v({},Z,Q);break e;case 2:Ni=!0}}Q=x.callback,Q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[Q]:H.push(Q))}else H={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(B=G=H,I=Z):G=G.next=H,w|=Q;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),zi|=w,t.lanes=w,t.memoizedState=Z}}function Lg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Mg(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Lg(o[t],i)}var Mo=te(null),$u=te(0);function Fg(t,i){t=li,re($u,t),re(Mo,i),li=t|i.baseLanes}function Tf(){re($u,li),re(Mo,Mo.current)}function Ef(){li=$u.current,se(Mo),se($u)}var Ri=0,Ne=null,nt=null,Dt=null,qu=!1,Fo=!1,Ba=!1,Bu=0,el=0,jo=null,fk=0;function Tt(){throw Error(a(321))}function Cf(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Nn(t[o],i[o]))return!1;return!0}function _f(t,i,o,l,h,d){return Ri=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?wy:Sy,Ba=!1,d=o(l,h),Ba=!1,Fo&&(d=zg(i,o,l,h)),jg(t),d}function jg(t){K.H=Gu;var i=nt!==null&&nt.next!==null;if(Ri=0,Dt=nt=Ne=null,qu=!1,el=0,jo=null,i)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&Fu(t)&&($t=!0))}function zg(t,i,o,l){Ne=t;var h=0;do{if(Fo&&(jo=null),el=0,Fo=!1,25<=h)throw Error(a(301));if(h+=1,Dt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=bk,d=i(o,l)}while(Fo);return d}function dk(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?tl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Df(){var t=Bu!==0;return Bu=0,t}function Nf(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Of(t){if(qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qu=!1}Ri=0,Dt=nt=Ne=null,Fo=!1,el=Bu=0,jo=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Nt(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Dt===null?Ne.memoizedState:Dt.next;if(i!==null)Dt=i,nt=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ne.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var i=el;return el+=1,jo===null&&(jo=[]),t=Rg(jo,t,i),i=Ne,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?wy:Sy),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===ie)return on(t)}throw Error(a(438,String(t)))}function Rf(t){var i=null,o=Ne.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=If(),Ne.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),l=0;l<t;l++)o[l]=P;return i.index++,o}function ti(t,i){return typeof i=="function"?i(t):i}function Qu(t){var i=Nt();return Af(i,nt,t)}function Af(t,i,o){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=o;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var w=h.next;h.next=d.next,d.next=w}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var x=w=null,I=null,B=i,G=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Fe&Z)===Z:(Ri&Z)===Z){var Q=B.revertLane;if(Q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Po&&(G=!0);else if((Ri&Q)===Q){B=B.next,Q===Po&&(G=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(x=I=Z,w=d):I=I.next=Z,Ne.lanes|=Q,zi|=Q;Z=B.action,Ba&&o(d,Z),d=B.hasEagerState?B.eagerState:o(d,Z)}else Q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(x=I=Q,w=d):I=I.next=Q,Ne.lanes|=Z,zi|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?w=d:I.next=x,!Nn(d,t.memoizedState)&&($t=!0,G&&(o=Lo,o!==null)))throw o;t.memoizedState=d,t.baseState=w,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=Nt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var l=o.dispatch,h=o.pending,d=i.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do d=t(d,w.action),w=w.next;while(w!==h);Nn(d,i.memoizedState)||($t=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),o.lastRenderedState=d}return[d,l]}function Ug(t,i,o){var l=Ne,h=Nt(),d=Qe;if(d){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!Nn((nt||h).memoizedState,o);w&&(h.memoizedState=o,$t=!0),h=h.queue;var x=qg.bind(null,l,h,t);if(nl(2048,8,x,[t]),h.getSnapshot!==i||w||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,zo(9,Hu(),$g.bind(null,l,h,o,i),null),lt===null)throw Error(a(349));d||(Ri&124)!==0||Vg(l,i,o)}return o}function Vg(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=Ne.updateQueue,i===null?(i=If(),Ne.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function $g(t,i,o,l){i.value=o,i.getSnapshot=l,Bg(i)&&Wg(t)}function qg(t,i,o){return o(function(){Bg(i)&&Wg(t)})}function Bg(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Nn(t,o)}catch{return!0}}function Wg(t){var i=Oo(t,2);i!==null&&Ln(i,t,2)}function Lf(t){var i=wn();if(typeof t=="function"){var o=t;if(t=o(),Ba){Qt(!0);try{o()}finally{Qt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},i}function Qg(t,i,o,l){return t.baseState=o,Af(t,nt,typeof l=="function"?l:ti)}function pk(t,i,o,l,h){if(Yu(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){d.listeners.push(w)}};K.T!==null?o(!0):d.isTransition=!1,l(d),o=i.pending,o===null?(d.next=i.pending=d,Hg(i,d)):(d.next=o.next,i.pending=o.next=d)}}function Hg(t,i){var o=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,w={};K.T=w;try{var x=o(h,l),I=K.S;I!==null&&I(w,x),Kg(t,i,x)}catch(B){Mf(t,i,B)}finally{K.T=d}}else try{d=o(h,l),Kg(t,i,d)}catch(B){Mf(t,i,B)}}function Kg(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Yg(t,i,l)},function(l){return Mf(t,i,l)}):Yg(t,i,o)}function Yg(t,i,o){i.status="fulfilled",i.value=o,Gg(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Hg(t,o)))}function Mf(t,i,o){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,Gg(i),i=i.next;while(i!==l)}t.action=null}function Gg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xg(t,i){return i}function Jg(t,i){if(Qe){var o=lt.formState;if(o!==null){e:{var l=Ne;if(Qe){if(St){t:{for(var h=St,d=_r;h.nodeType!==8;){if(!d){h=null;break t}if(h=ur(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){St=ur(h.nextSibling),l=h.data==="F!";break e}}Ua(l)}l=!1}l&&(i=o[0])}}return o=wn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},o.queue=l,o=yy.bind(null,Ne,l),l.dispatch=o,l=Lf(!1),d=Vf.bind(null,Ne,!1,l.queue),l=wn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,o=pk.bind(null,Ne,h,d,o),h.dispatch=o,l.memoizedState=t,[i,o,!1]}function Zg(t){var i=Nt();return ey(i,nt,t)}function ey(t,i,o){if(i=Af(t,i,Xg)[0],t=Qu(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=tl(i)}catch(w){throw w===Ys?Uu:w}else l=i;i=Nt();var h=i.queue,d=h.dispatch;return o!==i.memoizedState&&(Ne.flags|=2048,zo(9,Hu(),mk.bind(null,h,o),null)),[l,d,t]}function mk(t,i){t.action=i}function ty(t){var i=Nt(),o=nt;if(o!==null)return ey(i,o,t);Nt(),i=i.memoizedState,o=Nt();var l=o.queue.dispatch;return o.memoizedState=t,[i,l,!1]}function zo(t,i,o,l){return t={tag:t,create:o,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=If(),Ne.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,i.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function ny(){return Nt().memoizedState}function Ku(t,i,o,l){var h=wn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=zo(1|i,Hu(),o,l)}function nl(t,i,o,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Cf(l,nt.memoizedState.deps)?h.memoizedState=zo(i,d,o,l):(Ne.flags|=t,h.memoizedState=zo(1|i,d,o,l))}function ry(t,i){Ku(8390656,8,t,i)}function iy(t,i){nl(2048,8,t,i)}function ay(t,i){return nl(4,2,t,i)}function oy(t,i){return nl(4,4,t,i)}function sy(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ly(t,i,o){o=o!=null?o.concat([t]):null,nl(4,4,sy.bind(null,i,t),o)}function Ff(){}function uy(t,i){var o=Nt();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&Cf(i,l[1])?l[0]:(o.memoizedState=[t,i],t)}function cy(t,i){var o=Nt();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&Cf(i,l[1]))return l[0];if(l=t(),Ba){Qt(!0);try{t()}finally{Qt(!1)}}return o.memoizedState=[l,i],l}function jf(t,i,o){return o===void 0||(Ri&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=dv(),Ne.lanes|=t,zi|=t,o)}function hy(t,i,o,l){return Nn(o,i)?o:Mo.current!==null?(t=jf(t,o,l),Nn(t,i)||($t=!0),t):(Ri&42)===0?($t=!0,t.memoizedState=o):(t=dv(),Ne.lanes|=t,zi|=t,i)}function fy(t,i,o,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var w=K.T,x={};K.T=x,Vf(t,!1,i,o);try{var I=h(),B=K.S;if(B!==null&&B(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=hk(I,l);rl(t,i,G,Pn(t))}else rl(t,i,l,Pn(t))}catch(Z){rl(t,i,{then:function(){},status:"rejected",reason:Z},Pn())}finally{le.p=d,K.T=w}}function gk(){}function zf(t,i,o,l){if(t.tag!==5)throw Error(a(476));var h=dy(t).queue;fy(t,h,i,pe,o===null?gk:function(){return py(t),o(l)})}function dy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:pe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function py(t){var i=dy(t).next.queue;rl(t,i,{},Pn())}function Uf(){return on(Sl)}function my(){return Nt().memoizedState}function gy(){return Nt().memoizedState}function yk(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Pn();t=Oi(o);var l=Ii(i,t,o);l!==null&&(Ln(l,i,o),Xs(l,i,o)),i={cache:gf()},t.payload=i;return}i=i.return}}function vk(t,i,o){var l=Pn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(t)?vy(i,o):(o=of(t,i,o,l),o!==null&&(Ln(o,t,l),by(o,i,l)))}function yy(t,i,o){var l=Pn();rl(t,i,o,l)}function rl(t,i,o,l){var h={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var w=i.lastRenderedState,x=d(w,o);if(h.hasEagerState=!0,h.eagerState=x,Nn(x,w))return Ru(t,i,h,0),lt===null&&Iu(),!1}catch{}finally{}if(o=of(t,i,h,l),o!==null)return Ln(o,t,l),by(o,i,l),!0}return!1}function Vf(t,i,o,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(i)throw Error(a(479))}else i=of(t,o,l,2),i!==null&&Ln(i,t,2)}function Yu(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function vy(t,i){Fo=qu=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function by(t,i,o){if((o&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,o|=l,i.lanes=o,Ge(t,o)}}var Gu={readContext:on,use:Wu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},wy={readContext:on,use:Wu,useCallback:function(t,i){return wn().memoizedState=[t,i===void 0?null:i],t},useContext:on,useEffect:ry,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,Ku(4194308,4,sy.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Ku(4194308,4,t,i)},useInsertionEffect:function(t,i){Ku(4,2,t,i)},useMemo:function(t,i){var o=wn();i=i===void 0?null:i;var l=t();if(Ba){Qt(!0);try{t()}finally{Qt(!1)}}return o.memoizedState=[l,i],l},useReducer:function(t,i,o){var l=wn();if(o!==void 0){var h=o(i);if(Ba){Qt(!0);try{o(i)}finally{Qt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=vk.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=wn();return t={current:t},i.memoizedState=t},useState:function(t){t=Lf(t);var i=t.queue,o=yy.bind(null,Ne,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Ff,useDeferredValue:function(t,i){var o=wn();return jf(o,t,i)},useTransition:function(){var t=Lf(!1);return t=fy.bind(null,Ne,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var l=Ne,h=wn();if(Qe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),lt===null)throw Error(a(349));(Fe&124)!==0||Vg(l,i,o)}h.memoizedState=o;var d={value:o,getSnapshot:i};return h.queue=d,ry(qg.bind(null,l,d,t),[t]),l.flags|=2048,zo(9,Hu(),$g.bind(null,l,d,o,i),null),o},useId:function(){var t=wn(),i=lt.identifierPrefix;if(Qe){var o=Jr,l=Xr;o=(l&~(1<<32-Rt(l)-1)).toString(32)+o,i=""+i+"R"+o,o=Bu++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=fk++,i=""+i+"r"+o.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Uf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t){var i=wn();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Vf.bind(null,Ne,!0,o),o.dispatch=i,[t,i]},useMemoCache:Rf,useCacheRefresh:function(){return wn().memoizedState=yk.bind(null,Ne)}},Sy={readContext:on,use:Wu,useCallback:uy,useContext:on,useEffect:iy,useImperativeHandle:ly,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:cy,useReducer:Qu,useRef:ny,useState:function(){return Qu(ti)},useDebugValue:Ff,useDeferredValue:function(t,i){var o=Nt();return hy(o,nt.memoizedState,t,i)},useTransition:function(){var t=Qu(ti)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Ug,useId:my,useHostTransitionStatus:Uf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,i){var o=Nt();return Qg(o,nt,t,i)},useMemoCache:Rf,useCacheRefresh:gy},bk={readContext:on,use:Wu,useCallback:uy,useContext:on,useEffect:iy,useImperativeHandle:ly,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:cy,useReducer:Pf,useRef:ny,useState:function(){return Pf(ti)},useDebugValue:Ff,useDeferredValue:function(t,i){var o=Nt();return nt===null?jf(o,t,i):hy(o,nt.memoizedState,t,i)},useTransition:function(){var t=Pf(ti)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:Ug,useId:my,useHostTransitionStatus:Uf,useFormState:ty,useActionState:ty,useOptimistic:function(t,i){var o=Nt();return nt!==null?Qg(o,nt,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:gy},Uo=null,il=0;function Xu(t){var i=il;return il+=1,Uo===null&&(Uo=[]),Rg(Uo,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ju(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ky(t){var i=t._init;return i(t._payload)}function xy(t){function i(V,F){if(t){var q=V.deletions;q===null?(V.deletions=[F],V.flags|=16):q.push(F)}}function o(V,F){if(!t)return null;for(;F!==null;)i(V,F),F=F.sibling;return null}function l(V){for(var F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function h(V,F){return V=Gr(V,F),V.index=0,V.sibling=null,V}function d(V,F,q){return V.index=q,t?(q=V.alternate,q!==null?(q=q.index,q<F?(V.flags|=67108866,F):q):(V.flags|=67108866,F)):(V.flags|=1048576,F)}function w(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function x(V,F,q,X){return F===null||F.tag!==6?(F=lf(q,V.mode,X),F.return=V,F):(F=h(F,q),F.return=V,F)}function I(V,F,q,X){var de=q.type;return de===_?G(V,F,q.props.children,X,q.key):F!==null&&(F.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===E&&ky(de)===F.type)?(F=h(F,q.props),al(F,q),F.return=V,F):(F=Pu(q.type,q.key,q.props,null,V.mode,X),al(F,q),F.return=V,F)}function B(V,F,q,X){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=uf(q,V.mode,X),F.return=V,F):(F=h(F,q.children||[]),F.return=V,F)}function G(V,F,q,X,de){return F===null||F.tag!==7?(F=Ma(q,V.mode,X,de),F.return=V,F):(F=h(F,q),F.return=V,F)}function Z(V,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=lf(""+F,V.mode,q),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case k:return q=Pu(F.type,F.key,F.props,null,V.mode,q),al(q,F),q.return=V,q;case R:return F=uf(F,V.mode,q),F.return=V,F;case E:var X=F._init;return F=X(F._payload),Z(V,F,q)}if(et(F)||j(F))return F=Ma(F,V.mode,q,null),F.return=V,F;if(typeof F.then=="function")return Z(V,Xu(F),q);if(F.$$typeof===ie)return Z(V,ju(V,F),q);Ju(V,F)}return null}function Q(V,F,q,X){var de=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:x(V,F,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case k:return q.key===de?I(V,F,q,X):null;case R:return q.key===de?B(V,F,q,X):null;case E:return de=q._init,q=de(q._payload),Q(V,F,q,X)}if(et(q)||j(q))return de!==null?null:G(V,F,q,X,null);if(typeof q.then=="function")return Q(V,F,Xu(q),X);if(q.$$typeof===ie)return Q(V,F,ju(V,q),X);Ju(V,q)}return null}function H(V,F,q,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(q)||null,x(F,V,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return V=V.get(X.key===null?q:X.key)||null,I(F,V,X,de);case R:return V=V.get(X.key===null?q:X.key)||null,B(F,V,X,de);case E:var Ie=X._init;return X=Ie(X._payload),H(V,F,q,X,de)}if(et(X)||j(X))return V=V.get(q)||null,G(F,V,X,de,null);if(typeof X.then=="function")return H(V,F,q,Xu(X),de);if(X.$$typeof===ie)return H(V,F,q,ju(F,X),de);Ju(F,X)}return null}function ke(V,F,q,X){for(var de=null,Ie=null,ge=F,Se=F=0,Bt=null;ge!==null&&Se<q.length;Se++){ge.index>Se?(Bt=ge,ge=null):Bt=ge.sibling;var qe=Q(V,ge,q[Se],X);if(qe===null){ge===null&&(ge=Bt);break}t&&ge&&qe.alternate===null&&i(V,ge),F=d(qe,F,Se),Ie===null?de=qe:Ie.sibling=qe,Ie=qe,ge=Bt}if(Se===q.length)return o(V,ge),Qe&&ja(V,Se),de;if(ge===null){for(;Se<q.length;Se++)ge=Z(V,q[Se],X),ge!==null&&(F=d(ge,F,Se),Ie===null?de=ge:Ie.sibling=ge,Ie=ge);return Qe&&ja(V,Se),de}for(ge=l(ge);Se<q.length;Se++)Bt=H(ge,V,Se,q[Se],X),Bt!==null&&(t&&Bt.alternate!==null&&ge.delete(Bt.key===null?Se:Bt.key),F=d(Bt,F,Se),Ie===null?de=Bt:Ie.sibling=Bt,Ie=Bt);return t&&ge.forEach(function(Ki){return i(V,Ki)}),Qe&&ja(V,Se),de}function we(V,F,q,X){if(q==null)throw Error(a(151));for(var de=null,Ie=null,ge=F,Se=F=0,Bt=null,qe=q.next();ge!==null&&!qe.done;Se++,qe=q.next()){ge.index>Se?(Bt=ge,ge=null):Bt=ge.sibling;var Ki=Q(V,ge,qe.value,X);if(Ki===null){ge===null&&(ge=Bt);break}t&&ge&&Ki.alternate===null&&i(V,ge),F=d(Ki,F,Se),Ie===null?de=Ki:Ie.sibling=Ki,Ie=Ki,ge=Bt}if(qe.done)return o(V,ge),Qe&&ja(V,Se),de;if(ge===null){for(;!qe.done;Se++,qe=q.next())qe=Z(V,qe.value,X),qe!==null&&(F=d(qe,F,Se),Ie===null?de=qe:Ie.sibling=qe,Ie=qe);return Qe&&ja(V,Se),de}for(ge=l(ge);!qe.done;Se++,qe=q.next())qe=H(ge,V,Se,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Se:qe.key),F=d(qe,F,Se),Ie===null?de=qe:Ie.sibling=qe,Ie=qe);return t&&ge.forEach(function(wx){return i(V,wx)}),Qe&&ja(V,Se),de}function it(V,F,q,X){if(typeof q=="object"&&q!==null&&q.type===_&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case k:e:{for(var de=q.key;F!==null;){if(F.key===de){if(de=q.type,de===_){if(F.tag===7){o(V,F.sibling),X=h(F,q.props.children),X.return=V,V=X;break e}}else if(F.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===E&&ky(de)===F.type){o(V,F.sibling),X=h(F,q.props),al(X,q),X.return=V,V=X;break e}o(V,F);break}else i(V,F);F=F.sibling}q.type===_?(X=Ma(q.props.children,V.mode,X,q.key),X.return=V,V=X):(X=Pu(q.type,q.key,q.props,null,V.mode,X),al(X,q),X.return=V,V=X)}return w(V);case R:e:{for(de=q.key;F!==null;){if(F.key===de)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){o(V,F.sibling),X=h(F,q.children||[]),X.return=V,V=X;break e}else{o(V,F);break}else i(V,F);F=F.sibling}X=uf(q,V.mode,X),X.return=V,V=X}return w(V);case E:return de=q._init,q=de(q._payload),it(V,F,q,X)}if(et(q))return ke(V,F,q,X);if(j(q)){if(de=j(q),typeof de!="function")throw Error(a(150));return q=de.call(q),we(V,F,q,X)}if(typeof q.then=="function")return it(V,F,Xu(q),X);if(q.$$typeof===ie)return it(V,F,ju(V,q),X);Ju(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(o(V,F.sibling),X=h(F,q),X.return=V,V=X):(o(V,F),X=lf(q,V.mode,X),X.return=V,V=X),w(V)):o(V,F)}return function(V,F,q,X){try{il=0;var de=it(V,F,q,X);return Uo=null,de}catch(ge){if(ge===Ys||ge===Uu)throw ge;var Ie=On(29,ge,null,V.mode);return Ie.lanes=X,Ie.return=V,Ie}finally{}}}var Vo=xy(!0),Ty=xy(!1),Xn=te(null),ni=null;function Ai(t){var i=t.alternate;re(Ft,Ft.current&1),re(Xn,t),ni===null&&(i===null||Mo.current!==null||i.memoizedState!==null)&&(ni=t)}function Ey(t){if(t.tag===22){if(re(Ft,Ft.current),re(Xn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else Pi()}function Pi(){re(Ft,Ft.current),re(Xn,Xn.current)}function ri(t){se(Xn),ni===t&&(ni=null),se(Ft)}var Ft=te(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Id(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function $f(t,i,o,l){i=t.memoizedState,o=o(l,i),o=o==null?i:v({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var qf={enqueueSetState:function(t,i,o){t=t._reactInternals;var l=Pn(),h=Oi(l);h.payload=i,o!=null&&(h.callback=o),i=Ii(t,h,l),i!==null&&(Ln(i,t,l),Xs(i,t,l))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var l=Pn(),h=Oi(l);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=Ii(t,h,l),i!==null&&(Ln(i,t,l),Xs(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Pn(),l=Oi(o);l.tag=2,i!=null&&(l.callback=i),i=Ii(t,l,o),i!==null&&(Ln(i,t,o),Xs(i,t,o))}};function Cy(t,i,o,l,h,d,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,w):i.prototype&&i.prototype.isPureReactComponent?!Vs(o,l)||!Vs(h,d):!0}function _y(t,i,o,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function Wa(t,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(t=t.defaultProps){o===i&&(o=v({},o));for(var h in t)o[h]===void 0&&(o[h]=t[h])}return o}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Dy(t){ec(t)}function Ny(t){console.error(t)}function Oy(t){ec(t)}function tc(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,i,o){try{var l=t.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,i,o){return o=Oi(o),o.tag=3,o.payload={element:null},o.callback=function(){tc(t,i)},o}function Ry(t){return t=Oi(t),t.tag=3,t}function Ay(t,i,o,l){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Iy(i,o,l)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Iy(i,o,l),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function wk(t,i,o,l,h){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Qs(i,o,h,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return ni===null?pd():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,l===bf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),gd(t,l,h)),!1;case 22:return o.flags|=65536,l===bf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),gd(t,l,h)),!1}throw Error(a(435,o.tag))}return gd(t,l,h),pd(),!1}if(Qe)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(t=Error(a(422),{cause:l}),Ws(Hn(t,o)))):(l!==ff&&(i=Error(a(423),{cause:l}),Ws(Hn(i,o))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,o),h=Bf(t.stateNode,l,h),kf(t,h),kt!==4&&(kt=2)),!1;var d=Error(a(520),{cause:l});if(d=Hn(d,o),fl===null?fl=[d]:fl.push(d),kt!==4&&(kt=2),i===null)return!0;l=Hn(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=h&-h,o.lanes|=t,t=Bf(o.stateNode,l,t),kf(o,t),!1;case 1:if(i=o.type,d=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ui===null||!Ui.has(d))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Ry(h),Ay(h,t,o,l),kf(o,h),!1}o=o.return}while(o!==null);return!1}var Py=Error(a(461)),$t=!1;function Xt(t,i,o,l){i.child=t===null?Ty(i,null,o,l):Vo(i,t.child,o,l)}function Ly(t,i,o,l,h){o=o.render;var d=i.ref;if("ref"in l){var w={};for(var x in l)x!=="ref"&&(w[x]=l[x])}else w=l;return $a(i),l=_f(t,i,o,w,d,h),x=Df(),t!==null&&!$t?(Nf(t,i,h),ii(t,i,h)):(Qe&&x&&cf(i),i.flags|=1,Xt(t,i,l,h),i.child)}function My(t,i,o,l,h){if(t===null){var d=o.type;return typeof d=="function"&&!sf(d)&&d.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=d,Fy(t,i,d,l,h)):(t=Pu(o.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Jf(t,h)){var w=d.memoizedProps;if(o=o.compare,o=o!==null?o:Vs,o(w,l)&&t.ref===i.ref)return ii(t,i,h)}return i.flags|=1,t=Gr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Fy(t,i,o,l,h){if(t!==null){var d=t.memoizedProps;if(Vs(d,l)&&t.ref===i.ref)if($t=!1,i.pendingProps=l=d,Jf(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,ii(t,i,h)}return Wf(t,i,o,l,h)}function jy(t,i,o){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|o:o,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return zy(t,i,l,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):Tf(),Ey(i);else return i.lanes=i.childLanes=536870912,zy(t,i,d!==null?d.baseLanes|o:o,o)}else d!==null?(zu(i,d.cachePool),Fg(i,d),Pi(),i.memoizedState=null):(t!==null&&zu(i,null),Tf(),Pi());return Xt(t,i,h,o),i.child}function zy(t,i,o,l){var h=vf();return h=h===null?null:{parent:Mt._currentValue,pool:h},i.memoizedState={baseLanes:o,cachePool:h},t!==null&&zu(i,null),Tf(),Ey(i),t!==null&&Qs(t,i,l,!0),null}function nc(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Wf(t,i,o,l,h){return $a(i),o=_f(t,i,o,l,void 0,h),l=Df(),t!==null&&!$t?(Nf(t,i,h),ii(t,i,h)):(Qe&&l&&cf(i),i.flags|=1,Xt(t,i,o,h),i.child)}function Uy(t,i,o,l,h,d){return $a(i),i.updateQueue=null,o=zg(i,l,o,h),jg(t),l=Df(),t!==null&&!$t?(Nf(t,i,d),ii(t,i,d)):(Qe&&l&&cf(i),i.flags|=1,Xt(t,i,o,d),i.child)}function Vy(t,i,o,l,h){if($a(i),i.stateNode===null){var d=Io,w=o.contextType;typeof w=="object"&&w!==null&&(d=on(w)),d=new o(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),w=o.contextType,d.context=typeof w=="object"&&w!==null?on(w):Io,d.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&($f(i,o,w,l),d.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(w=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),w!==d.state&&qf.enqueueReplaceState(d,d.state,null),Zs(i,l,d,h),Js(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var x=i.memoizedProps,I=Wa(o,x);d.props=I;var B=d.context,G=o.contextType;w=Io,typeof G=="object"&&G!==null&&(w=on(G));var Z=o.getDerivedStateFromProps;G=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||B!==w)&&_y(i,d,l,w),Ni=!1;var Q=i.memoizedState;d.state=Q,Zs(i,l,d,h),Js(),B=i.memoizedState,x||Q!==B||Ni?(typeof Z=="function"&&($f(i,o,Z,l),B=i.memoizedState),(I=Ni||Cy(i,o,I,l,Q,B,w))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=w,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Sf(t,i),w=i.memoizedProps,G=Wa(o,w),d.props=G,Z=i.pendingProps,Q=d.context,B=o.contextType,I=Io,typeof B=="object"&&B!==null&&(I=on(B)),x=o.getDerivedStateFromProps,(B=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w!==Z||Q!==I)&&_y(i,d,l,I),Ni=!1,Q=i.memoizedState,d.state=Q,Zs(i,l,d,h),Js();var H=i.memoizedState;w!==Z||Q!==H||Ni||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof x=="function"&&($f(i,o,x,l),H=i.memoizedState),(G=Ni||Cy(i,o,G,l,Q,H,I)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||w===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||w===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,nc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vo(i,t.child,null,h),i.child=Vo(i,null,o,h)):Xt(t,i,o,h),i.memoizedState=d.state,t=i.child):t=ii(t,i,h),t}function $y(t,i,o,l){return Bs(),i.flags|=256,Xt(t,i,o,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Ng()}}function Kf(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Jn),t}function qy(t,i,o){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,w;if((w=d)||(w=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(h?Ai(i):Pi(),Qe){var x=St,I;if(I=x){e:{for(I=x,x=_r;I.nodeType!==8;){if(!x){x=null;break e}if(I=ur(I.nextSibling),I===null){x=null;break e}}x=I}x!==null?(i.memoizedState={dehydrated:x,treeContext:Fa!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},I=On(18,null,null,0),I.stateNode=x,I.return=i,i.child=I,gn=i,St=null,I=!0):I=!1}I||Ua(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Id(x)?i.lanes=32:i.lanes=536870912,null;ri(i)}return x=l.children,l=l.fallback,h?(Pi(),h=i.mode,x=rc({mode:"hidden",children:x},h),l=Ma(l,h,o,null),x.return=i,l.return=i,x.sibling=l,i.child=x,h=i.child,h.memoizedState=Hf(o),h.childLanes=Kf(t,w,o),i.memoizedState=Qf,l):(Ai(i),Yf(i,x))}if(I=t.memoizedState,I!==null&&(x=I.dehydrated,x!==null)){if(d)i.flags&256?(Ai(i),i.flags&=-257,i=Gf(t,i,o)):i.memoizedState!==null?(Pi(),i.child=t.child,i.flags|=128,i=null):(Pi(),h=l.fallback,x=i.mode,l=rc({mode:"visible",children:l.children},x),h=Ma(h,x,o,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Vo(i,t.child,null,o),l=i.child,l.memoizedState=Hf(o),l.childLanes=Kf(t,w,o),i.memoizedState=Qf,i=h);else if(Ai(i),Id(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var B=w.dgst;w=B,l=Error(a(419)),l.stack="",l.digest=w,Ws({value:l,source:null,stack:null}),i=Gf(t,i,o)}else if($t||Qs(t,i,o,!1),w=(o&t.childLanes)!==0,$t||w){if(w=lt,w!==null&&(l=o&-o,l=(l&42)!==0?1:At(l),l=(l&(w.suspendedLanes|o))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Oo(t,l),Ln(w,t,l),Py;x.data==="$?"||pd(),i=Gf(t,i,o)}else x.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,St=ur(x.nextSibling),gn=i,Qe=!0,za=null,_r=!1,t!==null&&(Yn[Gn++]=Xr,Yn[Gn++]=Jr,Yn[Gn++]=Fa,Xr=t.id,Jr=t.overflow,Fa=i),i=Yf(i,l.children),i.flags|=4096);return i}return h?(Pi(),h=l.fallback,x=i.mode,I=t.child,B=I.sibling,l=Gr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Gr(B,h):(h=Ma(h,x,o,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,x=t.child.memoizedState,x===null?x=Hf(o):(I=x.cachePool,I!==null?(B=Mt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Ng(),x={baseLanes:x.baseLanes|o,cachePool:I}),h.memoizedState=x,h.childLanes=Kf(t,w,o),i.memoizedState=Qf,l):(Ai(i),o=t.child,t=o.sibling,o=Gr(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=o,i.memoizedState=null,o)}function Yf(t,i){return i=rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function rc(t,i){return t=On(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Gf(t,i,o){return Vo(i,t.child,null,o),t=Yf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function By(t,i,o){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),pf(t.return,i,o)}function Xf(t,i,o,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=o,d.tailMode=h)}function Wy(t,i,o){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Xt(t,i,l.children,o),l=Ft.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,o,i);else if(t.tag===19)By(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Ft,l),h){case"forwards":for(o=i.child,h=null;o!==null;)t=o.alternate,t!==null&&Zu(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),Xf(i,!1,h,o,d);break;case"backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Xf(i,!0,o,null,d);break;case"together":Xf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ii(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),zi|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Qs(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Gr(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Gr(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Sk(t,i,o){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),Di(i,Mt,t.memoizedState.cache),Bs();break;case 27:case 5:Fn(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:Di(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(i),i.flags|=128,null):(o&i.child.childLanes)!==0?qy(t,i,o):(Ai(i),t=ii(t,i,o),t!==null?t.sibling:null);Ai(i);break;case 19:var h=(t.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Qs(t,i,o,!1),l=(o&i.childLanes)!==0),h){if(l)return Wy(t,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ft,Ft.current),l)break;return null;case 22:case 23:return i.lanes=0,jy(t,i,o);case 24:Di(i,Mt,t.memoizedState.cache)}return ii(t,i,o)}function Qy(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!Jf(t,o)&&(i.flags&128)===0)return $t=!1,Sk(t,i,o);$t=(t.flags&131072)!==0}else $t=!1,Qe&&(i.flags&1048576)!==0&&kg(i,Mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")sf(l)?(t=Wa(l,t),i.tag=1,i=Vy(null,i,l,t,o)):(i.tag=0,i=Wf(null,i,l,t,o));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=Ly(null,i,l,t,o);break e}else if(h===A){i.tag=14,i=My(null,i,l,t,o);break e}}throw i=Ye(l)||l,Error(a(306,i,""))}}return i;case 0:return Wf(t,i,i.type,i.pendingProps,o);case 1:return l=i.type,h=Wa(l,i.pendingProps),Vy(t,i,l,h,o);case 3:e:{if(Me(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(t,i),Zs(i,l,null,o);var w=i.memoizedState;if(l=w.cache,Di(i,Mt,l),l!==d.cache&&mf(i,[Mt],o,!0),Js(),l=w.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$y(t,i,l,o);break e}else if(l!==h){h=Hn(Error(a(424)),i),Ws(h),i=$y(t,i,l,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ur(t.firstChild),gn=i,Qe=!0,za=null,_r=!0,o=Ty(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bs(),l===h){i=ii(t,i,o);break e}Xt(t,i,l,o)}i=i.child}return i;case 26:return nc(t,i),t===null?(o=Gv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Qe||(o=i.type,t=i.pendingProps,l=yc(ve.current).createElement(o),l[vt]=i,l[ct]=t,Zt(l,o,t),Ve(l),i.stateNode=l):i.memoizedState=Gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Fn(i),t===null&&Qe&&(l=i.stateNode=Hv(i.type,i.pendingProps,ve.current),gn=i,_r=!0,h=St,qi(i.type)?(Rd=h,St=ur(l.firstChild)):St=h),Xt(t,i,i.pendingProps.children,o),nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((h=l=St)&&(l=Yk(l,i.type,i.pendingProps,_r),l!==null?(i.stateNode=l,gn=i,St=ur(l.firstChild),_r=!1,h=!0):h=!1),h||Ua(i)),Fn(i),h=i.type,d=i.pendingProps,w=t!==null?t.memoizedProps:null,l=d.children,Dd(h,d)?l=null:w!==null&&Dd(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=_f(t,i,dk,null,null,o),Sl._currentValue=h),nc(t,i),Xt(t,i,l,o),i.child;case 6:return t===null&&Qe&&((t=o=St)&&(o=Gk(o,i.pendingProps,_r),o!==null?(i.stateNode=o,gn=i,St=null,t=!0):t=!1),t||Ua(i)),null;case 13:return qy(t,i,o);case 4:return Me(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vo(i,null,l,o):Xt(t,i,l,o),i.child;case 11:return Ly(t,i,i.type,i.pendingProps,o);case 7:return Xt(t,i,i.pendingProps,o),i.child;case 8:return Xt(t,i,i.pendingProps.children,o),i.child;case 12:return Xt(t,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,Di(i,i.type,l.value),Xt(t,i,l.children,o),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,$a(i),h=on(h),l=l(h),i.flags|=1,Xt(t,i,l,o),i.child;case 14:return My(t,i,i.type,i.pendingProps,o);case 15:return Fy(t,i,i.type,i.pendingProps,o);case 19:return Wy(t,i,o);case 31:return l=i.pendingProps,o=i.mode,l={mode:l.mode,children:l.children},t===null?(o=rc(l,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Gr(t.child,l),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return jy(t,i,o);case 24:return $a(i),l=on(Mt),t===null?(h=vf(),h===null&&(h=lt,d=gf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=o),h=d),i.memoizedState={parent:l,cache:h},wf(i),Di(i,Mt,h)):((t.lanes&o)!==0&&(Sf(t,i),Zs(i,null,null,o),Js()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Di(i,Mt,l)):(l=d.cache,Di(i,Mt,l),l!==h.cache&&mf(i,[Mt],o,!0))),Xt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ai(t){t.flags|=4}function Hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tb(i)){if(i=Xn.current,i!==null&&((Fe&4194048)===Fe?ni!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||i!==ni))throw Gs=bf,Og;t.flags|=8192}}function ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?va():536870912,t.lanes|=i,Wo|=i)}function ol(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(i)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=o,i}function kk(t,i,o){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return o=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ei(Mt),vn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(qs(i)?ai(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Eg())),bt(i),null;case 26:return o=i.memoizedState,t===null?(ai(i),o!==null?(bt(i),Hy(i,o)):(bt(i),i.flags&=-16777217)):o?o!==t.memoizedState?(ai(i),bt(i),Hy(i,o)):(bt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ai(i),bt(i),i.flags&=-16777217),null;case 27:Cn(i),o=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ai(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return bt(i),null}t=me.current,qs(i)?xg(i):(t=Hv(h,l,o),i.stateNode=t,ai(i))}return bt(i),null;case 5:if(Cn(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ai(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return bt(i),null}if(t=me.current,qs(i))xg(i);else{switch(h=yc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(o,{is:l.is}):h.createElement(o)}}t[vt]=i,t[ct]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Zt(t,o,l),o){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ai(i)}}return bt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ai(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=ve.current,qs(i)){if(t=i.stateNode,o=i.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||Uv(t.nodeValue,o)),t||Ua(i)}else t=yc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return bt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=qs(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),h=!1}else h=Eg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ri(i),i):(ri(i),null)}if(ri(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=l!==null,t=t!==null&&t.memoizedState!==null,o){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),ic(i,i.updateQueue),bt(i),null;case 4:return vn(),t===null&&xd(i.stateNode.containerInfo),bt(i),null;case 10:return ei(i.type),bt(i),null;case 19:if(se(Ft),h=i.memoizedState,h===null)return bt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,ol(h,!1),t=d.updateQueue,i.updateQueue=t,ic(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Sg(o,t),o=o.sibling;return re(Ft,Ft.current&1|2),i.child}t=t.sibling}h.tail!==null&&fn()>sc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=Zu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ic(i,t),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qe)return bt(i),null}else 2*fn()-h.renderingStartTime>sc&&o!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=fn(),i.sibling=null,t=Ft.current,re(Ft,l?t&1|2:t&1),i):(bt(i),null);case 22:case 23:return ri(i),Ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),o=i.updateQueue,o!==null&&ic(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),t!==null&&se(qa),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ei(Mt),bt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function xk(t,i){switch(hf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ei(Mt),vn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Cn(i),null;case 13:if(ri(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Ft),null;case 4:return vn(),null;case 10:return ei(i.type),null;case 22:case 23:return ri(i),Ef(),t!==null&&se(qa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ei(Mt),null;case 25:return null;default:return null}}function Ky(t,i){switch(hf(i),i.tag){case 3:ei(Mt),vn();break;case 26:case 27:case 5:Cn(i);break;case 4:vn();break;case 13:ri(i);break;case 19:se(Ft);break;case 10:ei(i.type);break;case 22:case 23:ri(i),Ef(),t!==null&&se(qa);break;case 24:ei(Mt)}}function sl(t,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var h=l.next;o=h;do{if((o.tag&t)===t){l=void 0;var d=o.create,w=o.inst;l=d(),w.destroy=l}o=o.next}while(o!==h)}}catch(x){st(i,i.return,x)}}function Li(t,i,o){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var w=l.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,h=i;var I=o,B=x;try{B()}catch(G){st(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){st(i,i.return,G)}}function Yy(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{Mg(i,o)}catch(l){st(t,t.return,l)}}}function Gy(t,i,o){o.props=Wa(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(l){st(t,i,l)}}function ll(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof o=="function"?t.refCleanup=o(l):o.current=l}}catch(h){st(t,i,h)}}function Dr(t,i){var o=t.ref,l=t.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(h){st(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){st(t,i,h)}else o.current=null}function Xy(t){var i=t.type,o=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(h){st(t,t.return,h)}}function Zf(t,i,o){try{var l=t.stateNode;Bk(l,t.type,o,i),l[ct]=i}catch(h){st(t,t.return,h)}}function Jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qi(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,i,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=gc));else if(l!==4&&(l===27&&qi(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(td(t,i,o),t=t.sibling;t!==null;)td(t,i,o),t=t.sibling}function ac(t,i,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(l!==4&&(l===27&&qi(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(ac(t,i,o),t=t.sibling;t!==null;)ac(t,i,o),t=t.sibling}function Zy(t){var i=t.stateNode,o=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zt(i,l,o),i[vt]=t,i[ct]=o}catch(d){st(t,t.return,d)}}var oi=!1,Et=!1,nd=!1,ev=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Tk(t,i){if(t=t.containerInfo,Cd=xc,t=hg(t),Zh(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var w=0,x=-1,I=-1,B=0,G=0,Z=t,Q=null;t:for(;;){for(var H;Z!==o||h!==0&&Z.nodeType!==3||(x=w+h),Z!==d||l!==0&&Z.nodeType!==3||(I=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(H=Z.firstChild)!==null;)Q=Z,Z=H;for(;;){if(Z===t)break t;if(Q===o&&++B===h&&(x=w),Q===d&&++G===l&&(I=w),(H=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=H}o=x===-1||I===-1?null:{start:x,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(_d={focusedElem:t,selectionRange:o},xc=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,o=i,h=d.memoizedProps,d=d.memoizedState,l=o.stateNode;try{var ke=Wa(o.type,h,o.elementType===o.type);t=l.getSnapshotBeforeUpdate(ke,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){st(o,o.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Od(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function tv(t,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Mi(t,o),l&4&&sl(5,o);break;case 1:if(Mi(t,o),l&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(w){st(o,o.return,w)}else{var h=Wa(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){st(o,o.return,w)}}l&64&&Yy(o),l&512&&ll(o,o.return);break;case 3:if(Mi(t,o),l&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Mg(t,i)}catch(w){st(o,o.return,w)}}break;case 27:i===null&&l&4&&Zy(o);case 26:case 5:Mi(t,o),i===null&&l&4&&Xy(o),l&512&&ll(o,o.return);break;case 12:Mi(t,o);break;case 13:Mi(t,o),l&4&&iv(t,o),l&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Ak.bind(null,o),Xk(t,o))));break;case 22:if(l=o.memoizedState!==null||oi,!l){i=i!==null&&i.memoizedState!==null||Et,h=oi;var d=Et;oi=l,(Et=i)&&!d?Fi(t,o,(o.subtreeFlags&8772)!==0):Mi(t,o),oi=h,Et=d}break;case 30:break;default:Mi(t,o)}}function nv(t){var i=t.alternate;i!==null&&(t.alternate=null,nv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,Sn=!1;function si(t,i,o){for(o=o.child;o!==null;)rv(t,i,o),o=o.sibling}function rv(t,i,o){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(dt,o)}catch{}switch(o.tag){case 26:Et||Dr(o,i),si(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||Dr(o,i);var l=mt,h=Sn;qi(o.type)&&(mt=o.stateNode,Sn=!1),si(t,i,o),yl(o.stateNode),mt=l,Sn=h;break;case 5:Et||Dr(o,i);case 6:if(l=mt,h=Sn,mt=null,si(t,i,o),mt=l,Sn=h,mt!==null)if(Sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(d){st(o,i,d)}else try{mt.removeChild(o.stateNode)}catch(d){st(o,i,d)}break;case 18:mt!==null&&(Sn?(t=mt,Wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),El(t)):Wv(mt,o.stateNode));break;case 4:l=mt,h=Sn,mt=o.stateNode.containerInfo,Sn=!0,si(t,i,o),mt=l,Sn=h;break;case 0:case 11:case 14:case 15:Et||Li(2,o,i),Et||Li(4,o,i),si(t,i,o);break;case 1:Et||(Dr(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&Gy(o,i,l)),si(t,i,o);break;case 21:si(t,i,o);break;case 22:Et=(l=Et)||o.memoizedState!==null,si(t,i,o),Et=l;break;default:si(t,i,o)}}function iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(o){st(i,i.return,o)}}function Ek(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ev),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ev),i;default:throw Error(a(435,t.tag))}}function rd(t,i){var o=Ek(t);i.forEach(function(l){var h=Pk.bind(null,t,l);o.has(l)||(o.add(l),l.then(h,h))})}function In(t,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var h=o[l],d=t,w=i,x=w;e:for(;x!==null;){switch(x.tag){case 27:if(qi(x.type)){mt=x.stateNode,Sn=!1;break e}break;case 5:mt=x.stateNode,Sn=!1;break e;case 3:case 4:mt=x.stateNode.containerInfo,Sn=!0;break e}x=x.return}if(mt===null)throw Error(a(160));rv(d,w,h),mt=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)av(i,t),i=i.sibling}var lr=null;function av(t,i){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(i,t),Rn(t),l&4&&(Li(3,t,t.return),sl(3,t),Li(5,t,t.return));break;case 1:In(i,t),Rn(t),l&512&&(Et||o===null||Dr(o,o.return)),l&64&&oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var h=lr;if(In(i,t),Rn(t),l&512&&(Et||o===null||Dr(o,o.return)),l&4){var d=o!==null?o.memoizedState:null;if(l=t.memoizedState,o===null)if(l===null)if(t.stateNode===null){e:{l=t.type,o=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gr]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Zt(d,l,o),d[vt]=t,Ve(d),l=d;break e;case"link":var w=Zv("link","href",h).get(l+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(d=w[x],d.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&d.getAttribute("rel")===(o.rel==null?null:o.rel)&&d.getAttribute("title")===(o.title==null?null:o.title)&&d.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break t}}d=h.createElement(l),Zt(d,l,o),h.head.appendChild(d);break;case"meta":if(w=Zv("meta","content",h).get(l+(o.content||""))){for(x=0;x<w.length;x++)if(d=w[x],d.getAttribute("content")===(o.content==null?null:""+o.content)&&d.getAttribute("name")===(o.name==null?null:o.name)&&d.getAttribute("property")===(o.property==null?null:o.property)&&d.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&d.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break t}}d=h.createElement(l),Zt(d,l,o),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[vt]=t,Ve(d),l=d}t.stateNode=l}else eb(h,t.type,t.stateNode);else t.stateNode=Jv(h,l,t.memoizedProps);else d!==l?(d===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):d.count--,l===null?eb(h,t.type,t.stateNode):Jv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,o.memoizedProps)}break;case 27:In(i,t),Rn(t),l&512&&(Et||o===null||Dr(o,o.return)),o!==null&&l&4&&Zf(t,t.memoizedProps,o.memoizedProps);break;case 5:if(In(i,t),Rn(t),l&512&&(Et||o===null||Dr(o,o.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(H){st(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,o!==null?o.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(In(i,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,o=t.stateNode;try{o.nodeValue=l}catch(H){st(t,t.return,H)}}break;case 3:if(wc=null,h=lr,lr=vc(i.containerInfo),In(i,t),lr=h,Rn(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(H){st(t,t.return,H)}nd&&(nd=!1,ov(t));break;case 4:l=lr,lr=vc(t.stateNode.containerInfo),In(i,t),Rn(t),lr=l;break;case 12:In(i,t),Rn(t);break;case 13:In(i,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ud=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 22:h=t.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,B=oi,G=Et;if(oi=B||h,Et=G||I,In(i,t),Et=G,oi=B,Rn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||I||oi||Et||Qa(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){I=o=i;try{if(d=I.stateNode,h)w=d.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=I.stateNode;var Z=I.memoizedProps.style,Q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(H){st(I,I.return,H)}}}else if(i.tag===6){if(o===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){st(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,rd(t,o))));break;case 19:In(i,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rd(t,l)));break;case 30:break;case 21:break;default:In(i,t),Rn(t)}}function Rn(t){var i=t.flags;if(i&2){try{for(var o,l=t.return;l!==null;){if(Jy(l)){o=l;break}l=l.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,d=ed(t);ac(t,d,h);break;case 5:var w=o.stateNode;o.flags&32&&(qn(w,""),o.flags&=-33);var x=ed(t);ac(t,x,w);break;case 3:case 4:var I=o.stateNode.containerInfo,B=ed(t);td(t,B,I);break;default:throw Error(a(161))}}catch(G){st(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Mi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)tv(t,i.alternate,i),i=i.sibling}function Qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Li(4,i,i.return),Qa(i);break;case 1:Dr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Gy(i,i.return,o),Qa(i);break;case 27:yl(i.stateNode);case 26:case 5:Dr(i,i.return),Qa(i);break;case 22:i.memoizedState===null&&Qa(i);break;case 30:Qa(i);break;default:Qa(i)}t=t.sibling}}function Fi(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,w=d.flags;switch(d.tag){case 0:case 11:case 15:Fi(h,d,o),sl(4,d);break;case 1:if(Fi(h,d,o),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){st(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Lg(I[h],x)}catch(B){st(l,l.return,B)}}o&&w&64&&Yy(d),ll(d,d.return);break;case 27:Zy(d);case 26:case 5:Fi(h,d,o),o&&l===null&&w&4&&Xy(d),ll(d,d.return);break;case 12:Fi(h,d,o);break;case 13:Fi(h,d,o),o&&w&4&&iv(h,d);break;case 22:d.memoizedState===null&&Fi(h,d,o),ll(d,d.return);break;case 30:break;default:Fi(h,d,o)}i=i.sibling}}function id(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Hs(o))}function ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hs(t))}function Nr(t,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(t,i,o,l),i=i.sibling}function sv(t,i,o,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(t,i,o,l),h&2048&&sl(9,i);break;case 1:Nr(t,i,o,l);break;case 3:Nr(t,i,o,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hs(t)));break;case 12:if(h&2048){Nr(t,i,o,l),t=i.stateNode;try{var d=i.memoizedProps,w=d.id,x=d.onPostCommit;typeof x=="function"&&x(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){st(i,i.return,I)}}else Nr(t,i,o,l);break;case 13:Nr(t,i,o,l);break;case 23:break;case 22:d=i.stateNode,w=i.alternate,i.memoizedState!==null?d._visibility&2?Nr(t,i,o,l):ul(t,i):d._visibility&2?Nr(t,i,o,l):(d._visibility|=2,$o(t,i,o,l,(i.subtreeFlags&10256)!==0)),h&2048&&id(w,i);break;case 24:Nr(t,i,o,l),h&2048&&ad(i.alternate,i);break;default:Nr(t,i,o,l)}}function $o(t,i,o,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,w=i,x=o,I=l,B=w.flags;switch(w.tag){case 0:case 11:case 15:$o(d,w,x,I,h),sl(8,w);break;case 23:break;case 22:var G=w.stateNode;w.memoizedState!==null?G._visibility&2?$o(d,w,x,I,h):ul(d,w):(G._visibility|=2,$o(d,w,x,I,h)),h&&B&2048&&id(w.alternate,w);break;case 24:$o(d,w,x,I,h),h&&B&2048&&ad(w.alternate,w);break;default:$o(d,w,x,I,h)}i=i.sibling}}function ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,l=i,h=l.flags;switch(l.tag){case 22:ul(o,l),h&2048&&id(l.alternate,l);break;case 24:ul(o,l),h&2048&&ad(l.alternate,l);break;default:ul(o,l)}i=i.sibling}}var cl=8192;function qo(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 26:qo(t),t.flags&cl&&t.memoizedState!==null&&cx(lr,t.memoizedState,t.memoizedProps);break;case 5:qo(t);break;case 3:case 4:var i=lr;lr=vc(t.stateNode.containerInfo),qo(t),lr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=cl,cl=16777216,qo(t),cl=i):qo(t));break;default:qo(t)}}function uv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function hl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];qt=l,hv(l,t)}uv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cv(t),t=t.sibling}function cv(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Li(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,oc(t)):hl(t);break;default:hl(t)}}function oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];qt=l,hv(l,t)}uv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Li(8,i,i.return),oc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,oc(i));break;default:oc(i)}t=t.sibling}}function hv(t,i){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:Li(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hs(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,qt=l;else e:for(o=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(nv(l),l===o){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var Ck={getCacheForType:function(t){var i=on(Mt),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},_k=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,Re=null,Fe=0,Je=0,An=null,ji=!1,Bo=!1,od=!1,li=0,kt=0,zi=0,Ha=0,sd=0,Jn=0,Wo=0,fl=null,kn=null,ld=!1,ud=0,sc=1/0,lc=null,Ui=null,Jt=0,Vi=null,Qo=null,Ho=0,cd=0,hd=null,fv=null,dl=0,fd=null;function Pn(){if((Xe&2)!==0&&Fe!==0)return Fe&-Fe;if(K.T!==null){var t=Po;return t!==0?t:bd()}return $n()}function dv(){Jn===0&&(Jn=(Fe&536870912)===0||Qe?ki():536870912);var t=Xn.current;return t!==null&&(t.flags|=32),Jn}function Ln(t,i,o){(t===lt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ko(t,0),$i(t,Fe,Jn,!1)),pt(t,o),((Xe&2)===0||t!==lt)&&(t===lt&&((Xe&2)===0&&(Ha|=o),kt===4&&$i(t,Fe,Jn,!1)),Or(t))}function pv(t,i,o){if((Xe&6)!==0)throw Error(a(327));var l=!o&&(i&124)===0&&(i&t.expiredLanes)===0||rr(t,i),h=l?Ok(t,i):md(t,i,!0),d=l;do{if(h===0){Bo&&!l&&$i(t,i,0,!1);break}else{if(o=t.current.alternate,d&&!Dk(o)){h=md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var x=t;h=fl;var I=x.current.memoizedState.isDehydrated;if(I&&(Ko(x,w).flags|=256),w=md(x,w,!1),w!==2){if(od&&!I){x.errorRecoveryDisabledLanes|=d,Ha|=d,h=4;break e}d=kn,kn=h,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}h=w}if(d=!1,h!==2)continue}}if(h===1){Ko(t,0),$i(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:$i(l,i,Jn,!ji);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=ud+300-fn(),10<h)){if($i(l,i,Jn,!ji),Ur(l,0,!0)!==0)break e;l.timeoutHandle=qv(mv.bind(null,l,o,kn,lc,ld,i,Jn,Ha,Wo,ji,d,2,-0,0),h);break e}mv(l,o,kn,lc,ld,i,Jn,Ha,Wo,ji,d,0,-0,0)}}break}while(!0);Or(t)}function mv(t,i,o,l,h,d,w,x,I,B,G,Z,Q,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:ux},lv(i),Z=hx(),Z!==null)){t.cancelPendingCommit=Z(kv.bind(null,t,i,d,o,l,h,w,x,I,G,1,Q,H)),$i(t,d,w,!B);return}kv(t,i,d,o,l,h,w,x,I)}function Dk(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var h=o[l],d=h.getSnapshot;h=h.value;try{if(!Nn(d(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(t,i,o,l){i&=~sd,i&=~Ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Rt(h),w=1<<d;l[d]=-1,h&=~w}o!==0&&dn(t,o,i)}function uc(){return(Xe&6)===0?(pl(0),!1):!0}function dd(){if(Re!==null){if(Je===0)var t=Re.return;else t=Re,Zr=Va=null,Of(t),Uo=null,il=0,t=Re;for(;t!==null;)Ky(t.alternate,t),t=t.return;Re=null}}function Ko(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Qk(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),dd(),lt=t,Re=o=Gr(t.current,null),Fe=i,Je=0,An=null,ji=!1,Bo=rr(t,i),od=!1,Wo=Jn=sd=Ha=zi=kt=0,kn=fl=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Rt(l),d=1<<h;i|=t[h],l&=~d}return li=i,Iu(),o}function gv(t,i){Ne=null,K.H=Gu,i===Ys||i===Uu?(i=Ag(),Je=3):i===Og?(i=Ag(),Je=4):Je=i===Py?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Re===null&&(kt=1,tc(t,Hn(i,t.current)))}function yv(){var t=K.H;return K.H=Gu,t===null?Gu:t}function vv(){var t=K.A;return K.A=Ck,t}function pd(){kt=4,ji||(Fe&4194048)!==Fe&&Xn.current!==null||(Bo=!0),(zi&134217727)===0&&(Ha&134217727)===0||lt===null||$i(lt,Fe,Jn,!1)}function md(t,i,o){var l=Xe;Xe|=2;var h=yv(),d=vv();(lt!==t||Fe!==i)&&(lc=null,Ko(t,i)),i=!1;var w=kt;e:do try{if(Je!==0&&Re!==null){var x=Re,I=An;switch(Je){case 8:dd(),w=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var B=Je;if(Je=0,An=null,Yo(t,x,I,B),o&&Bo){w=0;break e}break;default:B=Je,Je=0,An=null,Yo(t,x,I,B)}}Nk(),w=kt;break}catch(G){gv(t,G)}while(!0);return i&&t.shellSuspendCounter++,Zr=Va=null,Xe=l,K.H=h,K.A=d,Re===null&&(lt=null,Fe=0,Iu()),w}function Nk(){for(;Re!==null;)bv(Re)}function Ok(t,i){var o=Xe;Xe|=2;var l=yv(),h=vv();lt!==t||Fe!==i?(lc=null,sc=fn()+500,Ko(t,i)):Bo=rr(t,i);e:do try{if(Je!==0&&Re!==null){i=Re;var d=An;t:switch(Je){case 1:Je=0,An=null,Yo(t,i,d,1);break;case 2:case 9:if(Ig(d)){Je=0,An=null,wv(i);break}i=function(){Je!==2&&Je!==9||lt!==t||(Je=7),Or(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Ig(d)?(Je=0,An=null,wv(i)):(Je=0,An=null,Yo(t,i,d,7));break;case 5:var w=null;switch(Re.tag){case 26:w=Re.memoizedState;case 5:case 27:var x=Re;if(!w||tb(w)){Je=0,An=null;var I=x.sibling;if(I!==null)Re=I;else{var B=x.return;B!==null?(Re=B,cc(B)):Re=null}break t}}Je=0,An=null,Yo(t,i,d,5);break;case 6:Je=0,An=null,Yo(t,i,d,6);break;case 8:dd(),kt=6;break e;default:throw Error(a(462))}}Ik();break}catch(G){gv(t,G)}while(!0);return Zr=Va=null,K.H=l,K.A=h,Xe=o,Re!==null?0:(lt=null,Fe=0,Iu(),kt)}function Ik(){for(;Re!==null&&!xt();)bv(Re)}function bv(t){var i=Qy(t.alternate,t,li);t.memoizedProps=t.pendingProps,i===null?cc(t):Re=i}function wv(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Uy(o,i,i.pendingProps,i.type,void 0,Fe);break;case 11:i=Uy(o,i,i.pendingProps,i.type.render,i.ref,Fe);break;case 5:Of(i);default:Ky(o,i),i=Re=Sg(i,li),i=Qy(o,i,li)}t.memoizedProps=t.pendingProps,i===null?cc(t):Re=i}function Yo(t,i,o,l){Zr=Va=null,Of(i),Uo=null,il=0;var h=i.return;try{if(wk(t,h,i,o,Fe)){kt=1,tc(t,Hn(o,t.current)),Re=null;return}}catch(d){if(h!==null)throw Re=h,d;kt=1,tc(t,Hn(o,t.current)),Re=null;return}i.flags&32768?(Qe||l===1?t=!0:Bo||(Fe&536870912)!==0?t=!1:(ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(i,t)):cc(i)}function cc(t){var i=t;do{if((i.flags&32768)!==0){Sv(i,ji);return}t=i.return;var o=kk(i.alternate,i,li);if(o!==null){Re=o;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);kt===0&&(kt=5)}function Sv(t,i){do{var o=xk(t.alternate,t);if(o!==null){o.flags&=32767,Re=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=o}while(t!==null);kt=6,Re=null}function kv(t,i,o,l,h,d,w,x,I){t.cancelPendingCommit=null;do hc();while(Jt!==0);if((Xe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=af,_t(t,o,d,w,x,I),t===lt&&(Re=lt=null,Fe=0),Qo=i,Vi=t,Ho=o,cd=d,hd=h,fv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lk(jr,function(){return _v(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=le.p,le.p=2,w=Xe,Xe|=4;try{Tk(t,i,o)}finally{Xe=w,le.p=h,K.T=l}}Jt=1,xv(),Tv(),Ev()}}function xv(){if(Jt===1){Jt=0;var t=Vi,i=Qo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var l=le.p;le.p=2;var h=Xe;Xe|=4;try{av(i,t);var d=_d,w=hg(t.containerInfo),x=d.focusedElem,I=d.selectionRange;if(w!==x&&x&&x.ownerDocument&&cg(x.ownerDocument.documentElement,x)){if(I!==null&&Zh(x)){var B=I.start,G=I.end;if(G===void 0&&(G=B),"selectionStart"in x)x.selectionStart=B,x.selectionEnd=Math.min(G,x.value.length);else{var Z=x.ownerDocument||document,Q=Z&&Z.defaultView||window;if(Q.getSelection){var H=Q.getSelection(),ke=x.textContent.length,we=Math.min(I.start,ke),it=I.end===void 0?we:Math.min(I.end,ke);!H.extend&&we>it&&(w=it,it=we,we=w);var V=ug(x,we),F=ug(x,it);if(V&&F&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==F.node||H.focusOffset!==F.offset)){var q=Z.createRange();q.setStart(V.node,V.offset),H.removeAllRanges(),we>it?(H.addRange(q),H.extend(F.node,F.offset)):(q.setEnd(F.node,F.offset),H.addRange(q))}}}}for(Z=[],H=x;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var X=Z[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}xc=!!Cd,_d=Cd=null}finally{Xe=h,le.p=l,K.T=o}}t.current=i,Jt=2}}function Tv(){if(Jt===2){Jt=0;var t=Vi,i=Qo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var l=le.p;le.p=2;var h=Xe;Xe|=4;try{tv(t,i.alternate,i)}finally{Xe=h,le.p=l,K.T=o}}Jt=3}}function Ev(){if(Jt===4||Jt===3){Jt=0,Fr();var t=Vi,i=Qo,o=Ho,l=fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,Qo=Vi=null,Cv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ui=null),xi(o),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=le.p,le.p=2,K.T=null;try{for(var d=t.onRecoverableError,w=0;w<l.length;w++){var x=l[w];d(x.value,{componentStack:x.stack})}}finally{K.T=i,le.p=h}}(Ho&3)!==0&&hc(),Or(t),h=t.pendingLanes,(o&4194090)!==0&&(h&42)!==0?t===fd?dl++:(dl=0,fd=t):dl=0,pl(0)}}function Cv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Hs(i)))}function hc(t){return xv(),Tv(),Ev(),_v()}function _v(){if(Jt!==5)return!1;var t=Vi,i=cd;cd=0;var o=xi(Ho),l=K.T,h=le.p;try{le.p=32>o?32:o,K.T=null,o=hd,hd=null;var d=Vi,w=Ho;if(Jt=0,Qo=Vi=null,Ho=0,(Xe&6)!==0)throw Error(a(331));var x=Xe;if(Xe|=4,cv(d.current),sv(d,d.current,w,o),Xe=x,pl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{le.p=h,K.T=l,Cv(t,i)}}function Dv(t,i,o){i=Hn(o,i),i=Bf(t.stateNode,i,2),t=Ii(t,i,2),t!==null&&(pt(t,2),Or(t))}function st(t,i,o){if(t.tag===3)Dv(t,t,o);else for(;i!==null;){if(i.tag===3){Dv(i,t,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){t=Hn(o,t),o=Ry(2),l=Ii(i,o,2),l!==null&&(Ay(o,l,i,t),pt(l,2),Or(l));break}}i=i.return}}function gd(t,i,o){var l=t.pingCache;if(l===null){l=t.pingCache=new _k;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(o)||(od=!0,h.add(o),t=Rk.bind(null,t,i,o),i.then(t,t))}function Rk(t,i,o){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,lt===t&&(Fe&o)===o&&(kt===4||kt===3&&(Fe&62914560)===Fe&&300>fn()-ud?(Xe&2)===0&&Ko(t,0):sd|=o,Wo===Fe&&(Wo=0)),Or(t)}function Nv(t,i){i===0&&(i=va()),t=Oo(t,i),t!==null&&(pt(t,i),Or(t))}function Ak(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Nv(t,o)}function Pk(t,i){var o=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Nv(t,o)}function Lk(t,i){return zn(t,i)}var fc=null,Go=null,yd=!1,dc=!1,vd=!1,Ka=0;function Or(t){t!==Go&&t.next===null&&(Go===null?fc=Go=t:Go=Go.next=t),dc=!0,yd||(yd=!0,Fk())}function pl(t,i){if(!vd&&dc){vd=!0;do for(var o=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var w=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-Rt(42|t)+1)-1,d&=h&~(w&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(o=!0,Av(l,d))}else d=Fe,d=Ur(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(o=!0,Av(l,d));l=l.next}while(o);vd=!1}}function Mk(){Ov()}function Ov(){dc=yd=!1;var t=0;Ka!==0&&(Wk()&&(t=Ka),Ka=0);for(var i=fn(),o=null,l=fc;l!==null;){var h=l.next,d=Iv(l,i);d===0?(l.next=null,o===null?fc=h:o.next=h,h===null&&(Go=o)):(o=l,(t!==0||(d&3)!==0)&&(dc=!0)),l=h}pl(t)}function Iv(t,i){for(var o=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var w=31-Rt(d),x=1<<w,I=h[w];I===-1?((x&o)===0||(x&l)!==0)&&(h[w]=ya(x,i)):I<=i&&(t.expiredLanes|=x),d&=~x}if(i=lt,o=Fe,o=Ur(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,o===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&at(l),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||rr(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(l!==null&&at(l),xi(o)){case 2:case 8:o=wi;break;case 32:o=jr;break;case 268435456:o=Si;break;default:o=jr}return l=Rv.bind(null,t),o=zn(o,l),t.callbackPriority=i,t.callbackNode=o,i}return l!==null&&l!==null&&at(l),t.callbackPriority=2,t.callbackNode=null,2}function Rv(t,i){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(hc()&&t.callbackNode!==o)return null;var l=Fe;return l=Ur(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,i),Iv(t,fn()),t.callbackNode!=null&&t.callbackNode===o?Rv.bind(null,t):null)}function Av(t,i){if(hc())return null;pv(t,i,!0)}function Fk(){Hk(function(){(Xe&6)!==0?zn(pa,Mk):Ov()})}function bd(){return Ka===0&&(Ka=ki()),Ka}function Pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vo(""+t)}function Lv(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function jk(t,i,o,l,h){if(i==="submit"&&o&&o.stateNode===h){var d=Pv((h[ct]||null).action),w=l.submitter;w&&(i=(i=w[ct]||null)?Pv(i.formAction):w.getAttribute("formAction"),i!==null&&(d=i,w=null));var x=new bo("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ka!==0){var I=w?Lv(h,w):new FormData(h);zf(o,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(x.preventDefault(),I=w?Lv(h,w):new FormData(h),zf(o,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var wd=0;wd<rf.length;wd++){var Sd=rf[wd],zk=Sd.toLowerCase(),Uk=Sd[0].toUpperCase()+Sd.slice(1);sr(zk,"on"+Uk)}sr(pg,"onAnimationEnd"),sr(mg,"onAnimationIteration"),sr(gg,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(rk,"onTransitionRun"),sr(ik,"onTransitionStart"),sr(ak,"onTransitionCancel"),sr(yg,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Mv(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var w=l.length-1;0<=w;w--){var x=l[w],I=x.instance,B=x.currentTarget;if(x=x.listener,I!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=B;try{d(h)}catch(G){ec(G)}h.currentTarget=null,d=I}else for(w=0;w<l.length;w++){if(x=l[w],I=x.instance,B=x.currentTarget,x=x.listener,I!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=B;try{d(h)}catch(G){ec(G)}h.currentTarget=null,d=I}}}}function Ae(t,i){var o=i[Vr];o===void 0&&(o=i[Vr]=new Set);var l=t+"__bubble";o.has(l)||(Fv(i,t,2,!1),o.add(l))}function kd(t,i,o){var l=0;i&&(l|=4),Fv(o,t,l,i)}var pc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[pc]){t[pc]=!0,Ht.forEach(function(o){o!=="selectionchange"&&(Vk.has(o)||kd(o,!1,t),kd(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[pc]||(i[pc]=!0,kd("selectionchange",!1,i))}}function Fv(t,i,o,l){switch(sb(i)){case 2:var h=px;break;case 8:h=mx;break;default:h=Fd}o=h.bind(null,i,o,t),h=void 0,!Wn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,o,{capture:!0,passive:h}):t.addEventListener(i,o,!0):h!==void 0?t.addEventListener(i,o,{passive:h}):t.addEventListener(i,o,!1)}function Td(t,i,o,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var x=l.stateNode.containerInfo;if(x===h)break;if(w===4)for(w=l.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;x!==null;){if(w=ir(x),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){l=d=w;continue e}x=x.parentNode}}l=l.return}gu(function(){var B=d,G=Bn(o),Z=[];e:{var Q=vg.get(t);if(Q!==void 0){var H=bo,ke=t;switch(t){case"keypress":if(kr(o)===0)break e;case"keydown":case"keyup":H=Eo;break;case"focusin":ke="focus",H=ko;break;case"focusout":ke="blur",H=ko;break;case"beforeblur":case"afterblur":H=ko;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Tu;break;case pg:case mg:case gg:H=xo;break;case yg:H=Cu;break;case"scroll":case"scrollend":H=yu;break;case"wheel":H=Co;break;case"copy":case"cut":case"paste":H=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zs;break;case"toggle":case"beforetoggle":H=Du}var we=(i&4)!==0,it=!we&&(t==="scroll"||t==="scrollend"),V=we?Q!==null?Q+"Capture":null:Q;we=[];for(var F=B,q;F!==null;){var X=F;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||V===null||(X=_a(F,V),X!=null&&we.push(gl(F,X,q))),it)break;F=F.return}0<we.length&&(Q=new H(Q,ke,null,o,G),Z.push({event:Q,listeners:we}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",Q&&o!==Br&&(ke=o.relatedTarget||o.fromElement)&&(ir(ke)||ke[an]))break e;if((H||Q)&&(Q=G.window===G?G:(Q=G.ownerDocument)?Q.defaultView||Q.parentWindow:window,H?(ke=o.relatedTarget||o.toElement,H=B,ke=ke?ir(ke):null,ke!==null&&(it=u(ke),we=ke.tag,ke!==it||we!==5&&we!==27&&we!==6)&&(ke=null)):(H=null,ke=B),H!==ke)){if(we=Qn,X="onMouseLeave",V="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(we=zs,X="onPointerLeave",V="onPointerEnter",F="pointer"),it=H==null?Q:Ue(H),q=ke==null?Q:Ue(ke),Q=new we(X,F+"leave",H,o,G),Q.target=it,Q.relatedTarget=q,X=null,ir(G)===B&&(we=new we(V,F+"enter",ke,o,G),we.target=q,we.relatedTarget=it,X=we),it=X,H&&ke)t:{for(we=H,V=ke,F=0,q=we;q;q=Xo(q))F++;for(q=0,X=V;X;X=Xo(X))q++;for(;0<F-q;)we=Xo(we),F--;for(;0<q-F;)V=Xo(V),q--;for(;F--;){if(we===V||V!==null&&we===V.alternate)break t;we=Xo(we),V=Xo(V)}we=null}else we=null;H!==null&&jv(Z,Q,H,we,!1),ke!==null&&it!==null&&jv(Z,it,ke,we,!0)}}e:{if(Q=B?Ue(B):window,H=Q.nodeName&&Q.nodeName.toLowerCase(),H==="select"||H==="input"&&Q.type==="file")var de=rg;else if(Yt(Q))if(ig)de=ek;else{de=J1;var Ie=X1}else H=Q.nodeName,!H||H.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?B&&Rs(B.elementType)&&(de=rg):de=Z1;if(de&&(de=de(t,B))){Yr(Z,de,o,G);break e}Ie&&Ie(t,Q,B),t==="focusout"&&B&&Q.type==="number"&&B.memoizedProps.value!=null&&Ci(Q,"number",Q.value)}switch(Ie=B?Ue(B):window,t){case"focusin":(Yt(Ie)||Ie.contentEditable==="true")&&(_o=Ie,ef=B,$s=null);break;case"focusout":$s=ef=_o=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,fg(Z,o,G);break;case"selectionchange":if(nk)break;case"keydown":case"keyup":fg(Z,o,G)}var ge;if(Er)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else $e?Y(t,o)&&(Se="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(b&&o.locale!=="ko"&&($e||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&$e&&(ge=Ps()):(Sr=G,_i="value"in Sr?Sr.value:Sr.textContent,$e=!0)),Ie=mc(B,Se),0<Ie.length&&(Se=new Fs(Se,t,null,o,G),Z.push({event:Se,listeners:Ie}),ge?Se.data=ge:(ge=oe(o),ge!==null&&(Se.data=ge)))),(ge=y?Lt(t,o):We(t,o))&&(Se=mc(B,"onBeforeInput"),0<Se.length&&(Ie=new Fs("onBeforeInput","beforeinput",null,o,G),Z.push({event:Ie,listeners:Se}),Ie.data=ge)),jk(Z,t,B,o,G)}Mv(Z,i)})}function gl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function mc(t,i){for(var o=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_a(t,o),h!=null&&l.unshift(gl(t,h,d)),h=_a(t,i),h!=null&&l.push(gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jv(t,i,o,l,h){for(var d=i._reactName,w=[];o!==null&&o!==l;){var x=o,I=x.alternate,B=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||B===null||(I=B,h?(B=_a(o,d),B!=null&&w.unshift(gl(o,B,I))):h||(B=_a(o,d),B!=null&&w.push(gl(o,B,I)))),o=o.return}w.length!==0&&t.push({event:i,listeners:w})}var $k=/\r\n?/g,qk=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace($k,`
`).replace(qk,"")}function Uv(t,i){return i=zv(i),zv(t)===i}function gc(){}function rt(t,i,o,l,h,d){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||qn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&qn(t,""+l);break;case"className":br(t,"class",l);break;case"tabIndex":br(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(t,o,l);break;case"style":Is(t,l,d);break;case"data":if(i!=="object"){br(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=vo(""+l),t.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(o==="formAction"?(i!=="input"&&rt(t,i,"name",h.name,h,null),rt(t,i,"formEncType",h.formEncType,h,null),rt(t,i,"formMethod",h.formMethod,h,null),rt(t,i,"formTarget",h.formTarget,h,null)):(rt(t,i,"encType",h.encType,h,null),rt(t,i,"method",h.method,h,null),rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=vo(""+l),t.setAttribute(o,l);break;case"onClick":l!=null&&(t.onclick=gc);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}o=vo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""+l):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":l===!0?t.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,l):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(o,l):t.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(o):t.setAttribute(o,l);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Ei(t,"popover",l);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ei(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hh.get(o)||o,Ei(t,o,l))}}function Ed(t,i,o,l,h,d){switch(o){case"style":Is(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof l=="string"?qn(t,l):(typeof l=="number"||typeof l=="bigint")&&qn(t,""+l);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"onClick":l!=null&&(t.onclick=gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),d=t[ct]||null,d=d!=null?d[o]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,l,h);break e}o in t?t[o]=l:l===!0?t.setAttribute(o,""):Ei(t,o,l)}}}function Zt(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var l=!1,h=!1,d;for(d in o)if(o.hasOwnProperty(d)){var w=o[d];if(w!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,d,w,o,null)}}h&&rt(t,i,"srcSet",o.srcSet,o,null),l&&rt(t,i,"src",o.src,o,null);return;case"input":Ae("invalid",t);var x=d=w=h=null,I=null,B=null;for(l in o)if(o.hasOwnProperty(l)){var G=o[l];if(G!=null)switch(l){case"name":h=G;break;case"type":w=G;break;case"checked":I=G;break;case"defaultChecked":B=G;break;case"value":d=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:rt(t,i,l,G,o,null)}}Ta(t,d,x,I,B,w,h,!1),yo(t);return;case"select":Ae("invalid",t),l=w=d=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":w=x;break;case"multiple":l=x;default:rt(t,i,h,x,o,null)}i=d,o=w,t.multiple=!!l,i!=null?qr(t,!!l,i,!1):o!=null&&qr(t,!!l,o,!0);return;case"textarea":Ae("invalid",t),d=h=l=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:rt(t,i,w,x,o,null)}Ea(t,l,h,d),yo(t);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(l=o[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,I,l,o,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)Ae(ml[l],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(l=o[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,B,l,o,null)}return;default:if(Rs(i)){for(G in o)o.hasOwnProperty(G)&&(l=o[G],l!==void 0&&Ed(t,i,G,l,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(l=o[x],l!=null&&rt(t,i,x,l,o,null))}function Bk(t,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,w=null,x=null,I=null,B=null,G=null;for(H in o){var Z=o[H];if(o.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||rt(t,i,H,null,l,Z)}}for(var Q in l){var H=l[Q];if(Z=o[Q],l.hasOwnProperty(Q)&&(H!=null||Z!=null))switch(Q){case"type":d=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":w=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:H!==Z&&rt(t,i,Q,H,l,Z)}}Dn(t,w,x,I,B,G,d,h);return;case"select":H=w=x=Q=null;for(d in o)if(I=o[d],o.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||rt(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=o[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":Q=d;break;case"defaultValue":x=d;break;case"multiple":w=d;default:d!==I&&rt(t,i,h,d,l,I)}i=x,o=w,l=H,Q!=null?qr(t,!!o,Q,!1):!!l!=!!o&&(i!=null?qr(t,!!o,i,!0):qr(t,!!o,o?[]:"",!1));return;case"textarea":H=Q=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:rt(t,i,x,null,l,h)}for(w in l)if(h=l[w],d=o[w],l.hasOwnProperty(w)&&(h!=null||d!=null))switch(w){case"value":Q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&rt(t,i,w,h,l,d)}tt(t,Q,H);return;case"option":for(var ke in o)if(Q=o[ke],o.hasOwnProperty(ke)&&Q!=null&&!l.hasOwnProperty(ke))switch(ke){case"selected":t.selected=!1;break;default:rt(t,i,ke,null,l,Q)}for(I in l)if(Q=l[I],H=o[I],l.hasOwnProperty(I)&&Q!==H&&(Q!=null||H!=null))switch(I){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(t,i,I,Q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we)&&rt(t,i,we,null,l,Q);for(B in l)if(Q=l[B],H=o[B],l.hasOwnProperty(B)&&Q!==H&&(Q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:rt(t,i,B,Q,l,H)}return;default:if(Rs(i)){for(var it in o)Q=o[it],o.hasOwnProperty(it)&&Q!==void 0&&!l.hasOwnProperty(it)&&Ed(t,i,it,void 0,l,Q);for(G in l)Q=l[G],H=o[G],!l.hasOwnProperty(G)||Q===H||Q===void 0&&H===void 0||Ed(t,i,G,Q,l,H);return}}for(var V in o)Q=o[V],o.hasOwnProperty(V)&&Q!=null&&!l.hasOwnProperty(V)&&rt(t,i,V,null,l,Q);for(Z in l)Q=l[Z],H=o[Z],!l.hasOwnProperty(Z)||Q===H||Q==null&&H==null||rt(t,i,Z,Q,l,H)}var Cd=null,_d=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function Vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function Wk(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,Qk=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,Hk=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(Kk)}:qv;function Kk(t){setTimeout(function(){throw t})}function qi(t){return t==="head"}function Wv(t,i){var o=i,l=0,h=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(0<l&&8>l){o=l;var w=t.ownerDocument;if(o&1&&yl(w.documentElement),o&2&&yl(w.body),o&4)for(o=w.head,yl(o),w=o.firstChild;w;){var x=w.nextSibling,I=w.nodeName;w[gr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=x}}if(h===0){t.removeChild(d),El(i);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:l=o.charCodeAt(0)-48;else l=0;o=d}while(o);El(i)}function Od(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Od(o),yr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Yk(t,i,o,l){for(;t.nodeType===1;){var h=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence")||d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ur(t.nextSibling),t===null)break}return null}function Gk(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=ur(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Xk(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ur(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Rd=null;function Qv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function Hv(t,i,o){switch(i=yc(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yr(t)}var Zn=new Map,Kv=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ui=le.d;le.d={f:Jk,r:Zk,D:ex,C:tx,L:nx,m:rx,X:ax,S:ix,M:ox};function Jk(){var t=ui.f(),i=uc();return t||i}function Zk(t){var i=xe(t);i!==null&&i.tag===5&&i.type==="form"?py(i):ui.r(t)}var Jo=typeof document>"u"?null:document;function Yv(t,i,o){var l=Jo;if(l&&typeof i=="string"&&i){var h=Pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Kv.has(h)||(Kv.add(h),t={rel:t,crossOrigin:o,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Zt(i,"link",t),Ve(i),l.head.appendChild(i)))}}function ex(t){ui.D(t),Yv("dns-prefetch",t,null)}function tx(t,i){ui.C(t,i),Yv("preconnect",t,i)}function nx(t,i,o){ui.L(t,i,o);var l=Jo;if(l&&t&&i){var h='link[rel="preload"][as="'+Pt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Pt(o.imageSizes)+'"]')):h+='[href="'+Pt(t)+'"]';var d=h;switch(i){case"style":d=Zo(t);break;case"script":d=es(t)}Zn.has(d)||(t=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Zt(i,"link",t),Ve(i),l.head.appendChild(i)))}}function rx(t,i){ui.m(t,i);var o=Jo;if(o&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=es(t)}if(!Zn.has(d)&&(t=v({rel:"modulepreload",href:t},i),Zn.set(d,t),o.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bl(d)))return}l=o.createElement("link"),Zt(l,"link",t),Ve(l),o.head.appendChild(l)}}}function ix(t,i,o){ui.S(t,i,o);var l=Jo;if(l&&t){var h=Pe(l).hoistableStyles,d=Zo(t);i=i||"default";var w=h.get(d);if(!w){var x={loading:0,preload:null};if(w=l.querySelector(vl(d)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Zn.get(d))&&Ad(t,o);var I=w=l.createElement("link");Ve(I),Zt(I,"link",t),I._p=new Promise(function(B,G){I.onload=B,I.onerror=G}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,bc(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:x},h.set(d,w)}}}function ax(t,i){ui.X(t,i);var o=Jo;if(o&&t){var l=Pe(o).hoistableScripts,h=es(t),d=l.get(h);d||(d=o.querySelector(bl(h)),d||(t=v({src:t,async:!0},i),(i=Zn.get(h))&&Pd(t,i),d=o.createElement("script"),Ve(d),Zt(d,"link",t),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ox(t,i){ui.M(t,i);var o=Jo;if(o&&t){var l=Pe(o).hoistableScripts,h=es(t),d=l.get(h);d||(d=o.querySelector(bl(h)),d||(t=v({src:t,async:!0,type:"module"},i),(i=Zn.get(h))&&Pd(t,i),d=o.createElement("script"),Ve(d),Zt(d,"link",t),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Gv(t,i,o,l){var h=(h=ve.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Zo(o.href),o=Pe(h).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Zo(o.href);var d=Pe(h).hoistableStyles,w=d.get(t);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,w),(d=h.querySelector(vl(t)))&&!d._p&&(w.instance=d,w.state.loading=5),Zn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(t,o),d||sx(h,t,o,w.state))),i&&l===null)throw Error(a(528,""));return w}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=es(o),o=Pe(h).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Zo(t){return'href="'+Pt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Xv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function sx(t,i,o,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Zt(i,"link",o),Ve(i),t.head.appendChild(i))}function es(t){return'[src="'+Pt(t)+'"]'}function bl(t){return"script[async]"+t}function Jv(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Pt(o.href)+'"]');if(l)return i.instance=l,Ve(l),l;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ve(l),Zt(l,"style",h),bc(l,o.precedence,t),i.instance=l;case"stylesheet":h=Zo(o.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,Ve(d),d;l=Xv(o),(h=Zn.get(h))&&Ad(l,h),d=(t.ownerDocument||t).createElement("link"),Ve(d);var w=d;return w._p=new Promise(function(x,I){w.onload=x,w.onerror=I}),Zt(d,"link",l),i.state.loading|=4,bc(d,o.precedence,t),i.instance=d;case"script":return d=es(o.src),(h=t.querySelector(bl(d)))?(i.instance=h,Ve(h),h):(l=o,(h=Zn.get(d))&&(l=v({},o),Pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ve(h),Zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,o.precedence,t));return i.instance}function bc(t,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,w=0;w<l.length;w++){var x=l[w];if(x.dataset.precedence===i)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Ad(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function Zv(t,i,o){if(wc===null){var l=new Map,h=wc=new Map;h.set(o,l)}else h=wc,l=h.get(o),l||(l=new Map,h.set(o,l));if(l.has(t))return l;for(l.set(t,null),o=o.getElementsByTagName(t),h=0;h<o.length;h++){var d=o[h];if(!(d[gr]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var w=d.getAttribute(i)||"";w=t+w;var x=l.get(w);x?x.push(d):l.set(w,[d])}}return l}function eb(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function lx(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function ux(){}function cx(t,i,o){if(wl===null)throw Error(a(475));var l=wl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Zo(o.href),d=t.querySelector(vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Sc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Ve(d);return}d=t.ownerDocument||t,o=Xv(o),(h=Zn.get(h))&&Ad(o,h),d=d.createElement("link"),Ve(d);var w=d;w._p=new Promise(function(x,I){w.onload=x,w.onerror=I}),Zt(d,"link",o),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Sc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function hx(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&Ld(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&Ld(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Ld(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(fx,t),kc=null,Sc.call(t))}function fx(t,i){if(!(i.state.loading&4)){var o=kc.get(t);if(o)var l=o.get(null);else{o=new Map,kc.set(t,o);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var w=h[d];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),l=w)}l&&o.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),d=o.get(w)||l,d===l&&o.set(null,h),o.set(w,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Sl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function dx(t,i,o,l,h,d,w,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.hiddenUpdates=Vn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function nb(t,i,o,l,h,d,w,x,I,B,G,Z){return t=new dx(t,i,o,w,x,I,B,Z),i=1,d===!0&&(i|=24),d=On(3,null,null,i),t.current=d,d.stateNode=t,i=gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:o,cache:i},wf(d),t}function rb(t){return t?(t=Io,t):Io}function ib(t,i,o,l,h,d){h=rb(h),l.context===null?l.context=h:l.pendingContext=h,l=Oi(i),l.payload={element:o},d=d===void 0?null:d,d!==null&&(l.callback=d),o=Ii(t,l,i),o!==null&&(Ln(o,t,i),Xs(o,t,i))}function ab(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Md(t,i){ab(t,i),(t=t.alternate)&&ab(t,i)}function ob(t){if(t.tag===13){var i=Oo(t,67108864);i!==null&&Ln(i,t,67108864),Md(t,67108864)}}var xc=!0;function px(t,i,o,l){var h=K.T;K.T=null;var d=le.p;try{le.p=2,Fd(t,i,o,l)}finally{le.p=d,K.T=h}}function mx(t,i,o,l){var h=K.T;K.T=null;var d=le.p;try{le.p=8,Fd(t,i,o,l)}finally{le.p=d,K.T=h}}function Fd(t,i,o,l){if(xc){var h=jd(l);if(h===null)Td(t,i,l,Tc,o),lb(t,l);else if(yx(h,t,i,o,l))l.stopPropagation();else if(lb(t,l),i&4&&-1<gx.indexOf(t)){for(;h!==null;){var d=xe(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var w=bn(d.pendingLanes);if(w!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var I=1<<31-Rt(w);x.entanglements[1]|=I,w&=~I}Or(d),(Xe&6)===0&&(sc=fn()+500,pl(0))}}break;case 13:x=Oo(d,2),x!==null&&Ln(x,d,2),uc(),Md(d,2)}if(d=jd(l),d===null&&Td(t,i,l,Tc,o),d===h)break;h=d}h!==null&&l.stopPropagation()}else Td(t,i,l,null,o)}}function jd(t){return t=Bn(t),zd(t)}var Tc=null;function zd(t){if(Tc=null,t=ir(t),t!==null){var i=u(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=f(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Tc=t,null}function sb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(co()){case pa:return 2;case wi:return 8;case jr:case ho:return 32;case Si:return 268435456;default:return 32}default:return 32}}var Ud=!1,Bi=null,Wi=null,Qi=null,kl=new Map,xl=new Map,Hi=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(t,i){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Tl(t,i,o,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xe(i),i!==null&&ob(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yx(t,i,o,l,h){switch(i){case"focusin":return Bi=Tl(Bi,t,i,o,l,h),!0;case"dragenter":return Wi=Tl(Wi,t,i,o,l,h),!0;case"mouseover":return Qi=Tl(Qi,t,i,o,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,Tl(kl.get(d)||null,t,i,o,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Tl(xl.get(d)||null,t,i,o,l,h)),!0}return!1}function ub(t){var i=ir(t.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=f(o),i!==null){t.blockedOn=i,ba(t.priority,function(){if(o.tag===13){var l=Pn();l=At(l);var h=Oo(o,l);h!==null&&Ln(h,o,l),Md(o,l)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=jd(t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);Br=l,o.target.dispatchEvent(l),Br=null}else return i=xe(o),i!==null&&ob(i),t.blockedOn=o,!1;i.shift()}return!0}function cb(t,i,o){Ec(t)&&o.delete(i)}function vx(){Ud=!1,Bi!==null&&Ec(Bi)&&(Bi=null),Wi!==null&&Ec(Wi)&&(Wi=null),Qi!==null&&Ec(Qi)&&(Qi=null),kl.forEach(cb),xl.forEach(cb)}function Cc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vx)))}var _c=null;function hb(t){_c!==t&&(_c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===t&&(_c=null);for(var i=0;i<t.length;i+=3){var o=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(zd(l||o)===null)continue;break}var d=xe(o);d!==null&&(t.splice(i,3),i-=3,zf(d,{pending:!0,data:h,method:o.method,action:l},l,h))}}))}function El(t){function i(I){return Cc(I,t)}Bi!==null&&Cc(Bi,t),Wi!==null&&Cc(Wi,t),Qi!==null&&Cc(Qi,t),kl.forEach(i),xl.forEach(i);for(var o=0;o<Hi.length;o++){var l=Hi[o];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hi.length&&(o=Hi[0],o.blockedOn===null);)ub(o),o.blockedOn===null&&Hi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var h=o[l],d=o[l+1],w=h[ct]||null;if(typeof d=="function")w||hb(o);else if(w){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,w=d[ct]||null)x=w.formAction;else if(zd(h)!==null)continue}else x=w.action;typeof x=="function"?o[l+1]=x:(o.splice(l,3),l-=3),hb(o)}}}function Vd(t){this._internalRoot=t}Dc.prototype.render=Vd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,l=Pn();ib(o,l,t,i,null,null)},Dc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ib(t.current,2,null,t,null,null),uc(),i[an]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var i=$n();t={blockedOn:null,target:t,priority:i};for(var o=0;o<Hi.length&&i!==0&&i<Hi[o].priority;o++);Hi.splice(o,0,t),o===0&&ub(t)}};var fb=e.version;if(fb!=="19.1.0")throw Error(a(527,fb,"19.1.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var bx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{dt=Nc.inject(bx),Be=Nc}catch{}}return _l.createRoot=function(t,i){if(!s(t))throw Error(a(299));var o=!1,l="",h=Dy,d=Ny,w=Oy,x=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=nb(t,1,!1,null,null,o,l,h,d,w,x,null),t[an]=i.current,xd(t),new Vd(i)},_l.hydrateRoot=function(t,i,o){if(!s(t))throw Error(a(299));var l=!1,h="",d=Dy,w=Ny,x=Oy,I=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(d=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),i=nb(t,1,!0,i,o??null,l,h,d,w,x,I,B),i.context=rb(null),o=i.current,l=Pn(),l=At(l),h=Oi(l),h.callback=null,Ii(o,h,l),o=l,i.current.lanes=o,pt(i,o),Or(i),t[an]=i.current,xd(t),new Dc(i)},_l.version="19.1.0",_l}var Cb;function Ox(){if(Cb)return $d.exports;Cb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=Nx(),$d.exports}var Ix=Ox(),Dl={},_b;function Rx(){if(_b)return Dl;_b=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,u=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function f(k,R){const _=new u,M=k.length;if(M<2)return _;const z=(R==null?void 0:R.decode)||v;let W=0;do{const J=k.indexOf("=",W);if(J===-1)break;const ie=k.indexOf(";",W),ue=ie===-1?M:ie;if(J>ue){W=k.lastIndexOf(";",J-1)+1;continue}const ce=p(k,W,J),ae=m(k,J,ce),A=k.slice(ce,ae);if(_[A]===void 0){let E=p(k,J+1,ue),D=m(k,ue,E);const P=z(k.slice(E,D));_[A]=P}W=ue+1}while(W<M);return _}function p(k,R,_){do{const M=k.charCodeAt(R);if(M!==32&&M!==9)return R}while(++R<_);return _}function m(k,R,_){for(;R>_;){const M=k.charCodeAt(--R);if(M!==32&&M!==9)return R+1}return _}function g(k,R,_){const M=(_==null?void 0:_.encode)||encodeURIComponent;if(!r.test(k))throw new TypeError(`argument name is invalid: ${k}`);const z=M(R);if(!e.test(z))throw new TypeError(`argument val is invalid: ${R}`);let W=k+"="+z;if(!_)return W;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);W+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);W+="; Domain="+_.domain}if(_.path){if(!a.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);W+="; Path="+_.path}if(_.expires){if(!S(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);W+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(W+="; HttpOnly"),_.secure&&(W+="; Secure"),_.partitioned&&(W+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return W}function v(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function S(k){return s.call(k)==="[object Date]"}return Dl}Rx();/**
* react-router v7.5.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var Db="popstate";function Ax(r={}){function e(s,u){let{pathname:f="/",search:p="",hash:m=""}=io(s.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),cp("",{pathname:f,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(s,u){let f=s.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let m=s.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:Vl(u))}function a(s,u){nr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Lx(e,n,a,r)}function gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Px(){return Math.random().toString(36).substring(2,10)}function Nb(r,e){return{usr:r.state,key:r.key,idx:e}}function cp(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||a||Px()}}function Vl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function io(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Lx(r,e,n,a={}){let{window:s=document.defaultView,v5Compat:u=!1}=a,f=s.history,p="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function S(){p="POP";let z=v(),W=z==null?null:z-g;g=z,m&&m({action:p,location:M.location,delta:W})}function k(z,W){p="PUSH";let J=cp(M.location,z,W);n&&n(J,z),g=v()+1;let ie=Nb(J,g),ue=M.createHref(J);try{f.pushState(ie,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;s.location.assign(ue)}u&&m&&m({action:p,location:M.location,delta:1})}function R(z,W){p="REPLACE";let J=cp(M.location,z,W);n&&n(J,z),g=v();let ie=Nb(J,g),ue=M.createHref(J);f.replaceState(ie,"",ue),u&&m&&m({action:p,location:M.location,delta:0})}function _(z){let W=s.location.origin!=="null"?s.location.origin:s.location.href,J=typeof z=="string"?z:Vl(z);return J=J.replace(/ $/,"%20"),gt(W,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,W)}let M={get action(){return p},get location(){return r(s,f)},listen(z){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Db,S),m=z,()=>{s.removeEventListener(Db,S),m=null}},createHref(z){return e(s,z)},createURL:_,encodeLocation(z){let W=_(z);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:k,replace:R,go(z){return f.go(z)}};return M}function yw(r,e,n="/"){return Mx(r,e,n,!1)}function Mx(r,e,n,a){let s=typeof e=="string"?io(e):e,u=di(s.pathname||"/",n);if(u==null)return null;let f=vw(r);Fx(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Kx(u);p=Qx(f[m],g,a)}return p}function vw(r,e=[],n=[],a=""){let s=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(gt(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=hi([a,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),vw(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Bx(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))s(u,f);else for(let m of bw(u.path))s(u,f,m)}),e}function bw(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return s?[u,""]:[u];let f=bw(a.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),s&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Fx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Wx(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var jx=/^:[\w-]+$/,zx=3,Ux=2,Vx=1,$x=10,qx=-2,Ob=r=>r==="*";function Bx(r,e){let n=r.split("/"),a=n.length;return n.some(Ob)&&(a+=qx),e&&(a+=Ux),n.filter(s=>!Ob(s)).reduce((s,u)=>s+(jx.test(u)?zx:u===""?Vx:$x),a)}function Wx(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function Qx(r,e,n=!1){let{routesMeta:a}=r,s={},u="/",f=[];for(let p=0;p<a.length;++p){let m=a[p],g=p===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Yc({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),k=m.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=Yc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(s,S.params),f.push({params:s,pathname:hi([u,S.pathname]),pathnameBase:Jx(hi([u,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(u=hi([u,S.pathnameBase]))}return f}function Yc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Hx(r.path,r.caseSensitive,r.end),s=e.match(n);if(!s)return null;let u=s[0],f=u.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:v},S)=>{if(g==="*"){let R=p[S]||"";f=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const k=p[S];return v&&!k?m[g]=void 0:m[g]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:r}}function Hx(r,e=!1,n=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function Kx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function di(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Yx(r,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof r=="string"?io(r):r;return{pathname:n?n.startsWith("/")?n:Gx(n,e):e,search:Zx(a),hash:eT(s)}}function Gx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bd(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xx(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gp(r){let e=Xx(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Xp(r,e,n,a=!1){let s;typeof r=="string"?s=io(r):(s={...r},gt(!s.pathname||!s.pathname.includes("?"),Bd("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Bd("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Bd("#","search","hash",s)));let u=r===""||s.pathname==="",f=u?"/":s.pathname,p;if(f==null)p=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),S-=1;s.pathname=k.join("/")}p=S>=0?e[S]:"/"}let m=Yx(s,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var hi=r=>r.join("/").replace(/\/\/+/g,"/"),Jx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Zx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ww=["POST","PUT","PATCH","DELETE"];new Set(ww);var nT=["GET",...ww];new Set(nT);var vs=U.createContext(null);vs.displayName="DataRouter";var mh=U.createContext(null);mh.displayName="DataRouterState";var Sw=U.createContext({isTransitioning:!1});Sw.displayName="ViewTransition";var rT=U.createContext(new Map);rT.displayName="Fetchers";var iT=U.createContext(null);iT.displayName="Await";var hr=U.createContext(null);hr.displayName="Navigation";var Zl=U.createContext(null);Zl.displayName="Location";var fr=U.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Jp=U.createContext(null);Jp.displayName="RouteError";function aT(r,{relative:e}={}){gt(bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=U.useContext(hr),{hash:s,pathname:u,search:f}=eu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:hi([n,u])),a.createHref({pathname:p,search:f,hash:s})}function bs(){return U.useContext(Zl)!=null}function vi(){return gt(bs(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Zl).location}var kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xw(r){U.useContext(hr).static||U.useLayoutEffect(r)}function Zp(){let{isDataRoute:r}=U.useContext(fr);return r?bT():oT()}function oT(){gt(bs(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(vs),{basename:e,navigator:n}=U.useContext(hr),{matches:a}=U.useContext(fr),{pathname:s}=vi(),u=JSON.stringify(Gp(a)),f=U.useRef(!1);return xw(()=>{f.current=!0}),U.useCallback((p,m={})=>{if(nr(f.current,kw),!f.current)return;if(typeof p=="number"){n.go(p);return}let g=Xp(p,JSON.parse(u),s,m.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:hi([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,u,s,r])}U.createContext(null);function sT(){let{matches:r}=U.useContext(fr),e=r[r.length-1];return e?e.params:{}}function eu(r,{relative:e}={}){let{matches:n}=U.useContext(fr),{pathname:a}=vi(),s=JSON.stringify(Gp(n));return U.useMemo(()=>Xp(r,JSON.parse(s),a,e==="path"),[r,s,a,e])}function lT(r,e){return Tw(r,e)}function Tw(r,e,n,a){var s;gt(bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=U.useContext(hr),{matches:p}=U.useContext(fr),m=p[p.length-1],g=m?m.params:{},v=m?m.pathname:"/",S=m?m.pathnameBase:"/",k=m&&m.route;{let ie=k&&k.path||"";Ew(v,!k||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let R=vi(),_;if(e){let ie=typeof e=="string"?io(e):e;gt(S==="/"||((s=ie.pathname)==null?void 0:s.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),_=ie}else _=R;let M=_.pathname||"/",z=M;if(S!=="/"){let ie=S.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(ie.length).join("/")}let W=!f&&n&&n.matches&&n.matches.length>0?n.matches:yw(r,{pathname:z});nr(k||W!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),nr(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=dT(W&&W.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:hi([S,u.encodeLocation?u.encodeLocation(ie.pathname).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?S:hi([S,u.encodeLocation?u.encodeLocation(ie.pathnameBase).pathname:ie.pathnameBase])})),p,n,a);return e&&J?U.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},J):J}function uT(){let r=vT(),e=tT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:s},n):null,f)}var cT=U.createElement(uT,null),hT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(fr.Provider,{value:this.props.routeContext},U.createElement(Jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fT({routeContext:r,match:e,children:n}){let a=U.useContext(vs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(fr.Provider,{value:r},n)}function dT(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let s=r,u=n==null?void 0:n.errors;if(u!=null){let m=s.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);gt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:S}=n,k=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||k){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((m,g,v)=>{let S,k=!1,R=null,_=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||cT,f&&(p<0&&v===0?(Ew("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):p===v&&(k=!0,_=g.route.hydrateFallbackElement||null)));let M=e.concat(s.slice(0,v+1)),z=()=>{let W;return S?W=R:k?W=_:g.route.Component?W=U.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=m,U.createElement(fT,{match:g,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?U.createElement(hT,{location:n.location,revalidation:n.revalidation,component:R,error:S,children:z(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):z()},null)}function em(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let e=U.useContext(vs);return gt(e,em(r)),e}function mT(r){let e=U.useContext(mh);return gt(e,em(r)),e}function gT(r){let e=U.useContext(fr);return gt(e,em(r)),e}function tm(r){let e=gT(r),n=e.matches[e.matches.length-1];return gt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yT(){return tm("useRouteId")}function vT(){var r;let e=U.useContext(Jp),n=mT("useRouteError"),a=tm("useRouteError");return e!==void 0?e:(r=n.errors)==null?void 0:r[a]}function bT(){let{router:r}=pT("useNavigate"),e=tm("useNavigate"),n=U.useRef(!1);return xw(()=>{n.current=!0}),U.useCallback(async(a,s={})=>{nr(n.current,kw),n.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...s}))},[r,e])}var Ib={};function Ew(r,e,n){!e&&!Ib[r]&&(Ib[r]=!0,nr(!1,n))}U.memo(wT);function wT({routes:r,future:e,state:n}){return Tw(r,void 0,n,e)}function Ya({to:r,replace:e,state:n,relative:a}){gt(bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(hr);nr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(fr),{pathname:f}=vi(),p=Zp(),m=Xp(r,Gp(u),f,a==="path"),g=JSON.stringify(m);return U.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:a})},[p,g,a,e,n]),null}function Gi(r){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ST({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:u=!1}){gt(!bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:f,navigator:s,static:u,future:{}}),[f,s,u]);typeof n=="string"&&(n=io(n));let{pathname:m="/",search:g="",hash:v="",state:S=null,key:k="default"}=n,R=U.useMemo(()=>{let _=di(m,f);return _==null?null:{location:{pathname:_,search:g,hash:v,state:S,key:k},navigationType:a}},[f,m,g,v,S,k,a]);return nr(R!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:U.createElement(hr.Provider,{value:p},U.createElement(Zl.Provider,{children:e,value:R}))}function kT({children:r,location:e}){return lT(hp(r),e)}function hp(r,e=[]){let n=[];return U.Children.forEach(r,(a,s)=>{if(!U.isValidElement(a))return;let u=[...e,s];if(a.type===U.Fragment){n.push.apply(n,hp(a.props.children,u));return}gt(a.type===Gi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=hp(a.props.children,u)),n.push(f)}),n}var zc="get",Uc="application/x-www-form-urlencoded";function gh(r){return r!=null&&typeof r.tagName=="string"}function xT(r){return gh(r)&&r.tagName.toLowerCase()==="button"}function TT(r){return gh(r)&&r.tagName.toLowerCase()==="form"}function ET(r){return gh(r)&&r.tagName.toLowerCase()==="input"}function CT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _T(r,e){return r.button===0&&(!e||e==="_self")&&!CT(r)}var Oc=null;function DT(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var NT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(r){return r!=null&&!NT.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function OT(r,e){let n,a,s,u,f;if(TT(r)){let p=r.getAttribute("action");a=p?di(p,e):null,n=r.getAttribute("method")||zc,s=Wd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(xT(r)||ET(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(a=m?di(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||zc,s=Wd(r.getAttribute("formenctype"))||Wd(p.getAttribute("enctype"))||Uc,u=new FormData(p,r),!DT()){let{name:g,type:v,value:S}=r;if(v==="image"){let k=g?`${g}.`:"";u.append(`${k}x`,"0"),u.append(`${k}y`,"0")}else g&&u.append(g,S)}}else{if(gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,a=null,s=Uc,f=r}return u&&s==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:u,body:f}}function nm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function IT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function AT(r,e,n){let a=await Promise.all(r.map(async s=>{let u=e.routes[s.route.id];if(u){let f=await IT(u,n);return f.links?f.links():[]}return[]}));return FT(a.flat(1).filter(RT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Rb(r,e,n,a,s,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var v;let S=a.routes[m.route.id];if(!S||!S.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let k=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function PT(r,e,{includeHydrateFallback:n}={}){return LT(r.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let u=[s.module];return s.clientActionModule&&(u=u.concat(s.clientActionModule)),s.clientLoaderModule&&(u=u.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(u=u.concat(s.hydrateFallbackModule)),s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function LT(r){return[...new Set(r)]}function MT(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function FT(r,e){let n=new Set;return new Set(e),r.reduce((a,s)=>{let u=JSON.stringify(MT(s));return n.has(u)||(n.add(u),a.push({key:u,link:s})),a},[])}var jT=new Set([100,101,204,205]);function zT(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&di(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Cw(){let r=U.useContext(vs);return nm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function UT(){let r=U.useContext(mh);return nm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rm=U.createContext(void 0);rm.displayName="FrameworkContext";function _w(){let r=U.useContext(rm);return nm(r,"You must render this element inside a <HydratedRouter> element"),r}function VT(r,e){let n=U.useContext(rm),[a,s]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,k=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let M=W=>{W.forEach(J=>{f(J.isIntersecting)})},z=new IntersectionObserver(M,{threshold:.5});return k.current&&z.observe(k.current),()=>{z.disconnect()}}},[r]),U.useEffect(()=>{if(a){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[a]);let R=()=>{s(!0)},_=()=>{s(!1),f(!1)};return n?r!=="intent"?[u,k,{}]:[u,k,{onFocus:Nl(p,R),onBlur:Nl(m,_),onMouseEnter:Nl(g,R),onMouseLeave:Nl(v,_),onTouchStart:Nl(S,R)}]:[!1,k,{}]}function Nl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $T({page:r,...e}){let{router:n}=Cw(),a=U.useMemo(()=>yw(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?U.createElement(BT,{page:r,matches:a,...e}):null}function qT(r){let{manifest:e,routeModules:n}=_w(),[a,s]=U.useState([]);return U.useEffect(()=>{let u=!1;return AT(r,e,n).then(f=>{u||s(f)}),()=>{u=!0}},[r,e,n]),a}function BT({page:r,matches:e,...n}){let a=vi(),{manifest:s,routeModules:u}=_w(),{basename:f}=Cw(),{loaderData:p,matches:m}=UT(),g=U.useMemo(()=>Rb(r,e,m,s,a,"data"),[r,e,m,s,a]),v=U.useMemo(()=>Rb(r,e,m,s,a,"assets"),[r,e,m,s,a]),S=U.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let _=new Set,M=!1;if(e.forEach(W=>{var J;let ie=s.routes[W.route.id];!ie||!ie.hasLoader||(!g.some(ue=>ue.route.id===W.route.id)&&W.route.id in p&&(J=u[W.route.id])!=null&&J.shouldRevalidate||ie.hasClientLoader?M=!0:_.add(W.route.id))}),_.size===0)return[];let z=zT(r,f);return M&&_.size>0&&z.searchParams.set("_routes",e.filter(W=>_.has(W.route.id)).map(W=>W.route.id).join(",")),[z.pathname+z.search]},[f,p,a,s,g,e,r,u]),k=U.useMemo(()=>PT(v,s),[v,s]),R=qT(v);return U.createElement(U.Fragment,null,S.map(_=>U.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),k.map(_=>U.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),R.map(({key:_,link:M})=>U.createElement("link",{key:_,...M})))}function WT(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.5.1")}catch{}function QT({basename:r,children:e,window:n}){let a=U.useRef();a.current==null&&(a.current=Ax({window:n,v5Compat:!0}));let s=a.current,[u,f]=U.useState({action:s.action,location:s.location}),p=U.useCallback(m=>{U.startTransition(()=>f(m))},[f]);return U.useLayoutEffect(()=>s.listen(p),[s,p]),U.createElement(ST,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:s})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,im=U.forwardRef(function({onClick:r,discover:e="render",prefetch:n="none",relative:a,reloadDocument:s,replace:u,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...S},k){let{basename:R}=U.useContext(hr),_=typeof m=="string"&&Nw.test(m),M,z=!1;if(typeof m=="string"&&_&&(M=m,Dw))try{let E=new URL(window.location.href),D=m.startsWith("//")?new URL(E.protocol+m):new URL(m),P=di(D.pathname,R);D.origin===E.origin&&P!=null?m=P+D.search+D.hash:z=!0}catch{nr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=aT(m,{relative:a}),[J,ie,ue]=VT(n,S),ce=YT(m,{replace:u,state:f,target:p,preventScrollReset:g,relative:a,viewTransition:v});function ae(E){r&&r(E),E.defaultPrevented||ce(E)}let A=U.createElement("a",{...S,...ue,href:M||W,onClick:z||s?r:ae,ref:WT(k,ie),target:p,"data-discover":!_&&e==="render"?"true":void 0});return J&&!_?U.createElement(U.Fragment,null,A,U.createElement($T,{page:W})):A});im.displayName="Link";var Ow=U.forwardRef(function({"aria-current":r="page",caseSensitive:e=!1,className:n="",end:a=!1,style:s,to:u,viewTransition:f,children:p,...m},g){let v=eu(u,{relative:m.relative}),S=vi(),k=U.useContext(mh),{navigator:R,basename:_}=U.useContext(hr),M=k!=null&&eE(v)&&f===!0,z=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,W=S.pathname,J=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;e||(W=W.toLowerCase(),J=J?J.toLowerCase():null,z=z.toLowerCase()),J&&_&&(J=di(J,_)||J);const ie=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ue=W===z||!a&&W.startsWith(z)&&W.charAt(ie)==="/",ce=J!=null&&(J===z||!a&&J.startsWith(z)&&J.charAt(z.length)==="/"),ae={isActive:ue,isPending:ce,isTransitioning:M},A=ue?r:void 0,E;typeof n=="function"?E=n(ae):E=[n,ue?"active":null,ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(ae):s;return U.createElement(im,{...m,"aria-current":A,className:E,ref:g,style:D,to:u,viewTransition:f},typeof p=="function"?p(ae):p)});Ow.displayName="NavLink";var HT=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:u,method:f=zc,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:S,...k},R)=>{let _=JT(),M=ZT(p,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&Nw.test(p),J=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||f;_(ue||ie.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:s,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return U.createElement("form",{ref:R,method:z,action:M,onSubmit:a?m:J,...k,"data-discover":!W&&r==="render"?"true":void 0})});HT.displayName="Form";function KT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(r){let e=U.useContext(vs);return gt(e,KT(r)),e}function YT(r,{target:e,replace:n,state:a,preventScrollReset:s,relative:u,viewTransition:f}={}){let p=Zp(),m=vi(),g=eu(r,{relative:u});return U.useCallback(v=>{if(_T(v,e)){v.preventDefault();let S=n!==void 0?n:Vl(m)===Vl(g);p(r,{replace:S,state:a,preventScrollReset:s,relative:u,viewTransition:f})}},[m,p,g,n,a,e,r,s,u,f])}var GT=0,XT=()=>`__${String(++GT)}__`;function JT(){let{router:r}=Iw("useSubmit"),{basename:e}=U.useContext(hr),n=yT();return U.useCallback(async(a,s={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=OT(a,e);if(s.navigate===!1){let v=s.fetcherKey||XT();await r.fetch(v,n,s.action||u,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||f,formEncType:s.encType||p,flushSync:s.flushSync})}else await r.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||f,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,n])}function ZT(r,{relative:e}={}){let{basename:n}=U.useContext(hr),a=U.useContext(fr);gt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),u={...eu(r||".",{relative:e})},f=vi();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(g=>g==="")){p.delete("index"),m.filter(v=>v).forEach(v=>p.append("index",v));let g=p.toString();u.search=g?`?${g}`:""}}return(!r||r===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hi([n,u.pathname])),Vl(u)}function eE(r,e={}){let n=U.useContext(Sw);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Iw("useViewTransitionState"),s=eu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=di(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=di(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Yc(s.pathname,f)!=null||Yc(s.pathname,u)!=null}new TextEncoder;[...jT];const tE=()=>{};var Ab={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rw=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let s=r.charCodeAt(a);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nE=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const s=r[n++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const u=r[n++];e[a++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=r[n++],f=r[n++],p=r[n++],m=((s&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((s&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<r.length;s+=3){const u=r[s],f=s+1<r.length,p=f?r[s+1]:0,m=s+2<r.length,g=m?r[s+2]:0,v=u>>2,S=(u&3)<<4|p>>4;let k=(p&15)<<2|g>>6,R=g&63;m||(R=64,f||(k=64)),a.push(n[v],n[S],n[k],n[R])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Rw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<r.length;){const u=n[r.charAt(s++)],f=s<r.length?n[r.charAt(s)]:0;++s;const p=s<r.length?n[r.charAt(s)]:64;++s;const m=s<r.length?n[r.charAt(s)]:64;if(++s,u==null||f==null||p==null||m==null)throw new rE;const g=u<<2|f>>4;if(a.push(g),p!==64){const v=f<<4&240|p>>2;if(a.push(v),m!==64){const S=p<<6&192|m;a.push(S)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iE=function(r){const e=Rw(r);return Aw.encodeByteArray(e,!0)},Gc=function(r){return iE(r).replace(/\./g,"")},aE=function(r){try{return Aw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sE=()=>oE().__FIREBASE_DEFAULTS__,lE=()=>{if(typeof process>"u"||typeof Ab>"u")return;const r=Ab.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aE(r[1]);return e&&JSON.parse(e)},am=()=>{try{return tE()||sE()||lE()||uE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cE=r=>{var e,n;return(n=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},hE=r=>{const e=cE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Pw=()=>{var r;return(r=am())===null||r===void 0?void 0:r.config};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",s=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Gc(JSON.stringify(n)),Gc(JSON.stringify(f)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mE(){var r;const e=(r=am())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gE(){return!mE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function vE(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var u;e(((u=s.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bE="FirebaseError";class ws extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=bE,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lw.prototype.create)}}class Lw{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},s=`${this.service}/${e}`,u=this.errors[e],f=u?wE(u,a):"Error",p=`${this.serviceName}: ${f} (${s}).`;return new ws(s,p,a)}}function wE(r,e){return r.replace(SE,(n,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const SE=/\{\$([^}]+)}/g;function Xc(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const s of n){if(!a.includes(s))return!1;const u=r[s],f=e[s];if(Pb(u)&&Pb(f)){if(!Xc(u,f))return!1}else if(u!==f)return!1}for(const s of a)if(!n.includes(s))return!1;return!0}function Pb(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lr(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ja="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new fE;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TE(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&f.resolve(s)}return s}onInit(e,n){var a;const s=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(s))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(s,u);const f=this.instances.get(s);return f&&e(f,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const s of a)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:xE(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xE(r){return r===Ja?void 0:r}function TE(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const CE={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},_E=ze.INFO,DE={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},NE=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),s=DE[e];if(s)console[s](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mw{constructor(e){this.name=e,this._logLevel=_E,this._logHandler=NE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const OE=(r,e)=>e.some(n=>r instanceof n);let Lb,Mb;function IE(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RE(){return Mb||(Mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,fp=new WeakMap,jw=new WeakMap,Qd=new WeakMap,om=new WeakMap;function AE(r){const e=new Promise((n,a)=>{const s=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ji(r.result)),s()},f=()=>{a(r.error),s()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Fw.set(n,r)}).catch(()=>{}),om.set(e,r),e}function PE(r){if(fp.has(r))return;const e=new Promise((n,a)=>{const s=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),s()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});fp.set(r,e)}let dp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LE(r){dp=r(dp)}function ME(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Hd(this),e,...n);return jw.set(a,e.sort?e.sort():[e]),Ji(a)}:RE().includes(r)?function(...e){return r.apply(Hd(this),e),Ji(Fw.get(this))}:function(...e){return Ji(r.apply(Hd(this),e))}}function FE(r){return typeof r=="function"?ME(r):(r instanceof IDBTransaction&&PE(r),OE(r,IE())?new Proxy(r,dp):r)}function Ji(r){if(r instanceof IDBRequest)return AE(r);if(Qd.has(r))return Qd.get(r);const e=FE(r);return e!==r&&(Qd.set(r,e),om.set(e,r)),e}const Hd=r=>om.get(r);function jE(r,e,{blocked:n,upgrade:a,blocking:s,terminated:u}={}){const f=indexedDB.open(r,e),p=Ji(f);return a&&f.addEventListener("upgradeneeded",m=>{a(Ji(f.result),m.oldVersion,m.newVersion,Ji(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const zE=["get","getKey","getAll","getAllKeys","count"],UE=["put","add","delete","clear"],Kd=new Map;function Fb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,s=UE.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(s||zE.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,s?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),s&&m.done]))[0]};return Kd.set(e,u),u}LE(r=>({...r,get:(e,n,a)=>Fb(e,n)||r.get(e,n,a),has:(e,n)=>!!Fb(e,n)||r.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($E(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function $E(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",jb="0.11.4";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pi=new Mw("@firebase/app"),qE="@firebase/app-compat",BE="@firebase/analytics-compat",WE="@firebase/analytics",QE="@firebase/app-check-compat",HE="@firebase/app-check",KE="@firebase/auth",YE="@firebase/auth-compat",GE="@firebase/database",XE="@firebase/data-connect",JE="@firebase/database-compat",ZE="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",a2="@firebase/performance",o2="@firebase/performance-compat",s2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/vertexai",d2="@firebase/firestore-compat",p2="firebase",m2="11.6.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mp="[DEFAULT]",g2={[pp]:"fire-core",[qE]:"fire-core-compat",[WE]:"fire-analytics",[BE]:"fire-analytics-compat",[HE]:"fire-app-check",[QE]:"fire-app-check-compat",[KE]:"fire-auth",[YE]:"fire-auth-compat",[GE]:"fire-rtdb",[XE]:"fire-data-connect",[JE]:"fire-rtdb-compat",[ZE]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[a2]:"fire-perf",[o2]:"fire-perf-compat",[s2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[h2]:"fire-fst",[d2]:"fire-fst-compat",[f2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jc=new Map,y2=new Map,gp=new Map;function zb(r,e){try{r.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Zc(r){const e=r.name;if(gp.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,r);for(const n of Jc.values())zb(n,r);for(const n of y2.values())zb(n,r);return!0}function v2(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function b2(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Lw("app","Firebase",w2);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S2{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k2=m2;function zw(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),s=a.name;if(typeof s!="string"||!s)throw Zi.create("bad-app-name",{appName:String(s)});if(n||(n=Pw()),!n)throw Zi.create("no-options");const u=Jc.get(s);if(u){if(Xc(n,u.options)&&Xc(a,u.config))return u;throw Zi.create("duplicate-app",{appName:s})}const f=new EE(s);for(const m of gp.values())f.addComponent(m);const p=new S2(n,a,f);return Jc.set(s,p),p}function x2(r=mp){const e=Jc.get(r);if(!e&&r===mp&&Pw())return zw();if(!e)throw Zi.create("no-app",{appName:r});return e}function us(r,e,n){var a;let s=(a=g2[r])!==null&&a!==void 0?a:r;n&&(s+=`-${n}`);const u=s.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${s}" with version "${e}":`];u&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(p.join(" "));return}Zc(new $l(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T2="firebase-heartbeat-database",E2=1,ql="firebase-heartbeat-store";let Yd=null;function Uw(){return Yd||(Yd=jE(T2,E2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zi.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function C2(r){try{const e=(await Uw()).transaction(ql),n=await e.objectStore(ql).get(Vw(r));return await e.done,n}catch(e){if(e instanceof ws)pi.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function Ub(r,e){try{const n=(await Uw()).transaction(ql,"readwrite");await n.objectStore(ql).put(e,Vw(r)),await n.done}catch(n){if(n instanceof ws)pi.warn(n.message);else{const a=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(a.message)}}}function Vw(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _2=1024,D2=30;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I2(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>D2){const u=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){pi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vb(),{heartbeatsToSend:a,unsentEntries:s}=O2(this._heartbeatsCache.heartbeats),u=Gc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return pi.warn(n),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function O2(r,e=_2){const n=[];let a=r.slice();for(const s of r){const u=n.find(f=>f.agent===s.agent);if(u){if(u.dates.push(s.date),$b(n)>e){u.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$b(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?vE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await C2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ub(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ub(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $b(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function R2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function A2(r){Zc(new $l("platform-logger",e=>new VE(e),"PRIVATE")),Zc(new $l("heartbeat",e=>new N2(e),"PRIVATE")),us(pp,jb,r),us(pp,jb,"esm2017"),us("fire-js","")}A2("");var P2="firebase",L2="11.6.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/us(P2,L2,"app");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,$w;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function D(){}D.prototype=E.prototype,A.D=E.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(P,O,j){for(var N=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)N[Ye-2]=arguments[Ye];return E.prototype[O].apply(P,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,D){D||(D=0);var P=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)P[O]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(O=0;16>O;++O)P[O]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;E=A.g[0],D=A.g[1],O=A.g[2];var j=A.g[3],N=E+(j^D&(O^j))+P[0]+3614090360&4294967295;E=D+(N<<7&4294967295|N>>>25),N=j+(O^E&(D^O))+P[1]+3905402710&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(D^j&(E^D))+P[2]+606105819&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(E^O&(j^E))+P[3]+3250441966&4294967295,D=O+(N<<22&4294967295|N>>>10),N=E+(j^D&(O^j))+P[4]+4118548399&4294967295,E=D+(N<<7&4294967295|N>>>25),N=j+(O^E&(D^O))+P[5]+1200080426&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(D^j&(E^D))+P[6]+2821735955&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(E^O&(j^E))+P[7]+4249261313&4294967295,D=O+(N<<22&4294967295|N>>>10),N=E+(j^D&(O^j))+P[8]+1770035416&4294967295,E=D+(N<<7&4294967295|N>>>25),N=j+(O^E&(D^O))+P[9]+2336552879&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(D^j&(E^D))+P[10]+4294925233&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(E^O&(j^E))+P[11]+2304563134&4294967295,D=O+(N<<22&4294967295|N>>>10),N=E+(j^D&(O^j))+P[12]+1804603682&4294967295,E=D+(N<<7&4294967295|N>>>25),N=j+(O^E&(D^O))+P[13]+4254626195&4294967295,j=E+(N<<12&4294967295|N>>>20),N=O+(D^j&(E^D))+P[14]+2792965006&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(E^O&(j^E))+P[15]+1236535329&4294967295,D=O+(N<<22&4294967295|N>>>10),N=E+(O^j&(D^O))+P[1]+4129170786&4294967295,E=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(E^D))+P[6]+3225465664&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^D&(j^E))+P[11]+643717713&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^E&(O^j))+P[0]+3921069994&4294967295,D=O+(N<<20&4294967295|N>>>12),N=E+(O^j&(D^O))+P[5]+3593408605&4294967295,E=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(E^D))+P[10]+38016083&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^D&(j^E))+P[15]+3634488961&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^E&(O^j))+P[4]+3889429448&4294967295,D=O+(N<<20&4294967295|N>>>12),N=E+(O^j&(D^O))+P[9]+568446438&4294967295,E=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(E^D))+P[14]+3275163606&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^D&(j^E))+P[3]+4107603335&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^E&(O^j))+P[8]+1163531501&4294967295,D=O+(N<<20&4294967295|N>>>12),N=E+(O^j&(D^O))+P[13]+2850285829&4294967295,E=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(E^D))+P[2]+4243563512&4294967295,j=E+(N<<9&4294967295|N>>>23),N=O+(E^D&(j^E))+P[7]+1735328473&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^E&(O^j))+P[12]+2368359562&4294967295,D=O+(N<<20&4294967295|N>>>12),N=E+(D^O^j)+P[5]+4294588738&4294967295,E=D+(N<<4&4294967295|N>>>28),N=j+(E^D^O)+P[8]+2272392833&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^D)+P[11]+1839030562&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^E)+P[14]+4259657740&4294967295,D=O+(N<<23&4294967295|N>>>9),N=E+(D^O^j)+P[1]+2763975236&4294967295,E=D+(N<<4&4294967295|N>>>28),N=j+(E^D^O)+P[4]+1272893353&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^D)+P[7]+4139469664&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^E)+P[10]+3200236656&4294967295,D=O+(N<<23&4294967295|N>>>9),N=E+(D^O^j)+P[13]+681279174&4294967295,E=D+(N<<4&4294967295|N>>>28),N=j+(E^D^O)+P[0]+3936430074&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^D)+P[3]+3572445317&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^E)+P[6]+76029189&4294967295,D=O+(N<<23&4294967295|N>>>9),N=E+(D^O^j)+P[9]+3654602809&4294967295,E=D+(N<<4&4294967295|N>>>28),N=j+(E^D^O)+P[12]+3873151461&4294967295,j=E+(N<<11&4294967295|N>>>21),N=O+(j^E^D)+P[15]+530742520&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^E)+P[2]+3299628645&4294967295,D=O+(N<<23&4294967295|N>>>9),N=E+(O^(D|~j))+P[0]+4096336452&4294967295,E=D+(N<<6&4294967295|N>>>26),N=j+(D^(E|~O))+P[7]+1126891415&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~D))+P[14]+2878612391&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~E))+P[5]+4237533241&4294967295,D=O+(N<<21&4294967295|N>>>11),N=E+(O^(D|~j))+P[12]+1700485571&4294967295,E=D+(N<<6&4294967295|N>>>26),N=j+(D^(E|~O))+P[3]+2399980690&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~D))+P[10]+4293915773&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~E))+P[1]+2240044497&4294967295,D=O+(N<<21&4294967295|N>>>11),N=E+(O^(D|~j))+P[8]+1873313359&4294967295,E=D+(N<<6&4294967295|N>>>26),N=j+(D^(E|~O))+P[15]+4264355552&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~D))+P[6]+2734768916&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~E))+P[13]+1309151649&4294967295,D=O+(N<<21&4294967295|N>>>11),N=E+(O^(D|~j))+P[4]+4149444226&4294967295,E=D+(N<<6&4294967295|N>>>26),N=j+(D^(E|~O))+P[11]+3174756917&4294967295,j=E+(N<<10&4294967295|N>>>22),N=O+(E^(j|~D))+P[2]+718787259&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~E))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+j&4294967295}a.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var D=E-this.blockSize,P=this.B,O=this.h,j=0;j<E;){if(O==0)for(;j<=D;)s(this,A,j),j+=this.blockSize;if(typeof A=="string"){for(;j<E;)if(P[O++]=A.charCodeAt(j++),O==this.blockSize){s(this,P),O=0;break}}else for(;j<E;)if(P[O++]=A[j++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=E},a.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var D=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=D&255,D/=256;for(this.u(A),A=Array(16),E=D=0;4>E;++E)for(var P=0;32>P;P+=8)A[D++]=this.g[E]>>>P&255;return A};function u(A,E){var D=p;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=E(A)}function f(A,E){this.h=E;for(var D=[],P=!0,O=A.length-1;0<=O;O--){var j=A[O]|0;P&&j==E||(D[O]=j,P=!1)}this.g=D}var p={};function m(A){return-128<=A&&128>A?u(A,function(E){return new f([E|0],0>E?-1:0)}):new f([A|0],0>A?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return S;if(0>A)return z(g(-A));for(var E=[],D=1,P=0;A>=D;P++)E[P]=A/D|0,D*=4294967296;return new f(E,0)}function v(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return z(v(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(E,8)),P=S,O=0;O<A.length;O+=8){var j=Math.min(8,A.length-O),N=parseInt(A.substring(O,O+j),E);8>j?(j=g(Math.pow(E,j)),P=P.j(j).add(g(N))):(P=P.j(D),P=P.add(g(N)))}return P}var S=m(0),k=m(1),R=m(16777216);r=f.prototype,r.m=function(){if(M(this))return-z(this).m();for(var A=0,E=1,D=0;D<this.g.length;D++){var P=this.i(D);A+=(0<=P?P:4294967296+P)*E,E*=4294967296}return A},r.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(M(this))return"-"+z(this).toString(A);for(var E=g(Math.pow(A,6)),D=this,P="";;){var O=ue(D,E).g;D=W(D,O.j(E));var j=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=O,_(D))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},r.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function M(A){return A.h==-1}r.l=function(A){return A=W(this,A),M(A)?-1:_(A)?0:1};function z(A){for(var E=A.g.length,D=[],P=0;P<E;P++)D[P]=~A.g[P];return new f(D,~A.h).add(k)}r.abs=function(){return M(this)?z(this):this},r.add=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],P=0,O=0;O<=E;O++){var j=P+(this.i(O)&65535)+(A.i(O)&65535),N=(j>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);P=N>>>16,j&=65535,N&=65535,D[O]=N<<16|j}return new f(D,D[D.length-1]&-2147483648?-1:0)};function W(A,E){return A.add(z(E))}r.j=function(A){if(_(this)||_(A))return S;if(M(this))return M(A)?z(this).j(z(A)):z(z(this).j(A));if(M(A))return z(this.j(z(A)));if(0>this.l(R)&&0>A.l(R))return g(this.m()*A.m());for(var E=this.g.length+A.g.length,D=[],P=0;P<2*E;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<A.g.length;O++){var j=this.i(P)>>>16,N=this.i(P)&65535,Ye=A.i(O)>>>16,et=A.i(O)&65535;D[2*P+2*O]+=N*et,J(D,2*P+2*O),D[2*P+2*O+1]+=j*et,J(D,2*P+2*O+1),D[2*P+2*O+1]+=N*Ye,J(D,2*P+2*O+1),D[2*P+2*O+2]+=j*Ye,J(D,2*P+2*O+2)}for(P=0;P<E;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=E;P<2*E;P++)D[P]=0;return new f(D,0)};function J(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function ie(A,E){this.g=A,this.h=E}function ue(A,E){if(_(E))throw Error("division by zero");if(_(A))return new ie(S,S);if(M(A))return E=ue(z(A),E),new ie(z(E.g),z(E.h));if(M(E))return E=ue(A,z(E)),new ie(z(E.g),E.h);if(30<A.g.length){if(M(A)||M(E))throw Error("slowDivide_ only works with positive integers.");for(var D=k,P=E;0>=P.l(A);)D=ce(D),P=ce(P);var O=ae(D,1),j=ae(P,1);for(P=ae(P,2),D=ae(D,2);!_(P);){var N=j.add(P);0>=N.l(A)&&(O=O.add(D),j=N),P=ae(P,1),D=ae(D,1)}return E=W(A,O.j(E)),new ie(O,E)}for(O=S;0<=A.l(E);){for(D=Math.max(1,Math.floor(A.m()/E.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=g(D),N=j.j(E);M(N)||0<N.l(A);)D-=P,j=g(D),N=j.j(E);_(j)&&(j=k),O=O.add(j),A=W(A,N)}return new ie(O,A)}r.A=function(A){return ue(this,A).h},r.and=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],P=0;P<E;P++)D[P]=this.i(P)&A.i(P);return new f(D,this.h&A.h)},r.or=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],P=0;P<E;P++)D[P]=this.i(P)|A.i(P);return new f(D,this.h|A.h)},r.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],P=0;P<E;P++)D[P]=this.i(P)^A.i(P);return new f(D,this.h^A.h)};function ce(A){for(var E=A.g.length+1,D=[],P=0;P<E;P++)D[P]=A.i(P)<<1|A.i(P-1)>>>31;return new f(D,A.h)}function ae(A,E){var D=E>>5;E%=32;for(var P=A.g.length-D,O=[],j=0;j<P;j++)O[j]=0<E?A.i(j+D)>>>E|A.i(j+D+1)<<32-E:A.i(j+D);return new f(O,A.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,$w=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ea=f}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qw,Rl,Bw,Vc,yp,Ww,Qw,Hw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function s(c,y){if(y)e:{var b=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var $=c[T];if(!($ in b))break e;b=b[$]}c=c[c.length-1],T=b[c],y=y(T),y!=T&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,T=!1,$={next:function(){if(!T&&b<c.length){var Y=b++;return{value:y(Y,c[Y]),done:!1}}return T=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,b){return c.call.apply(c.bind,arguments)}function S(c,y,b){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,T),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function k(c,y,b){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,k.apply(null,arguments)}function R(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function _(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(T,$,Y){for(var oe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)oe[$e-2]=arguments[$e];return y.prototype[$].apply(T,oe)}}function M(c){const y=c.length;if(0<y){const b=Array(y);for(let T=0;T<y;T++)b[T]=c[T];return b}return[]}function z(c,y){for(let b=1;b<arguments.length;b++){const T=arguments[b];if(m(T)){const $=c.length||0,Y=T.length||0;c.length=$+Y;for(let oe=0;oe<Y;oe++)c[$+oe]=T[oe]}else c.push(T)}}class W{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ae(c,y,b){for(const T in c)y.call(b,c[T],T,c)}function A(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function E(c){const y={};for(const b in c)y[b]=c[b];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let b,T;for(let $=1;$<arguments.length;$++){T=arguments[$];for(b in T)c[b]=T[b];for(let Y=0;Y<D.length;Y++)b=D[Y],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function O(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function j(c){p.setTimeout(()=>{throw c},0)}function N(){var c=be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,b){const T=et.get();T.set(y,b),this.h?this.h.next=T:this.g=T,this.h=T}}var et=new W(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,be=new Ye,L=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){j(b)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};p.addEventListener("test",b,y),p.removeEventListener("test",b,y)}catch{}return c}();function _e(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ue(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}_(_e,re);var ve={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Me=0;function vn(c,y,b,T,$){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!T,this.ha=$,this.key=++Me,this.da=this.fa=!1}function Fn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Cn(c){this.src=c,this.g={},this.h=0}Cn.prototype.add=function(c,y,b,T,$){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=zn(c,y,T,$);return-1<oe?(y=c[oe],b||(y.fa=!1)):(y=new vn(y,this.src,Y,!!T,$),y.fa=b,c.push(y)),y};function jn(c,y){var b=y.type;if(b in c.g){var T=c.g[b],$=Array.prototype.indexOf.call(T,y,void 0),Y;(Y=0<=$)&&Array.prototype.splice.call(T,$,1),Y&&(Fn(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function zn(c,y,b,T){for(var $=0;$<c.length;++$){var Y=c[$];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==T)return $}return-1}var at="closure_lm_"+(1e6*Math.random()|0),xt={};function Fr(c,y,b,T,$){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Fr(c,y[Y],b,T,$);return null}return b=fo(b),c&&c[ft]?c.K(y,b,g(T)?!!T.capture:!1,$):fn(c,y,b,!1,T,$)}function fn(c,y,b,T,$,Y){if(!y)throw Error("Invalid event type");var oe=g($)?!!$.capture:!!$,$e=Si(c);if($e||(c[at]=$e=new Cn(c)),b=$e.add(y,b,T,oe,Y),b.proxy)return b;if(T=co(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)me||($=oe),$===void 0&&($=!1),c.addEventListener(y.toString(),T,$);else if(c.attachEvent)c.attachEvent(jr(y.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function co(){function c(b){return y.call(c.src,c.listener,b)}const y=ho;return c}function pa(c,y,b,T,$){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)pa(c,y[Y],b,T,$);else T=g(T)?!!T.capture:!!T,b=fo(b),c&&c[ft]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],b=zn(Y,b,T,$),-1<b&&(Fn(Y[b]),Array.prototype.splice.call(Y,b,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Si(c))&&(y=c.g[y.toString()],c=-1,y&&(c=zn(y,b,T,$)),(b=-1<c?y[c]:null)&&wi(b))}function wi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ft])jn(y.i,c);else{var b=c.type,T=c.proxy;y.removeEventListener?y.removeEventListener(b,T,c.capture):y.detachEvent?y.detachEvent(jr(b),T):y.addListener&&y.removeListener&&y.removeListener(T),(b=Si(y))?(jn(b,c),b.h==0&&(b.src=null,y[at]=null)):Fn(c)}}}function jr(c){return c in xt?xt[c]:xt[c]="on"+c}function ho(c,y){if(c.da)c=!0;else{y=new _e(y,this);var b=c.listener,T=c.ha||c.src;c.fa&&wi(c),c=b.call(T,y)}return c}function Si(c){return c=c[at],c instanceof Cn?c:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function fo(c){return typeof c=="function"?c:(c[ma]||(c[ma]=function(y){return c.handleEvent(y)}),c[ma])}function dt(){se.call(this),this.i=new Cn(this),this.M=this,this.F=null}_(dt,se),dt.prototype[ft]=!0,dt.prototype.removeEventListener=function(c,y,b,T){pa(this,c,y,b,T)};function Be(c,y){var b,T=c.F;if(T)for(b=[];T;T=T.F)b.push(T);if(c=c.M,T=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var $=y;y=new re(T,c),P(y,$)}if($=!0,b)for(var Y=b.length-1;0<=Y;Y--){var oe=y.g=b[Y];$=Qt(oe,T,!0,y)&&$}if(oe=y.g=c,$=Qt(oe,T,!0,y)&&$,$=Qt(oe,T,!1,y)&&$,b)for(Y=0;Y<b.length;Y++)oe=y.g=b[Y],$=Qt(oe,T,!1,y)&&$}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],T=0;T<b.length;T++)Fn(b[T]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,b,T){return this.i.add(String(c),y,!1,b,T)},dt.prototype.L=function(c,y,b,T){return this.i.add(String(c),y,!0,b,T)};function Qt(c,y,b,T){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==b){var $e=oe.listener,Lt=oe.ha||oe.src;oe.fa&&jn(c.i,oe),$=$e.call(Lt,T)!==!1&&$}}return $&&!T.defaultPrevented}function Rt(c,y,b){if(typeof c=="function")b&&(c=k(c,b));else if(c&&typeof c.handleEvent=="function")c=k(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function ga(c){c.g=Rt(()=>{c.g=null,c.i&&(c.i=!1,ga(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _s extends se{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(c){se.call(this),this.h=c,this.g={}}_(Un,se);var pr=[];function zr(c){ae(c.g,function(y,b){this.g.hasOwnProperty(b)&&wi(y)},c),c.g={}}Un.prototype.N=function(){Un.aa.N.call(this),zr(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=p.JSON.stringify,Ur=p.JSON.parse,rr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ya(){}ya.prototype.h=null;function ki(c){return c.h||(c.h=c.i())}function va(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){re.call(this,"d")}_(pt,re);function _t(){re.call(this,"c")}_(_t,re);var dn={},Ge=null;function At(){return Ge=Ge||new dt}dn.La="serverreachability";function xi(c){re.call(this,dn.La,c)}_(xi,re);function $n(c){const y=At();Be(y,new xi(y))}dn.STAT_EVENT="statevent";function ba(c,y){re.call(this,dn.STAT_EVENT,c),this.stat=y}_(ba,re);function ot(c){const y=At();Be(y,new ba(y,c))}dn.Ma="timingevent";function vt(c,y){re.call(this,dn.Ma,c),this.size=y}_(vt,re);function ct(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function Vr(c,y,b,T,$,Y){c.info(function(){if(c.g)if(Y)for(var oe="",$e=Y.split("&"),Lt=0;Lt<$e.length;Lt++){var We=$e[Lt].split("=");if(1<We.length){var Vt=We[0];We=We[1];var Yt=Vt.split("_");oe=2<=Yt.length&&Yt[1]=="type"?oe+(Vt+"="+We+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+T+") [attempt "+$+"]: "+y+`
`+b+`
`+oe})}function wa(c,y,b,T,$,Y,oe){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+$+"]: "+y+`
`+b+`
`+Y+" "+oe})}function mr(c,y,b,T){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gr(c,b)+(T?" "+T:"")})}function Ti(c,y){c.info(function(){return"TIMEOUT: "+y})}an.prototype.info=function(){};function gr(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var T=b[c];if(!(2>T.length)){var $=T[1];if(Array.isArray($)&&!(1>$.length)){var Y=$[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return bn(b)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function Ue(){}_(Ue,ya),Ue.prototype.g=function(){return new XMLHttpRequest},Ue.prototype.i=function(){return{}},xe=new Ue;function Pe(c,y,b,T){this.j=c,this.i=y,this.l=b,this.R=T||1,this.U=new Un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var Ht={},vr={};function _n(c,y,b){c.L=1,c.v=Ea(Dn(y)),c.m=b,c.P=!0,ar(c,null)}function ar(c,y){c.F=Date.now(),Sa(c),c.A=Dn(c.v);var b=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),As(b.i,"t",T),c.C=0,b=c.j.J,c.h=new Ve,c.g=Cu(c.j,b?y:null,!c.m),0<c.O&&(c.M=new _s(k(c.Y,c,c.g),c.O)),y=c.U,b=c.g,T=c.ca;var $="readystatechange";Array.isArray($)||($&&(pr[0]=$.toString()),$=pr);for(var Y=0;Y<$.length;Y++){var oe=Fr(b,$[Y],T||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),$n(),Vr(c.i,c.u,c.A,c.l,c.R,c.m)}Pe.prototype.ca=function(c){c=c.target;const y=this.M;y&&Qn(c)==3?y.j():this.Y(c)},Pe.prototype.Y=function(c){try{if(c==this.g)e:{const Yt=Qn(this.g);var y=this.g.Ba();const Yr=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||Yt!=4||y==7||(y==8||0>=Yr?$n(3):$n(2)),Ei(this);var b=this.g.Z();this.X=b;t:if(hu(this)){var T=vu(this.g);c="";var $=T.length,Y=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),br(this);var oe="";break t}this.h.i=new p.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(T[y],{stream:!(Y&&y==$-1)});T.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=b==200,wa(this.i,this.u,this.A,this.l,this.R,Yt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Lt=this.g;if(($e=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J($e)){var We=$e;break t}}We=null}if(b=We)mr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,b);else{this.o=!1,this.s=3,ot(12),Kt(this),br(this);break e}}if(this.P){b=!0;let Gt;for(;!this.J&&this.C<oe.length;)if(Gt=fu(this,oe),Gt==vr){Yt==4&&(this.s=4,ot(14),b=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ht){this.s=4,ot(15),mr(this.i,this.l,oe,"[Invalid Chunk]"),b=!1;break}else mr(this.i,this.l,Gt,null),ka(this,Gt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||oe.length!=0||this.h.h||(this.s=1,ot(16),b=!1),this.o=this.o&&b,!b)mr(this.i,this.l,oe,"[Invalid Chunked Response]"),Kt(this),br(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Aa(Vt),Vt.M=!0,ot(11))}}else mr(this.i,this.l,oe,null),ka(this,oe);Yt==4&&Kt(this),this.o&&!this.J&&(Yt==4?xu(this.j,this):(this.o=!1,Sa(this)))}else Yh(this.g),b==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Kt(this),br(this)}}}catch{}finally{}};function hu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fu(c,y){var b=c.C,T=y.indexOf(`
`,b);return T==-1?vr:(b=Number(y.substring(b,T)),isNaN(b)?Ht:(T+=1,T+b>y.length?vr:(y=y.slice(T,T+b),c.C=T+b,y)))}Pe.prototype.cancel=function(){this.J=!0,Kt(this)};function Sa(c){c.S=Date.now()+c.I,du(c,c.I)}function du(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(k(c.ba,c),y)}function Ei(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Pe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ti(this.i,this.A),this.L!=2&&($n(),ot(17)),Kt(this),this.s=2,br(this)):du(this,this.S-c)};function br(c){c.j.G==0||c.J||xu(c.j,c)}function Kt(c){Ei(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,zr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ka(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Ds(b.h,c))){if(!c.K&&Ds(b.h,c)&&b.G==3){try{var T=b.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var $=T;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Eo(b),xo(b);else break e;js(b),ot(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=ct(k(b.Za,b),6e3));if(1>=mo(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Kr(b,11)}else if((c.K||b.g==c)&&Eo(b),!J(y))for($=b.Da.g.parse(y),y=0;y<$.length;y++){let We=$[y];if(b.T=We[0],We=We[1],b.G==2)if(We[0]=="c"){b.K=We[1],b.ia=We[2];const Vt=We[3];Vt!=null&&(b.la=Vt,b.j.info("VER="+b.la));const Yt=We[4];Yt!=null&&(b.Aa=Yt,b.j.info("SVER="+b.Aa));const Yr=We[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(T=1.5*Yr,b.L=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Gt=c.g;if(Gt){const Cr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var Y=T.h;Y.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(go(Y,Y.h),Y.h=null))}if(T.D){const Us=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Us&&(T.ya=Us,tt(T.I,T.D,Us))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),T=b;var oe=c;if(T.qa=Eu(T,T.J?T.ia:null,T.W),oe.K){pn(T.h,oe);var $e=oe,Lt=T.L;Lt&&($e.I=Lt),$e.B&&(Ei($e),Sa($e)),T.g=oe}else Su(T);0<b.i.length&&To(b)}else We[0]!="stop"&&We[0]!="close"||Kr(b,7);else b.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Kr(b,7):Ms(b):We[0]!="noop"&&b.l&&b.l.ta(We),b.v=0)}}$n(4)}catch{}}var pu=class{constructor(c,y){this.g=c,this.map=y}};function $r(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mo(c){return c.h?1:c.g?c.g.size:0}function Ds(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function go(c,y){c.g?c.g.add(y):c.h=y}function pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$r.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ns(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return M(c.i)}function Wh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],b=c.length,T=0;T<b;T++)y.push(c[T]);return y}y=[],b=0;for(T in c)y[b++]=c[T];return y}function yo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const T in c)y[b++]=T;return y}}}function Os(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=yo(c),T=Wh(c),$=T.length,Y=0;Y<$;Y++)y.call(void 0,T[Y],b&&b[Y],c)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qh(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var T=c[b].indexOf("="),$=null;if(0<=T){var Y=c[b].substring(0,T);$=c[b].substring(T+1)}else Y=c[b];y(Y,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pt){this.h=c.h,Ta(this,c.j),this.o=c.o,this.g=c.g,Ci(this,c.s),this.l=c.l;var y=c.i,b=new Br;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),qr(this,b),this.m=c.m}else c&&(y=String(c).match(xa))?(this.h=!1,Ta(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),Ci(this,y[4]),this.l=qn(y[5]||"",!0),qr(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}Pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ca(y,Is,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ca(y,Is,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ca(b,b.charAt(0)=="/"?Hh:Rs,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ca(b,vo)),c.join("")};function Dn(c){return new Pt(c)}function Ta(c,y,b){c.j=b?qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ci(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function qr(c,y,b){y instanceof Br?(c.i=y,gu(c.i,c.h)):(b||(y=Ca(y,Kh)),c.i=new Br(y,c.h))}function tt(c,y,b){c.i.set(y,b)}function Ea(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ca(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,mu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Is=/[#\/\?@]/g,Rs=/[#\?:]/g,Hh=/[#\?]/g,Kh=/[#\?@]/g,vo=/#/g;function Br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Qh(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Br.prototype,r.add=function(c,y){Bn(this),this.i=null,c=wr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Wr(c,y){Bn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qr(c,y){return Bn(c),y=wr(c,y),c.g.has(y)}r.forEach=function(c,y){Bn(this),this.g.forEach(function(b,T){b.forEach(function($){c.call(y,$,T,this)},this)},this)},r.na=function(){Bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let T=0;T<y.length;T++){const $=c[T];for(let Y=0;Y<$.length;Y++)b.push(y[T])}return b},r.V=function(c){Bn(this);let y=[];if(typeof c=="string")Qr(this,c)&&(y=y.concat(this.g.get(wr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},r.set=function(c,y){return Bn(this),this.i=null,c=wr(this,c),Qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function As(c,y,b){Wr(c,y),0<b.length&&(c.i=null,c.g.set(wr(c,y),M(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var T=y[b];const Y=encodeURIComponent(String(T)),oe=this.V(T);for(T=0;T<oe.length;T++){var $=Y;oe[T]!==""&&($+="="+encodeURIComponent(String(oe[T]))),c.push($)}}return this.i=c.join("&")};function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gu(c,y){y&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(b,T){var $=T.toLowerCase();T!=$&&(Wr(this,T),As(this,$,b))},c)),c.j=y}function _a(c,y){const b=new an;if(p.Image){const T=new Image;T.onload=R(Wn,b,"TestLoadImage: loaded",!0,y,T),T.onerror=R(Wn,b,"TestLoadImage: error",!1,y,T),T.onabort=R(Wn,b,"TestLoadImage: abort",!1,y,T),T.ontimeout=R(Wn,b,"TestLoadImage: timeout",!1,y,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else y(!1)}function or(c,y){const b=new an,T=new AbortController,$=setTimeout(()=>{T.abort(),Wn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:T.signal}).then(Y=>{clearTimeout($),Y.ok?Wn(b,"TestPingServer: ok",!0,y):Wn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Wn(b,"TestPingServer: error",!1,y)})}function Wn(c,y,b,T,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),T(b)}catch{}}function Da(){this.g=new rr}function Sr(c,y,b){const T=b||"";try{Os(c,function($,Y){let oe=$;g($)&&(oe=bn($)),y.push(T+Y+"="+encodeURIComponent(oe))})}catch($){throw y.push(T+"type="+encodeURIComponent("_badmap")),$}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}_(_i,ya),_i.prototype.g=function(){return new Hr(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function Hr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Hr,dt),r=Hr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,xr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?kr(this):xr(this),this.readyState==3&&Ps(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,kr(this))},r.Qa=function(c){this.g&&(this.response=c,kr(this))},r.ga=function(){this.g&&kr(this)};function kr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ls(c){let y="";return ae(c,function(b,T){y+=T,y+=":",y+=b,y+=`\r
`}),y}function Ut(c,y,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Ls(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):tt(c,y,b))}function He(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(He,dt);var bo=/^https?$/i,Na=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?ki(this.o):ki(xe),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){yu(this,Y);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var $ in T)b.set($,T[$]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Y of T.keys())b.set(Y,T.get(Y));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),$=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Na,y,void 0))||T||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of b)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){yu(this,Y)}};function yu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wo(c),Tr(c)}function wo(c){c.A||(c.A=!0,Be(c,"complete"),Be(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Be(this,"complete"),Be(this,"abort"),Tr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},r.bb=function(){So(this)};function So(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)Rt(c.Ea,0,c);else if(Be(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var T;if(T=oe===0){var $=String(c.D).match(xa)[1]||null;!$&&p.self&&p.self.location&&($=p.self.location.protocol.slice(0,-1)),T=!bo.test($?$.toLowerCase():"")}b=T}if(b)Be(c,"complete"),Be(c,"success");else{c.m=6;try{var Y=2<Qn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",wo(c)}}finally{Tr(c)}}}}function Tr(c,y){if(c.g){Oa(c);const b=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Be(c,"ready");try{b.onreadystatechange=T}catch{}}}function Oa(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ur(y)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yh(c){const y={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(J(c[T]))continue;var b=O(c[T]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[$]||[];y[$]=Y,Y.push(b)}A(y,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function ko(c){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $r(c&&c.concurrentRequestLimit),this.Da=new Da,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ko.prototype,r.la=8,r.G=1,r.connect=function(c,y,b,T){ot(0),this.W=c,this.H=y||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.I=Eu(this,null,this.W),To(this)};function Ms(c){if(bu(c),c.G==3){var y=c.U++,b=Dn(c.I);if(tt(b,"SID",c.K),tt(b,"RID",y),tt(b,"TYPE","terminate"),Ra(c,b),y=new Pe(c,c.j,y),y.L=2,y.v=Ea(Dn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=y.v,b=!0),b||(y.g=Cu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Sa(y)}Tu(c)}function xo(c){c.g&&(Aa(c),c.g.cancel(),c.g=null)}function bu(c){xo(c),c.u&&(p.clearTimeout(c.u),c.u=null),Eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function To(c){if(!po(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||L(),pe||(le(),pe=!0),be.add(y,c),c.B=0}}function Gh(c,y){return mo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(k(c.Ga,c,y),zs(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Pe(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=E(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||($.H=Y,Y=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=wu(this,$,y),b=Dn(this.I),tt(b,"RID",c),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Ra(this,b),Y&&(this.O?y="headers="+encodeURIComponent(String(Ls(Y)))+"&"+y:this.m&&Ut(b,this.m,Y)),go(this.h,$),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",y),tt(b,"SID","null"),$.T=!0,_n($,b,null)):_n($,b,y),this.G=2}}else this.G==3&&(c?Fs(this,c):this.i.length==0||po(this.h)||Fs(this))};function Fs(c,y){var b;y?b=y.l:b=c.U++;const T=Dn(c.I);tt(T,"SID",c.K),tt(T,"RID",b),tt(T,"AID",c.T),Ra(c,T),c.m&&c.o&&Ut(T,c.m,c.o),b=new Pe(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=wu(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),go(c.h,b),_n(b,T,y)}function Ra(c,y){c.H&&ae(c.H,function(b,T){tt(y,T,b)}),c.l&&Os({},function(b,T){tt(y,T,b)})}function wu(c,y,b){b=Math.min(c.i.length,b);var T=c.l?k(c.l.Na,c.l,c):null;e:{var $=c.i;let Y=-1;for(;;){const oe=["count="+b];Y==-1?0<b?(Y=$[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let $e=!0;for(let Lt=0;Lt<b;Lt++){let We=$[Lt].g;const Vt=$[Lt].map;if(We-=Y,0>We)Y=Math.max(0,$[Lt].g-100),$e=!1;else try{Sr(Vt,oe,"req"+We+"_")}catch{T&&T(Vt)}}if($e){T=oe.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,T}function Su(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||L(),pe||(le(),pe=!0),be.add(y,c),c.v=0}}function js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(k(c.Fa,c),zs(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(k(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),xo(this),ku(this))};function Aa(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new Pe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dn(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Ra(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Ea(Dn(y)),b.m=null,b.P=!0,ar(b,c)}r.Za=function(){this.C!=null&&(this.C=null,xo(this),js(this),ot(19))};function Eo(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function xu(c,y){var b=null;if(c.g==y){Eo(c),Aa(c),c.g=null;var T=2}else if(Ds(c.h,y))b=y.D,pn(c.h,y),T=1;else return;if(c.G!=0){if(y.o)if(T==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;T=At(),Be(T,new vt(T,b)),To(c)}else Su(c);else if($=y.s,$==3||$==0&&0<y.X||!(T==1&&Gh(c,y)||T==2&&js(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),$){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function zs(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function Kr(c,y){if(c.j.info("Error code "+y),y==2){var b=k(c.fb,c),T=c.Xa;const $=!T;T=new Pt(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ta(T,"https"),Ea(T),$?_a(T.toString(),b):or(T.toString(),b)}else ot(2);c.G=0,c.l&&c.l.sa(y),Tu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Tu(c){if(c.G=0,c.ka=[],c.l){const y=Ns(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Eu(c,y,b){var T=b instanceof Pt?Dn(b):new Pt(b);if(T.g!="")y&&(T.g=y+"."+T.g),Ci(T,T.s);else{var $=p.location;T=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var Y=new Pt(null);T&&Ta(Y,T),y&&(Y.g=y),$&&Ci(Y,$),b&&(Y.l=b),T=Y}return b=c.D,y=c.ya,b&&y&&tt(T,b,y),tt(T,"VER",c.la),Ra(c,T),T}function Cu(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new _i({eb:b})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Co(){}Co.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){dt.call(this),this.g=new ko(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Er(this)}_(mn,dt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ms(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=bn(c),c=b);y.i.push(new pu(y.Ya++,c)),y.G==3&&To(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,mn.aa.N.call(this)};function Du(c){pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}_(Du,pt);function Nu(){_t.call(this),this.status=1}_(Nu,_t);function Er(c){this.g=c}_(Er,_u),Er.prototype.ua=function(){Be(this.g,"a")},Er.prototype.ta=function(c){Be(this.g,new Du(c))},Er.prototype.sa=function(c){Be(this.g,new Nu)},Er.prototype.ra=function(){Be(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Hw=function(){return new Co},Qw=function(){return At()},Ww=dn,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Vc=yr,ir.COMPLETE="complete",Bw=ir,va.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Rl=va,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,qw=He}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Bb="@firebase/firestore",Wb="4.7.10";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ss="11.5.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const no=new Mw("@firebase/firestore");function rs(){return no.logLevel}function he(r,...e){if(no.logLevel<=ze.DEBUG){const n=e.map(sm);no.debug(`Firestore (${Ss}): ${r}`,...n)}}function mi(r,...e){if(no.logLevel<=ze.ERROR){const n=e.map(sm);no.error(`Firestore (${Ss}): ${r}`,...n)}}function hs(r,...e){if(no.logLevel<=ze.WARN){const n=e.map(sm);no.warn(`Firestore (${Ss}): ${r}`,...n)}}function sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Te(r="Unexpected state"){const e=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: `+r;throw mi(e),new Error(e)}function Ke(r,e){r||Te()}function Ce(r,e){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class F2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let a=this.i;const s=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let u=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fi,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},p=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string"),new Kw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new un(e)}}class z2{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class U2{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new z2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,b2(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const s=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?s(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Qb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yw(){return new TextEncoder}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=$2(40);for(let u=0;u<s.length;++u)a.length<20&&s[u]<n&&(a+=e.charAt(s[u]%62))}return a}}function Oe(r,e){return r<e?-1:r>e?1:0}function vp(r,e){let n=0;for(;n<r.length&&n<e.length;){const a=r.codePointAt(n),s=e.codePointAt(n);if(a!==s){if(a<128&&s<128)return Oe(a,s);{const u=Yw(),f=q2(u.encode(Hb(r,n)),u.encode(Hb(e,n)));return f!==0?f:Oe(a,s)}}n+=a>65535?2:1}return Oe(r.length,e.length)}function Hb(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function q2(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Oe(r[n],e[n]);return Oe(r.length,e.length)}function fs(r,e,n){return r.length===e.length&&r.every((a,s)=>n(a,e[s]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kb=-62135596800,Yb=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Yb);return new jt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kb)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new jt(0,0))}static max(){return new Ee(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gb="__name__";class Rr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(),a===void 0?a=e.length-n:a>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let s=0;s<a;s++){const u=Rr.compareSegments(e.get(s),n.get(s));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const a=Rr.isNumericId(e),s=Rr.isNumericId(n);return a&&!s?-1:!a&&s?1:a&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class ht extends Rr{construct(e,n,a){return new ht(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(s=>s.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Rr{construct(e,n,a){return new tn(e,n,a)}static isValidIdentifier(e){return B2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new tn([Gb])}static fromServerFormat(e){const n=[];let a="",s=0;const u=()=>{if(a.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;s<e.length;){const p=e[s];if(p==="\\"){if(s+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,s+=2}else p==="`"?(f=!f,s++):p!=="."||f?(a+=p,s++):(u(),s++)}if(u(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ht.fromString(e))}static fromName(e){return new ye(ht.fromString(e).popFirst(5))}static empty(){return new ye(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ht(e.slice()))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bl=-1;function W2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(a===1e9?new jt(n+1,0):new jt(n,a));return new ra(s,ye.empty(),e)}function Q2(r){return new ra(r.readTime,r.key,Bl)}class ra{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ra(Ee.min(),ye.empty(),Bl)}static max(){return new ra(Ee.max(),ye.empty(),Bl)}}function H2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ks(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==K2)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,s)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let s=0,u=0,f=!1;e.forEach(p=>{++s,p.next(()=>{++u,f&&u===s&&n()},m=>a(m))}),f=!0,u===s&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(s=>s?ee.resolve(s):a());return n}static forEach(e,n){const a=[];return e.forEach((s,u)=>{a.push(n.call(this,s,u))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,s)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{f[g]=v,++p,p===u&&a(f)},v=>s(v))}})}static doWhile(e,n){return new ee((a,s)=>{const u=()=>{e()===!0?n().next(()=>{u()},s):a()};u()})}}function G2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xs(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yh.ae=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lm=-1;function vh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function X2(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xw="";function J2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Xb(e)),e=Z2(r.get(n),e);return Xb(e)}function Z2(r,e){let n=e;const a=r.length;for(let s=0;s<a;s++){const u=r.charAt(s);switch(u){case"\0":n+="";break;case Xw:n+="";break;default:n+=u}}return n}function Xb(r){return r+Xw+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Jb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ca(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Jw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return n+a.left.size;s<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,a,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,a,s,u){this.key=e,this.value=n,this.color=a??en.RED,this.left=s??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,s,u){return new en(e??this.key,n??this.value,a??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let s=this;const u=a(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,n,a),null):u===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(r,e,n,a,s){return this}insert(r,e,n){return new en(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=a.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new zt(tn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zw("Invalid base64 string: "+s):s}}(e);return new rn(n)}static fromUint8Array(e){const n=function(a){let s="";for(let u=0;u<a.length;++u)s+=String.fromCharCode(a[u]);return s}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const eC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=eC.exec(r);if(Ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function aa(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eS="server_timestamp",tS="__type__",nS="__previous_value__",rS="__local_write_time__";function um(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===eS}function bh(r){const e=r.mapValue.fields[nS];return um(e)?bh(e):e}function Wl(r){const e=ia(r.mapValue.fields[rS].timestampValue);return new jt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tC{constructor(e,n,a,s,u,f,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=s,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const th="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iS="__type__",nC="__max__",Ac={mapValue:{}},aS="__vector__",nh="value";function oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:iC(r)?9007199254740991:rC(r)?10:11:Te()}function Mr(r,e){if(r===e)return!0;const n=oa(r);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const u=ia(a.timestampValue),f=ia(s.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,s){return aa(a.bytesValue).isEqual(aa(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,s){return Ct(a.geoPointValue.latitude)===Ct(s.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(s.geoPointValue.longitude)}(r,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return Ct(a.integerValue)===Ct(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const u=Ct(a.doubleValue),f=Ct(s.doubleValue);return u===f?eh(u)===eh(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return fs(r.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(a,s){const u=a.mapValue.fields||{},f=s.mapValue.fields||{};if(Jb(u)!==Jb(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Mr(u[p],f[p])))return!1;return!0}(r,e);default:return Te()}}function Hl(r,e){return(r.values||[]).find(n=>Mr(n,e))!==void 0}function ds(r,e){if(r===e)return 0;const n=oa(r),a=oa(e);if(n!==a)return Oe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(s,u){const f=Ct(s.integerValue||s.doubleValue),p=Ct(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return e0(r.timestampValue,e.timestampValue);case 4:return e0(Wl(r),Wl(e));case 5:return vp(r.stringValue,e.stringValue);case 6:return function(s,u){const f=aa(s),p=aa(u);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(s,u){const f=s.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const g=Oe(f[m],p[m]);if(g!==0)return g}return Oe(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,u){const f=Oe(Ct(s.latitude),Ct(u.latitude));return f!==0?f:Oe(Ct(s.longitude),Ct(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return t0(r.arrayValue,e.arrayValue);case 10:return function(s,u){var f,p,m,g;const v=s.fields||{},S=u.fields||{},k=(f=v[nh])===null||f===void 0?void 0:f.arrayValue,R=(p=S[nh])===null||p===void 0?void 0:p.arrayValue,_=Oe(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return _!==0?_:t0(k,R)}(r.mapValue,e.mapValue);case 11:return function(s,u){if(s===Ac.mapValue&&u===Ac.mapValue)return 0;if(s===Ac.mapValue)return 1;if(u===Ac.mapValue)return-1;const f=s.fields||{},p=Object.keys(f),m=u.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let v=0;v<p.length&&v<g.length;++v){const S=vp(p[v],g[v]);if(S!==0)return S;const k=ds(f[p[v]],m[g[v]]);if(k!==0)return k}return Oe(p.length,g.length)}(r.mapValue,e.mapValue);default:throw Te()}}function e0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=ia(r),a=ia(e),s=Oe(n.seconds,a.seconds);return s!==0?s:Oe(n.nanos,a.nanos)}function t0(r,e){const n=r.values||[],a=e.values||[];for(let s=0;s<n.length&&s<a.length;++s){const u=ds(n[s],a[s]);if(u)return u}return Oe(n.length,a.length)}function ps(r){return bp(r)}function bp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=ia(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return aa(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return ye.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",a=!0;for(const s of e.values||[])a?a=!1:n+=",",n+=bp(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let a="{",s=!0;for(const u of n)s?s=!1:a+=",",a+=`${u}:${bp(e.fields[u])}`;return a+"}"}(r.mapValue):Te()}function $c(r){switch(oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+$c(e):16;case 5:return 2*r.stringValue.length;case 6:return aa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+$c(s),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return ca(n.fields,(s,u)=>{a+=s.length+$c(u)}),a}(r.mapValue);default:throw Te()}}function n0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wp(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function i0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function rC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iS])===null||n===void 0?void 0:n.stringValue)===aS}function Fl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Fl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function iC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=tn.emptyPath(),a={},s=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,a,s),a={},s=[],n=p.popLast()}f?a[p.lastSegment()]=Fl(f):s.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,s)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=n.mapValue.fields[e.get(a)];qc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,a){ca(n,(s,u)=>e[s]=u);for(const s of a)delete e[s]}clone(){return new Tn(Fl(this.value))}}function oS(r){const e=[];return ca(r.fields,(n,a)=>{const s=new tn([n]);if(qc(a)){const u=oS(a.mapValue).fields;if(u.length===0)e.push(s);else for(const f of u)e.push(s.child(f))}else e.push(s)}),new Mn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cn{constructor(e,n,a,s,u,f,p){this.key=e,this.documentType=n,this.version=a,this.readTime=s,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,Ee.min(),Ee.min(),Ee.min(),Tn.empty(),0)}static newFoundDocument(e,n,a,s){return new cn(e,1,n,Ee.min(),a,s,0)}static newNoDocument(e,n){return new cn(e,2,n,Ee.min(),Ee.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ee.min(),Ee.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rh{constructor(e,n){this.position=e,this.inclusive=n}}function a0(r,e,n){let a=0;for(let s=0;s<r.position.length;s++){const u=e[s],f=r.position[s];if(u.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),n.key):a=ds(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function o0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mr(r.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function aC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sS{}class It extends sS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new sC(e,n,a):n==="array-contains"?new cC(e,a):n==="in"?new hC(e,a):n==="not-in"?new fC(e,a):n==="array-contains-any"?new dC(e,a):new It(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new lC(e,a):new uC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends sS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return lS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lS(r){return r.op==="and"}function uS(r){return oC(r)&&lS(r)}function oC(r){for(const e of r.filters)if(e instanceof cr)return!1;return!0}function Sp(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+ps(r.value);if(uS(r))return r.filters.map(e=>Sp(e)).join(",");{const e=r.filters.map(n=>Sp(n)).join(",");return`${r.op}(${e})`}}function cS(r,e){return r instanceof It?function(n,a){return a instanceof It&&n.op===a.op&&n.field.isEqual(a.field)&&Mr(n.value,a.value)}(r,e):r instanceof cr?function(n,a){return a instanceof cr&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,u,f)=>s&&cS(u,a.filters[f]),!0):!1}(r,e):void Te()}function hS(r){return r instanceof It?function(e){return`${e.field.canonicalString()} ${e.op} ${ps(e.value)}`}(r):r instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(hS).join(" ,")+"}"}(r):"Filter"}class sC extends It{constructor(e,n,a){super(e,n,a),this.key=ye.fromName(a.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class lC extends It{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uC extends It{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fS(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ye.fromName(a.referenceValue))}class cC extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cm(n)&&Hl(n.arrayValue,this.value)}}class hC extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class fC extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class dC extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Hl(this.value.arrayValue,a))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pC{constructor(e,n=null,a=[],s=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=s,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function s0(r,e=null,n=[],a=[],s=null,u=null,f=null){return new pC(r,e,n,a,s,u,f)}function hm(r){const e=Ce(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Sp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(s){return s.field.canonicalString()+s.dir}(a)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ps(a)).join(",")),e.le=n}return e.le}function fm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!aC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o0(r.startAt,e.startAt)&&o0(r.endAt,e.endAt)}function kp(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tu{constructor(e,n=null,a=[],s=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=s,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mC(r,e,n,a,s,u,f,p){return new tu(r,e,n,a,s,u,f,p)}function wh(r){return new tu(r)}function l0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dS(r){return r.collectionGroup!==null}function jl(r){const e=Ce(r);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new zt(tn.comparator);return s.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new ih(s,a))}),n.has(tn.keyField().canonicalString())||e.he.push(new ih(tn.keyField(),a))}return e.he}function Ar(r){const e=Ce(r);return e.Pe||(e.Pe=gC(e,jl(r))),e.Pe}function gC(r,e){if(r.limitType==="F")return s0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new ih(s.field,u)});const n=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return s0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function xp(r,e){const n=r.filters.concat([e]);return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Tp(r,e,n){return new tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sh(r,e){return fm(Ar(r),Ar(e))&&r.limitType===e.limitType}function pS(r){return`${hm(Ar(r))}|lt:${r.limitType}`}function is(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(a=>hS(a)).join(", ")}]`),vh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>ps(a)).join(",")),`Target(${n})`}(Ar(r))}; limitType=${r.limitType})`}function kh(r,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ye.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,a){for(const s of jl(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(s,u,f){const p=a0(s,u,f);return s.inclusive?p<=0:p<0}(n.startAt,jl(n),a)||n.endAt&&!function(s,u,f){const p=a0(s,u,f);return s.inclusive?p>=0:p>0}(n.endAt,jl(n),a))}(r,e)}function yC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mS(r){return(e,n)=>{let a=!1;for(const s of jl(r)){const u=vC(s,e,n);if(u!==0)return u;a=a||s.field.isKeyField()}return 0}}function vC(r,e,n){const a=r.field.isKeyField()?ye.comparator(e.key,n.key):function(s,u,f){const p=u.data.field(s),m=f.data.field(s);return p!==null&&m!==null?ds(p,m):Te()}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[s,u]of a)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[n]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,a)=>{for(const[s,u]of a)e(s,u)})}isEmpty(){return Jw(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bC=new wt(ye.comparator);function gi(){return bC}const gS=new wt(ye.comparator);function Al(...r){let e=gS;for(const n of r)e=e.insert(n.key,n);return e}function yS(r){let e=gS;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function eo(){return zl()}function vS(){return zl()}function zl(){return new ao(r=>r.toString(),(r,e)=>r.isEqual(e))}const wC=new wt(ye.comparator),SC=new zt(ye.comparator);function Le(...r){let e=SC;for(const n of r)e=e.add(n);return e}const kC=new zt(Oe);function xC(){return kC}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function bS(r){return{integerValue:""+r}}function TC(r,e){return X2(e)?bS(e):dm(r,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xh{constructor(){this._=void 0}}function EC(r,e,n){return r instanceof ah?function(a,s){const u={fields:{[tS]:{stringValue:eS},[rS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&um(s)&&(s=bh(s)),s&&(u.fields[nS]=s),{mapValue:u}}(n,e):r instanceof Kl?SS(r,e):r instanceof Yl?kS(r,e):function(a,s){const u=wS(a,s),f=u0(u)+u0(a.Ie);return wp(u)&&wp(a.Ie)?bS(f):dm(a.serializer,f)}(r,e)}function CC(r,e,n){return r instanceof Kl?SS(r,e):r instanceof Yl?kS(r,e):n}function wS(r,e){return r instanceof oh?function(n){return wp(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class ah extends xh{}class Kl extends xh{constructor(e){super(),this.elements=e}}function SS(r,e){const n=xS(e);for(const a of r.elements)n.some(s=>Mr(s,a))||n.push(a);return{arrayValue:{values:n}}}class Yl extends xh{constructor(e){super(),this.elements=e}}function kS(r,e){let n=xS(e);for(const a of r.elements)n=n.filter(s=>!Mr(s,a));return{arrayValue:{values:n}}}class oh extends xh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function u0(r){return Ct(r.integerValue||r.doubleValue)}function xS(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _C(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof Kl&&a instanceof Kl||n instanceof Yl&&a instanceof Yl?fs(n.elements,a.elements,Mr):n instanceof oh&&a instanceof oh?Mr(n.Ie,a.Ie):n instanceof ah&&a instanceof ah}(r.transform,e.transform)}class DC{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Th{}function TS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pm(r.key,er.none()):new nu(r.key,r.data,er.none());{const n=r.data,a=Tn.empty();let s=new zt(tn.comparator);for(let u of e.fields)if(!s.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),s=s.add(u)}return new ha(r.key,a,new Mn(s.toArray()),er.none())}}function NC(r,e,n){r instanceof nu?function(a,s,u){const f=a.value.clone(),p=h0(a.fieldTransforms,s,u.transformResults);f.setAll(p),s.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,n):r instanceof ha?function(a,s,u){if(!Bc(a.precondition,s))return void s.convertToUnknownDocument(u.version);const f=h0(a.fieldTransforms,s,u.transformResults),p=s.data;p.setAll(ES(a)),p.setAll(f),s.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,n):function(a,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Ul(r,e,n,a){return r instanceof nu?function(s,u,f,p){if(!Bc(s.precondition,u))return f;const m=s.value.clone(),g=f0(s.fieldTransforms,p,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,n,a):r instanceof ha?function(s,u,f,p){if(!Bc(s.precondition,u))return f;const m=f0(s.fieldTransforms,p,u),g=u.data;return g.setAll(ES(s)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(r,e,n,a):function(s,u,f){return Bc(s.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,n)}function OC(r,e){let n=null;for(const a of r.fieldTransforms){const s=e.data.field(a.field),u=wS(a.transform,s||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(a.field,u))}return n||null}function c0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&fs(n,a,(s,u)=>_C(s,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Th{constructor(e,n,a,s=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ha extends Th{constructor(e,n,a,s,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ES(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function h0(r,e,n){const a=new Map;Ke(r.length===n.length);for(let s=0;s<n.length;s++){const u=r[s],f=u.transform,p=e.data.field(u.field);a.set(u.field,CC(f,p,n[s]))}return a}function f0(r,e,n){const a=new Map;for(const s of r){const u=s.transform,f=n.data.field(s.field);a.set(s.field,EC(u,f,e))}return a}class pm extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class RC{constructor(e,n,a,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&NC(u,e,a[s])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Ul(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Ul(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=vS();return this.mutations.forEach(s=>{const u=e.get(s.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(s.key)?null:p;const m=TS(f,p);m!==null&&a.set(s.key,m),f.isValidDocument()||f.convertToNoDocument(Ee.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(n,a)=>c0(n,a))&&fs(this.baseMutations,e.baseMutations,(n,a)=>c0(n,a))}}class mm{constructor(e,n,a,s){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=s}static from(e,n,a){Ke(e.mutations.length===a.length);let s=function(){return wC}();const u=e.mutations;for(let f=0;f<u.length;f++)s=s.insert(u[f].key,a[f].version);return new mm(e,n,a,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ot,je;function LC(r){switch(r){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function CS(r){if(r===void 0)return mi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(je=Ot||(Ot={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MC=new ea([4294967295,4294967295],0);function d0(r){const e=Yw().encode(r),n=new $w;return n.update(e),new Uint8Array(n.digest())}function p0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ea([n,a],0),new ea([s,u],0)]}class gm{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(a<0)throw new Pl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ea.fromNumber(this.Ee)}Ae(e,n,a){let s=e.add(n.multiply(ea.fromNumber(a)));return s.compare(MC)===1&&(s=new ea([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=d0(e),[a,s]=p0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,s,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gm(u,s,n);return a.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=d0(e),[a,s]=p0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,s,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eh{constructor(e,n,a,s,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const s=new Map;return s.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Eh(Ee.min(),s,new wt(Oe),gi(),Le())}}class ru{constructor(e,n,a,s,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new ru(a,n,Le(),Le(),Le())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wc{constructor(e,n,a,s){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=s}}class _S{constructor(e,n){this.targetId=e,this.ge=n}}class DS{constructor(e,n,a=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=s}}class m0{constructor(){this.pe=0,this.ye=g0(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),a=Le();return this.ye.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:a=a.add(s);break;default:Te()}}),new ru(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=g0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gi(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new wt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,a=e.ge.count,s=this.Xe(n);if(s){const u=s.target;if(kp(u))if(a===0){const f=new ye(u.path);this.ze(n,f,cn.newNoDocument(f,Ee.min()))}else Ke(a===1);else{const f=this.et(n);if(f!==a){const p=this.tt(e),m=p?this.nt(p,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:u=0}=n;let f,p;try{f=aa(a).toUint8Array()}catch(m){if(m instanceof Zw)return hs("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new gm(f,s,u)}catch(m){return hs(m instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let s=0;return a.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&kp(p.target)){const m=new ye(p.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,cn.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Le();this.Ue.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const s=new Eh(e,n,this.Ke,this.Qe,a);return this.Qe=gi(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new wt(Oe),s}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new m0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new m0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new wt(ye.comparator)}function g0(){return new wt(ye.comparator)}const jC={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class VC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(r,e){return r.useProto3Json||vh(e)?e:{value:e}}function sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $C(r,e){return sh(r,e.toTimestamp())}function Pr(r){return Ke(!!r),Ee.fromTimestamp(function(e){const n=ia(e);return new jt(n.seconds,n.nanos)}(r))}function ym(r,e){return Cp(r,e).canonicalString()}function Cp(r,e){const n=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?n:n.child(e)}function OS(r){const e=ht.fromString(r);return Ke(LS(e)),e}function _p(r,e){return ym(r.databaseId,e.path)}function Gd(r,e){const n=OS(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(RS(n))}function IS(r,e){return ym(r.databaseId,e)}function qC(r){const e=OS(r);return e.length===4?ht.emptyPath():RS(e)}function Dp(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function RS(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function y0(r,e,n){return{name:_p(r,e),fields:n.value.mapValue.fields}}function BC(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string"),rn.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array),rn.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(m){const g=m.code===void 0?ne.UNKNOWN:CS(m.code);return new fe(g,m.message||"")}(f);n=new DS(a,s,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=Gd(r,a.document.name),u=Pr(a.document.updateTime),f=a.document.createTime?Pr(a.document.createTime):Ee.min(),p=new Tn({mapValue:{fields:a.document.fields}}),m=cn.newFoundDocument(s,u,f,p),g=a.targetIds||[],v=a.removedTargetIds||[];n=new Wc(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=Gd(r,a.document),u=a.readTime?Pr(a.readTime):Ee.min(),f=cn.newNoDocument(s,u),p=a.removedTargetIds||[];n=new Wc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=Gd(r,a.document),u=a.removedTargetIds||[];n=new Wc([],u,s,null)}else{if(!("filter"in e))return Te();{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:u}=a,f=new PC(s,u),p=a.targetId;n=new _S(p,f)}}return n}function WC(r,e){let n;if(e instanceof nu)n={update:y0(r,e.key,e.value)};else if(e instanceof pm)n={delete:_p(r,e.key)};else if(e instanceof ha)n={update:y0(r,e.key,e.data),updateMask:e_(e.fieldMask)};else{if(!(e instanceof IC))return Te();n={verify:_p(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(s,u){const f=u.transform;if(f instanceof ah)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof oh)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Te()}(0,a))),e.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:$C(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te()}(r,e.precondition)),n}function QC(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(a,s){let u=a.updateTime?Pr(a.updateTime):Pr(s);return u.isEqual(Ee.min())&&(u=Pr(s)),new DC(u,a.transformResults||[])}(n,e))):[]}function HC(r,e){return{documents:[IS(r,e.path)]}}function KC(r,e){const n={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=IS(r,s);const u=function(m){if(m.length!==0)return PS(cr.create(m,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(m){if(m.length!==0)return m.map(g=>function(v){return{field:as(v.field),direction:XC(v.dir)}}(g))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Ep(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:s}}function YC(r){let e=qC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let s=null;if(a>0){Ke(a===1);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(v){const S=AS(v);return S instanceof cr&&uS(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(v){return v.map(S=>function(k){return new ih(os(k.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(v){let S;return S=typeof v=="object"?v.value:v,vh(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(v){const S=!!v.before,k=v.values||[];return new rh(k,S)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const S=!v.before,k=v.values||[];return new rh(k,S)}(n.endAt)),mC(e,s,f,u,p,"F",m,g)}function GC(r,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AS(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=os(e.unaryFilter.field);return It.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=os(e.unaryFilter.field);return It.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=os(e.unaryFilter.field);return It.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=os(e.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(e){return It.create(os(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return cr.create(e.compositeFilter.filters.map(n=>AS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Te()}}(e.compositeFilter.op))}(r):Te()}function XC(r){return jC[r]}function JC(r){return zC[r]}function ZC(r){return UC[r]}function as(r){return{fieldPath:r.canonicalString()}}function os(r){return tn.fromServerFormat(r.fieldPath)}function PS(r){return r instanceof It?function(e){if(e.op==="=="){if(i0(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NAN"}};if(r0(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(i0(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NAN"}};if(r0(e.value))return{unaryFilter:{field:as(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(e.field),op:JC(e.op),value:e.value}}}(r):r instanceof cr?function(e){const n=e.getFilters().map(a=>PS(a));return n.length===1?n[0]:{compositeFilter:{op:ZC(e.op),filters:n}}}(r):Te()}function e_(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xi{constructor(e,n,a,s,u=Ee.min(),f=Ee.min(),p=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t_{constructor(e){this.Tt=e}}function n_(r){const e=YC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tp(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r_{constructor(){this.Tn=new i_}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ra.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class i_{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),s=this.index[n]||new zt(ht.comparator),u=!s.has(a);return this.index[n]=s.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),s=this.index[n];return s&&s.has(a)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MS=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(MS,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ms{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ms(0)}static Kn(){return new ms(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b0="LruGarbageCollector",a_=1048576;function w0([r,e],[n,a]){const s=Oe(r,n);return s===0?Oe(e,a):s}class o_{constructor(e){this.Hn=e,this.buffer=new zt(w0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();w0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s_{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(b0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xs(n)?he(b0,"Ignoring IndexedDB error during garbage collection: ",n):await ks(n)}await this.er(3e5)})}}class l_{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(yh.ae);const a=new o_(n);return this.tr.forEachTarget(e,s=>a.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>a.Zn(s))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(v0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,s,u,f,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),s=this.params.maximumSequenceNumbersToCollect):s=S,f=Date.now(),this.nthSequenceNumber(e,s))).next(S=>(a=S,p=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(g=Date.now(),rs()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${s} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:S})))}}function u_(r,e){return new l_(r,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c_{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f_{constructor(e,n,a,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(a=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(a!==null&&Ul(a.mutation,s,Mn.empty(),jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Le()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Le()){const s=eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,a).next(u=>{let f=Al();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=eo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Le()))}populateOverlays(e,n,a){const s=[];return a.forEach(u=>{n.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,a,s){let u=gi();const f=zl(),p=function(){return zl()}();return n.forEach((m,g)=>{const v=a.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof ha)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Ul(v.mutation,g,v.mutation.getFieldMask(),jt.now())):f.set(g.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>{var S;return p.set(g,new h_(v,(S=f.get(g))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const a=zl();let s=new wt((f,p)=>f-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=a.get(m)||Mn.empty();v=p.applyToLocalView(g,v),a.set(m,v);const S=(s.get(p.batchId)||Le()).add(m);s=s.insert(p.batchId,S)})}).next(()=>{const f=[],p=s.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,S=vS();v.forEach(k=>{if(!u.has(k)){const R=TS(n.get(k),a.get(k));R!==null&&S.set(k,R),u=u.add(k)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,s):this.getDocumentsMatchingCollectionQuery(e,n,a,s)}getNextDocuments(e,n,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,s).next(u=>{const f=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,s-u.size):ee.resolve(eo());let p=Bl,m=u;return f.next(g=>ee.forEach(g,(v,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(k=>{m=m.insert(v,k)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:p,changes:yS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(a=>{let s=Al();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,a,s){const u=n.collectionGroup;let f=Al();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const g=function(v,S){return new tu(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next(v=>{v.forEach((S,k)=>{f=f.insert(S,k)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,s))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,cn.newInvalidDocument(v)))});let p=Al();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Ul(v.mutation,g,Mn.empty(),jt.now()),kh(n,g)&&(p=p.insert(m,g))}),p})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d_{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Pr(a.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:n_(a.bundledQuery),readTime:Pr(a.readTime)}}(n)),ee.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p_{constructor(){this.overlays=new wt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=eo();return ee.forEach(n,s=>this.getOverlay(e,s).next(u=>{u!==null&&a.set(s,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((s,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const s=this.Rr.get(a);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const s=eo(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>a&&s.set(m.getKey(),m)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,a,s){let u=new wt((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=eo(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=eo(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=s)););return ee.resolve(p)}Et(e,n,a){const s=this.overlays.get(a.key);if(s!==null){const f=this.Rr.get(s.largestBatchId).delete(a.key);this.Rr.set(s.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new AC(n,a));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m_{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vm{constructor(){this.Vr=new zt(Wt.mr),this.gr=new zt(Wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Wt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Wt(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new ye(new ht([])),a=new Wt(n,e),s=new Wt(n,e+1),u=[];return this.gr.forEachInRange([a,s],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new ht([])),a=new Wt(n,e),s=new Wt(n,e+1);let u=Le();return this.gr.forEachInRange([a,s],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Wt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Wt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,s){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RC(u,n,a,s);this.mutationQueue.push(f);for(const p of s)this.Mr=this.Mr.add(new Wt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,s=this.Nr(a),u=s<0?0:s;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?lm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,s],f=>{const p=this.Or(f.Cr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new zt(Oe);return n.forEach(s=>{const u=new Wt(s,0),f=new Wt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{a=a.add(p.Cr)})}),ee.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,s=a.length+1;let u=a;ye.isDocumentKey(u)||(u=u.child(""));const f=new Wt(new ye(u),0);let p=new zt(Oe);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(p=p.add(m.Cr)),!0)},f),ee.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(a=>{const s=this.Or(a);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ee.forEach(n.mutations,s=>{const u=new Wt(s.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Wt(n,0),s=this.Mr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y_{constructor(e){this.kr=e,this.docs=function(){return new wt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,s=this.docs.get(a),u=s?s.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let a=gi();return n.forEach(s=>{const u=this.docs.get(s);a=a.insert(s,u?u.document.mutableCopy():cn.newInvalidDocument(s))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,s){let u=gi();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||H2(Q2(v),a)<=0||(s.has(v.key)||kh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,a,s){Te()}qr(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new v_(this)}getSize(e){return ee.resolve(this.size)}}class v_ extends c_{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b_{constructor(e){this.persistence=e,this.Qr=new ao(n=>hm(n),fm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vm,this.targetCount=0,this.Kr=ms.Un()}forEachTarget(e,n){return this.Qr.forEach((a,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ms(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let s=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),ee.waitFor(u).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this.Ur.yr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this.Ur.Sr(n,a);const s=this.persistence.referenceDelegate,u=[];return s&&n.forEach(f=>{u.push(s.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Ur.vr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new yh(0),this.zr=!1,this.zr=!0,this.jr=new m_,this.referenceDelegate=e(this),this.Hr=new b_(this),this.indexManager=new r_,this.remoteDocumentCache=function(a){return new y_(a)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new t_(n),this.Yr=new d_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new g_(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const s=new w_(this.Gr.next());return this.referenceDelegate.Zr(),a(s).next(u=>this.referenceDelegate.Xr(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class w_ extends Y2{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.ti=new vm,this.ni=null}static ri(e){return new bm(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,a=>{const s=ye.fromPath(a);return this.si(e,s).next(u=>{u||n.removeEntry(s,Ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class lh{constructor(e,n){this.persistence=e,this.oi=new ao(a=>J2(a.path),(a,s)=>a.isEqual(s)),this.garbageCollector=u_(this,n)}static ri(e,n){return new lh(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(s=>a+s))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(a,s)=>this.ar(e,a,s).next(u=>u?ee.resolve():n(s)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.qr(e,f=>this.ar(e,f,n).next(p=>{p||(a++,u.removeEntry(f,Ee.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$c(e.data.value)),n}ar(e,n,a){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return ee.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wm{constructor(e,n,a,s){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=s}static Yi(e,n){let a=Le(),s=Le();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new wm(e,n.fromCache,a,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k_{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gE()?8:G2(pE())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,s){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,s,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new S_;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,a,s){return a.documentReadCount<this.es?(rs()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(rs()<=ze.DEBUG&&he("QueryEngine","Query:",is(n),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ts*s?(rs()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):ee.resolve())}rs(e,n){if(l0(n))return ee.resolve(null);let a=Ar(n);return this.indexManager.getIndexType(e,a).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tp(n,null,"F"),a=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.cs(n,p);return this.ls(n,g,f,m.readTime)?this.rs(e,Tp(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,a,s){return l0(n)||s.isEqual(Ee.min())?ee.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,s)?ee.resolve(null):(rs()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),is(n)),this.hs(e,f,n,W2(s,Bl)).next(p=>p))})}cs(e,n){let a=new zt(mS(e));return n.forEach((s,u)=>{kh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,s){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}_s(e,n,a){return rs()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",is(n)),this.ns.getDocumentsMatchingQuery(e,n,ra.min(),a)}hs(e,n,a,s){return this.ns.getDocumentsMatchingQuery(e,a,s).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sm="LocalStore",x_=3e8;class T_{constructor(e,n,a,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new wt(Oe),this.Is=new ao(u=>hm(u),fm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f_(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function E_(r,e,n,a){return new T_(r,e,n,a)}async function jS(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let s;return n.mutationQueue.getAllMutationBatches(a).next(u=>(s=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],p=[];let m=Le();for(const g of s){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function C_(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const s=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,g){const v=m.batch,S=v.keys();let k=ee.resolve();return S.forEach(R=>{k=k.next(()=>g.getEntry(p,R)).next(_=>{const M=m.docVersions.get(R);Ke(M!==null),_.version.compareTo(M)<0&&(v.applyToRemoteDocument(_,m),_.isValidDocument()&&(_.setReadTime(m.commitVersion),g.addEntry(_)))})}),k.next(()=>f.mutationQueue.removeMutationBatch(p,v))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(f){let p=Le();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,s))})}function zS(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function __(r,e){const n=Ce(r),a=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const p=[];e.targetChanges.forEach((v,S)=>{const k=s.get(S);if(!k)return;p.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,S)));let R=k.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?R=R.withResumeToken(rn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,a)),s=s.insert(S,R),function(_,M,z){return _.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=x_?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(k,R,v)&&p.push(n.Hr.updateTargetData(u,R))});let m=gi(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(D_(u,f,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!a.isEqual(Ee.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));p.push(v)}return ee.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=s,u))}function D_(r,e,n){let a=Le(),s=Le();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=gi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(p)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):he(Sm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:s}})}function N_(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=lm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function O_(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let s;return n.Hr.getTargetData(a,e).next(u=>u?(s=u,ee.resolve(s)):n.Hr.allocateTargetId(a).next(f=>(s=new Xi(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,s).next(()=>s))))}).then(a=>{const s=n.Ts.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Np(r,e,n){const a=Ce(r),s=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,s))}catch(f){if(!xs(f))throw f;he(Sm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(s.target)}function S0(r,e,n){const a=Ce(r);let s=Ee.min(),u=Le();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,m,g){const v=Ce(p),S=v.Is.get(g);return S!==void 0?ee.resolve(v.Ts.get(S)):v.Hr.getTargetData(m,g)}(a,f,Ar(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?s:Ee.min(),n?u:Le())).next(p=>(I_(a,yC(e),p),{documents:p,gs:u})))}function I_(r,e,n){let a=r.Es.get(e)||Ee.min();n.forEach((s,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class k0{constructor(){this.activeTargetIds=xC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R_{constructor(){this.ho=new k0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new k0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A_{To(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x0="ConnectivityMonitor";class T0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Lc=null;function Op(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xd="RestConnection",P_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L_{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${s}`,this.wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${s}`}So(e,n,a,s,u){const f=Op(),p=this.bo(e,n.toUriEncodedString());he(Xd,`Sending RPC '${e}' ${f}:`,p,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,s,u),this.vo(e,p,m,a).then(g=>(he(Xd,`Received RPC '${e}' ${f}: `,g),g),g=>{throw hs(Xd,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",a),g})}Co(e,n,a,s,u,f){return this.So(e,n,a,s,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,u)=>e[u]=s),a&&a.headers.forEach((s,u)=>e[u]=s)}bo(e,n){const a=P_[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M_{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ln="WebChannelConnection";class F_ extends L_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,s){const u=Op();return new Promise((f,p)=>{const m=new qw;m.setWithCredentials(!0),m.listenOnce(Bw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Vc.NO_ERROR:const v=m.getResponseJson();he(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case Vc.TIMEOUT:he(ln,`RPC '${e}' ${u} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const S=m.getStatus();if(he(ln,`RPC '${e}' ${u} failed with status:`,S,"response text:",m.getResponseText()),S>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const R=k==null?void 0:k.error;if(R&&R.status&&R.message){const _=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN}(R.status);p(new fe(_,R.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{he(ln,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);he(ln,`RPC '${e}' ${u} sending request:`,s),m.send(n,"POST",g,a,15)})}Wo(e,n,a){const s=Op(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Hw(),p=Qw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const v=u.join("");he(ln,`Creating RPC '${e}' stream ${s}: ${v}`,m);const S=f.createWebChannel(v,m);let k=!1,R=!1;const _=new M_({Fo:z=>{R?he(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,z):(k||(he(ln,`Opening RPC '${e}' stream ${s} transport.`),S.open(),k=!0),he(ln,`RPC '${e}' stream ${s} sending:`,z),S.send(z))},Mo:()=>S.close()}),M=(z,W,J)=>{z.listen(W,ie=>{try{J(ie)}catch(ue){setTimeout(()=>{throw ue},0)}})};return M(S,Rl.EventType.OPEN,()=>{R||(he(ln,`RPC '${e}' stream ${s} transport opened.`),_.Qo())}),M(S,Rl.EventType.CLOSE,()=>{R||(R=!0,he(ln,`RPC '${e}' stream ${s} transport closed`),_.Uo())}),M(S,Rl.EventType.ERROR,z=>{R||(R=!0,hs(ln,`RPC '${e}' stream ${s} transport errored:`,z),_.Uo(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),M(S,Rl.EventType.MESSAGE,z=>{var W;if(!R){const J=z.data[0];Ke(!!J);const ie=J,ue=(ie==null?void 0:ie.error)||((W=ie[0])===null||W===void 0?void 0:W.error);if(ue){he(ln,`RPC '${e}' stream ${s} received error:`,ue);const ce=ue.status;let ae=function(E){const D=Ot[E];if(D!==void 0)return CS(D)}(ce),A=ue.message;ae===void 0&&(ae=ne.INTERNAL,A="Unknown error status: "+ce+" with message "+ue.message),R=!0,_.Uo(new fe(ae,A)),S.close()}else he(ln,`RPC '${e}' stream ${s} received:`,J),_.Ko(J)}}),M(p,Ww.STAT_EVENT,z=>{z.stat===yp.PROXY?he(ln,`RPC '${e}' stream ${s} detected buffering proxy`):z.stat===yp.NOPROXY&&he(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function Jd(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ch(r){return new VC(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class US{constructor(e,n,a=1e3,s=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=s,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-a);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E0="PersistentStream";class VS{constructor(e,n,a,s,u,f,p,m){this.Ti=e,this.n_=a,this.r_=s,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new US(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,s])=>{this.i_===n&&this.V_(a,s)},a=>{e(()=>{const s=new fe(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(s)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{a(()=>this.m_(s))}),this.stream.onMessage(s=>{a(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j_ extends VS{constructor(e,n,a,s,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,s,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=BC(this.serializer,e),a=function(s){if(!("targetChange"in s))return Ee.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?Pr(u.readTime):Ee.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=function(s,u){let f;const p=u.target;if(f=kp(p)?{documents:HC(s,p)}:{query:KC(s,p).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=NS(s,u.resumeToken);const m=Ep(s,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ee.min())>0){f.readTime=sh(s,u.snapshotVersion.toTimestamp());const m=Ep(s,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const a=GC(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.I_(n)}}class z_ extends VS{constructor(e,n,a,s,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,s,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=QC(e.writeResults,e.commitTime),a=Pr(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Dp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>WC(this.serializer,a))};this.I_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U_{}class V_ extends U_{constructor(e,n,a,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Cp(n,a),s,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Co(e,n,a,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Cp(n,a),s,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ro="RemoteStore";class q_{constructor(e,n,a,s,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{oo(this)&&(he(ro,"Restarting streams for network reachability change."),await async function(p){const m=Ce(p);m.W_.add(4),await iu(m),m.j_.set("Unknown"),m.W_.delete(4),await _h(m)}(this))})}),this.j_=new $_(a,s)}}async function _h(r){if(oo(r))for(const e of r.G_)await e(!0)}async function iu(r){for(const e of r.G_)await e(!1)}function $S(r,e){const n=Ce(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Em(n)?Tm(n):Ts(n).c_()&&xm(n,e))}function km(r,e){const n=Ce(r),a=Ts(n);n.K_.delete(e),a.c_()&&qS(n,e),n.K_.size===0&&(a.c_()?a.P_():oo(n)&&n.j_.set("Unknown"))}function xm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(r).y_(e)}function qS(r,e){r.H_.Ne(e),Ts(r).w_(e)}function Tm(r){r.H_=new FC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ts(r).start(),r.j_.B_()}function Em(r){return oo(r)&&!Ts(r).u_()&&r.K_.size>0}function oo(r){return Ce(r).W_.size===0}function BS(r){r.H_=void 0}async function B_(r){r.j_.set("Online")}async function W_(r){r.K_.forEach((e,n)=>{xm(r,e)})}async function Q_(r,e){BS(r),Em(r)?(r.j_.q_(e),Tm(r)):r.j_.set("Unknown")}async function H_(r,e,n){if(r.j_.set("Online"),e instanceof DS&&e.state===2&&e.cause)try{await async function(a,s){const u=s.cause;for(const f of s.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.K_.delete(f),a.H_.removeTarget(f))}(r,e)}catch(a){he(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(r,a)}else if(e instanceof Wc?r.H_.We(e):e instanceof _S?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ee.min()))try{const a=await zS(r.localStore);n.compareTo(a)>=0&&await function(s,u){const f=s.H_.ot(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=s.K_.get(m);g&&s.K_.set(m,g.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const g=s.K_.get(p);if(!g)return;s.K_.set(p,g.withResumeToken(rn.EMPTY_BYTE_STRING,g.snapshotVersion)),qS(s,p);const v=new Xi(g.target,p,m,g.sequenceNumber);xm(s,v)}),s.remoteSyncer.applyRemoteEvent(f)}(r,n)}catch(a){he(ro,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,e,n){if(!xs(e))throw e;r.W_.add(1),await iu(r),r.j_.set("Offline"),n||(n=()=>zS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(ro,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await _h(r)})}function WS(r,e){return e().catch(n=>uh(r,n,e))}async function Dh(r){const e=Ce(r),n=sa(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:lm;for(;K_(e);)try{const s=await N_(e.localStore,a);if(s===null){e.U_.length===0&&n.P_();break}a=s.batchId,Y_(e,s)}catch(s){await uh(e,s)}QS(e)&&HS(e)}function K_(r){return oo(r)&&r.U_.length<10}function Y_(r,e){r.U_.push(e);const n=sa(r);n.c_()&&n.S_&&n.b_(e.mutations)}function QS(r){return oo(r)&&!sa(r).u_()&&r.U_.length>0}function HS(r){sa(r).start()}async function G_(r){sa(r).C_()}async function X_(r){const e=sa(r);for(const n of r.U_)e.b_(n.mutations)}async function J_(r,e,n){const a=r.U_.shift(),s=mm.from(a,e,n);await WS(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Dh(r)}async function Z_(r,e){e&&sa(r).S_&&await async function(n,a){if(function(s){return LC(s)&&s!==ne.ABORTED}(a.code)){const s=n.U_.shift();sa(n).h_(),await WS(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await Dh(n)}}(r,e),QS(r)&&HS(r)}async function C0(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),he(ro,"RemoteStore received new credentials");const a=oo(n);n.W_.add(3),await iu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await _h(n)}async function eD(r,e){const n=Ce(r);e?(n.W_.delete(2),await _h(n)):e||(n.W_.add(2),await iu(n),n.j_.set("Unknown"))}function Ts(r){return r.J_||(r.J_=function(e,n,a){const s=Ce(e);return s.M_(),new j_(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(r.datastore,r.asyncQueue,{xo:B_.bind(null,r),No:W_.bind(null,r),Lo:Q_.bind(null,r),p_:H_.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Em(r)?Tm(r):r.j_.set("Unknown")):(await r.J_.stop(),BS(r))})),r.J_}function sa(r){return r.Y_||(r.Y_=function(e,n,a){const s=Ce(e);return s.M_(),new z_(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:G_.bind(null,r),Lo:Z_.bind(null,r),D_:X_.bind(null,r),v_:J_.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Dh(r)):(await r.Y_.stop(),r.U_.length>0&&(he(ro,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cm{constructor(e,n,a,s,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=s,this.removalCallback=u,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,s,u){const f=Date.now()+a,p=new Cm(e,n,f,s,u);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(r,e){if(mi("AsyncQueue",`${e}: ${r}`),xs(r))return new fe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ye.comparator(n.key,a.key):(n,a)=>ye.comparator(n.key,a.key),this.keyedMap=Al(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,u=a.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _0{constructor(){this.Z_=new wt(ye.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class gs{constructor(e,n,a,s,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,s,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new gs(e,n,cs.emptySet(n),f,a,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==a[s].type||!n[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nD{constructor(){this.queries=D0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,n){const a=Ce(e),s=a.queries;a.queries=D0(),s.forEach((u,f)=>{for(const p of f.ta)p.onError(n)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function D0(){return new ao(r=>pS(r),Sh)}async function Dm(r,e){const n=Ce(r);let a=3;const s=e.query;let u=n.queries.get(s);u?!u.na()&&e.ra()&&(a=2):(u=new tD,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(s,!0);break;case 1:u.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(f){const p=_m(f,`Initialization of query '${is(e.query)}' failed`);return void e.onError(p)}n.queries.set(s,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Om(n)}async function Nm(r,e){const n=Ce(r),a=e.query;let s=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?s=e.ra()?0:1:!u.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function rD(r,e){const n=Ce(r);let a=!1;for(const s of e){const u=s.query,f=n.queries.get(u);if(f){for(const p of f.ta)p.oa(s)&&(a=!0);f.ea=s}}a&&Om(n)}function iD(r,e,n){const a=Ce(r),s=a.queries.get(e);if(s)for(const u of s.ta)u.onError(n);a.queries.delete(e)}function Om(r){r.ia.forEach(e=>{e.next()})}var Ip,N0;(N0=Ip||(Ip={}))._a="default",N0.Cache="cache";class Im{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new gs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ip.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class aD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=mS(e),this.wa=new cs(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new _0,s=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=s,p=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,S)=>{const k=s.get(v),R=kh(this.query,S)?S:null,_=!!k&&this.mutatedKeys.has(k.key),M=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;k&&R?k.data.isEqual(R.data)?_!==M&&(a.track({type:3,doc:R}),z=!0):this.va(k,R)||(a.track({type:2,doc:R}),z=!0,(m&&this.ya(R,m)>0||g&&this.ya(R,g)<0)&&(p=!0)):!k&&R?(a.track({type:0,doc:R}),z=!0):k&&!R&&(a.track({type:1,doc:k}),z=!0,(m||g)&&(p=!0)),z&&(R?(f=f.add(R),u=M?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{wa:f,Da:a,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,s){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,S)=>function(k,R){const _=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return _(k)-_(R)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(a),s=s!=null&&s;const p=n&&!s?this.Fa():[],m=this.pa.size===0&&this.current&&!s?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new gs(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new YS(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new KS(a))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return gs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rm="SyncEngine";class oD{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class sD{constructor(e){this.key=e,this.Ba=!1}}class lD{constructor(e,n,a,s,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ao(p=>pS(p),Sh),this.qa=new Map,this.Qa=new Set,this.$a=new wt(ye.comparator),this.Ua=new Map,this.Ka=new vm,this.Wa={},this.Ga=new Map,this.za=ms.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uD(r,e,n=!0){const a=t1(r);let s;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.Na()):s=await GS(a,e,n,!0),s}async function cD(r,e){const n=t1(r);await GS(n,e,!0,!1)}async function GS(r,e,n,a){const s=await O_(r.localStore,Ar(e)),u=s.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return a&&(p=await hD(r,e,u,f==="current",s.resumeToken)),r.isPrimaryClient&&n&&$S(r.remoteStore,s),p}async function hD(r,e,n,a,s){r.Ha=(S,k,R)=>async function(_,M,z,W){let J=M.view.ba(z);J.ls&&(J=await S0(_.localStore,M.query,!1).then(({documents:ae})=>M.view.ba(ae,J)));const ie=W&&W.targetChanges.get(M.targetId),ue=W&&W.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(J,_.isPrimaryClient,ie,ue);return I0(_,M.targetId,ce.Ma),ce.snapshot}(r,S,k,R);const u=await S0(r.localStore,e,!0),f=new aD(e,u.gs),p=f.ba(u.documents),m=ru.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",s),g=f.applyChanges(p,r.isPrimaryClient,m);I0(r,n,g.Ma);const v=new oD(e,n,f);return r.ka.set(e,v),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function fD(r,e,n){const a=Ce(r),s=a.ka.get(e),u=a.qa.get(s.targetId);if(u.length>1)return a.qa.set(s.targetId,u.filter(f=>!Sh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await Np(a.localStore,s.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(s.targetId),n&&km(a.remoteStore,s.targetId),Rp(a,s.targetId)}).catch(ks)):(Rp(a,s.targetId),await Np(a.localStore,s.targetId,!0))}async function dD(r,e){const n=Ce(r),a=n.ka.get(e),s=n.qa.get(a.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),km(n.remoteStore,a.targetId))}async function pD(r,e,n){const a=SD(r);try{const s=await function(u,f){const p=Ce(u),m=jt.now(),g=f.reduce((k,R)=>k.add(R.key),Le());let v,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let R=gi(),_=Le();return p.ds.getEntries(k,g).next(M=>{R=M,R.forEach((z,W)=>{W.isValidDocument()||(_=_.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,R)).next(M=>{v=M;const z=[];for(const W of f){const J=OC(W,v.get(W.key).overlayedDocument);J!=null&&z.push(new ha(W.key,J,oS(J.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,z,f)}).next(M=>{S=M;const z=M.applyToLocalDocumentSet(v,_);return p.documentOverlayCache.saveOverlays(k,M.batchId,z)})}).then(()=>({batchId:S.batchId,changes:yS(v)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),function(u,f,p){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(Oe)),m=m.insert(f,p),u.Wa[u.currentUser.toKey()]=m}(a,s.batchId,n),await au(a,s.changes),await Dh(a.remoteStore)}catch(s){const u=_m(s,"Failed to persist write");n.reject(u)}}async function XS(r,e){const n=Ce(r);try{const a=await __(n.localStore,e);e.targetChanges.forEach((s,u)=>{const f=n.Ua.get(u);f&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?f.Ba=!0:s.modifiedDocuments.size>0?Ke(f.Ba):s.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await au(n,a,e)}catch(a){await ks(a)}}function O0(r,e,n){const a=Ce(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const s=[];a.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&s.push(p.snapshot)}),function(u,f){const p=Ce(u);p.onlineState=f;let m=!1;p.queries.forEach((g,v)=>{for(const S of v.ta)S.sa(f)&&(m=!0)}),m&&Om(p)}(a.eventManager,e),s.length&&a.La.p_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mD(r,e,n){const a=Ce(r);a.sharedClientState.updateQueryState(e,"rejected",n);const s=a.Ua.get(e),u=s&&s.key;if(u){let f=new wt(ye.comparator);f=f.insert(u,cn.newNoDocument(u,Ee.min()));const p=Le().add(u),m=new Eh(Ee.min(),new Map,new wt(Oe),f,p);await XS(a,m),a.$a=a.$a.remove(u),a.Ua.delete(e),Am(a)}else await Np(a.localStore,e,!1).then(()=>Rp(a,e,n)).catch(ks)}async function gD(r,e){const n=Ce(r),a=e.batch.batchId;try{const s=await C_(n.localStore,e);ZS(n,a,null),JS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await au(n,s)}catch(s){await ks(s)}}async function yD(r,e,n){const a=Ce(r);try{const s=await function(u,f){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return p.mutationQueue.lookupMutationBatch(m,f).next(v=>(Ke(v!==null),g=v.keys(),p.mutationQueue.removeMutationBatch(m,v))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>p.localDocuments.getDocuments(m,g))})}(a.localStore,e);ZS(a,e,n),JS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await au(a,s)}catch(s){await ks(s)}}function JS(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function ZS(r,e,n){const a=Ce(r);let s=a.Wa[a.currentUser.toKey()];if(s){const u=s.get(e);u&&(n?u.reject(n):u.resolve(),s=s.remove(e)),a.Wa[a.currentUser.toKey()]=s}}function Rp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(a=>{r.Ka.containsKey(a)||e1(r,a)})}function e1(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(km(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Am(r))}function I0(r,e,n){for(const a of n)a instanceof KS?(r.Ka.addReference(a.key,e),vD(r,a)):a instanceof YS?(he(Rm,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,e),r.Ka.containsKey(a.key)||e1(r,a.key)):Te()}function vD(r,e){const n=e.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(he(Rm,"New document in limbo: "+n),r.Qa.add(a),Am(r))}function Am(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(ht.fromString(e)),a=r.za.next();r.Ua.set(a,new sD(n)),r.$a=r.$a.insert(n,a),$S(r.remoteStore,new Xi(Ar(wh(n.path)),a,"TargetPurposeLimboResolution",yh.ae))}}async function au(r,e,n){const a=Ce(r),s=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((p,m)=>{f.push(a.Ha(m,e,n).then(g=>{var v;if((g||n)&&a.isPrimaryClient){const S=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;a.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){s.push(g);const S=wm.Yi(m.targetId,g);u.push(S)}}))}),await Promise.all(f),a.La.p_(s),await async function(p,m){const g=Ce(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(m,S=>ee.forEach(S.Hi,k=>g.persistence.referenceDelegate.addReference(v,S.targetId,k)).next(()=>ee.forEach(S.Ji,k=>g.persistence.referenceDelegate.removeReference(v,S.targetId,k)))))}catch(v){if(!xs(v))throw v;he(Sm,"Failed to update sequence numbers: "+v)}for(const v of m){const S=v.targetId;if(!v.fromCache){const k=g.Ts.get(S),R=k.snapshotVersion,_=k.withLastLimboFreeSnapshotVersion(R);g.Ts=g.Ts.insert(S,_)}}}(a.localStore,u))}async function bD(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){he(Rm,"User change. New user:",e.toKey());const a=await jS(n.localStore,e);n.currentUser=e,function(s,u){s.Ga.forEach(f=>{f.forEach(p=>{p.reject(new fe(ne.CANCELLED,u))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(n,a.Rs)}}function wD(r,e){const n=Ce(r),a=n.Ua.get(e);if(a&&a.Ba)return Le().add(a.key);{let s=Le();const u=n.qa.get(e);if(!u)return s;for(const f of u){const p=n.ka.get(f);s=s.unionWith(p.view.Sa)}return s}}function t1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.La.p_=rD.bind(null,e.eventManager),e.La.Ja=iD.bind(null,e.eventManager),e}function SD(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return E_(this.persistence,new k_,e.initialUser,this.serializer)}Xa(e){return new FS(bm.ri,this.serializer)}Za(e){return new R_}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class kD extends ch{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof lh);const a=this.persistence.referenceDelegate.garbageCollector;return new s_(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new FS(a=>lh.ri(a,n),this.serializer)}}class Ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>O0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nD}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),a=function(s){return new F_(s)}(e.databaseInfo);return function(s,u,f,p){return new V_(s,u,f,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(n,a,s,u,f){return new q_(n,a,s,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>O0(this.syncEngine,n,0),function(){return T0.D()?new T0:new A_}())}createSyncEngine(e,n){return function(a,s,u,f,p,m,g){const v=new lD(a,s,u,f,p,m);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const s=Ce(a);he(ro,"RemoteStore shutting down."),s.W_.add(5),await iu(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ap.provider={build:()=>new Ap};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const la="FirestoreClient";class xD{constructor(e,n,a,s,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=s,this.user=un.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{he(la,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(he(la,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=_m(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Zd(r,e){r.asyncQueue.verifyOperationInProgress(),he(la,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async s=>{a.isEqual(s)||(await jS(e.localStore,s),a=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function R0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await TD(r);he(la,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>C0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,s)=>C0(e.remoteStore,s)),r._onlineComponents=e}async function TD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(la,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;hs("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new ch)}}else he(la,"Using default OfflineComponentProvider"),await Zd(r,new kD(void 0));return r._offlineComponents}async function n1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(la,"Using user provided OnlineComponentProvider"),await R0(r,r._uninitializedComponentsProvider._online)):(he(la,"Using default OnlineComponentProvider"),await R0(r,new Ap))),r._onlineComponents}function ED(r){return n1(r).then(e=>e.syncEngine)}async function hh(r){const e=await n1(r),n=e.eventManager;return n.onListen=uD.bind(null,e.syncEngine),n.onUnlisten=fD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dD.bind(null,e.syncEngine),n}function CD(r,e,n={}){const a=new fi;return r.asyncQueue.enqueueAndForget(async()=>function(s,u,f,p,m){const g=new Pm({next:S=>{g.su(),u.enqueueAndForget(()=>Nm(s,v));const k=S.docs.has(f);!k&&S.fromCache?m.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?m.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),v=new Im(wh(f.path),g,{includeMetadataChanges:!0,Ta:!0});return Dm(s,v)}(await hh(r),r.asyncQueue,e,n,a)),a.promise}function _D(r,e,n={}){const a=new fi;return r.asyncQueue.enqueueAndForget(async()=>function(s,u,f,p,m){const g=new Pm({next:S=>{g.su(),u.enqueueAndForget(()=>Nm(s,v)),S.fromCache&&p.source==="server"?m.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),v=new Im(f,g,{includeMetadataChanges:!0,Ta:!0});return Dm(s,v)}(await hh(r),r.asyncQueue,e,n,a)),a.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A0=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function i1(r,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function DD(r,e,n,a){if(e===!0&&a===!0)throw new fe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P0(r){if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function En(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(r);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a1="firestore.googleapis.com",M0=!0;class F0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=M0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:M0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a_)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,a,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new M2;switch(n.type){case"firstParty":return new U2(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=A0.get(e);n&&(he("ComponentProvider","Removing Datastore"),A0.delete(e),n.terminate())}(this),Promise.resolve()}}function ND(r,e,n,a={}){var s;const u=(r=En(r,Oh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==a1&&u.host!==p&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:a});if(!Xc(m,f)&&(r._setSettings(m),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=un.MOCK_USER;else{g=dE(a.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(S)}r._authCredentials=new F2(new Kw(g,v))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class so{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class hn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ta extends so{constructor(e,n,a){super(e,n,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ye(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function yn(r,e,...n){if(r=Lr(r),i1("collection","path",e),r instanceof Oh){const a=ht.fromString(e,...n);return L0(a),new ta(r,null,a)}{if(!(r instanceof hn||r instanceof ta))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...n));return L0(a),new ta(r.firestore,null,a)}}function tr(r,e,...n){if(r=Lr(r),arguments.length===1&&(e=Gw.newId()),i1("doc","path",e),r instanceof Oh){const a=ht.fromString(e,...n);return P0(a),new hn(r,null,new ye(a))}{if(!(r instanceof hn||r instanceof ta))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...n));return P0(a),new hn(r.firestore,r instanceof ta?r.converter:null,new ye(a))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j0="AsyncQueue";class z0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new US(this,"async_queue_retry"),this.Su=()=>{const a=Jd();a&&he(j0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xs(e))throw e;he(j0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const s=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(a);throw mi("INTERNAL UNHANDLED ERROR: ",s),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Cm.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(s),s}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function U0(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const a=e;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}(r,["next","error","complete"])}class yi extends Oh{constructor(e,n,a,s){super(e,n,a,s),this.type="firestore",this._queue=new z0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z0(e),this._firestoreClient=void 0,await e}}}function OD(r,e){const n=typeof r=="object"?r:x2(),a=typeof r=="string"?r:th,s=v2(n,"firestore").getImmediate({identifier:a});if(!s._initialized){const u=hE("firestore");u&&ND(s,...u)}return s}function Ih(r){if(r._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ID(r),r._firestoreClient}function ID(r){var e,n,a;const s=r._freezeSettings(),u=function(f,p,m,g){return new tC(f,p,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,r1(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((a=s.localCache)===null||a===void 0)&&a._onlineComponentProvider&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new xD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(rn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ys(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lm{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RD=/^__.*__$/;class AD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class o1{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class jm{constructor(e,n,a,s,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=s,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:a,Qu:!1});return s.$u(e),s}Uu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:a,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(s1(this.Lu)&&RD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class PD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Ch(e)}ju(e,n,a,s=!1){return new jm({Lu:e,methodName:n,zu:a,path:tn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ah(r){const e=r._freezeSettings(),n=Ch(r._databaseId);return new PD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function l1(r,e,n,a,s,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,s);zm("Data must be an object, but it was:",f,a);const p=u1(a,f);let m,g;if(u.merge)m=new Mn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const k=Pp(e,S,n);if(!f.contains(k))throw new fe(ne.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);h1(v,k)||v.push(k)}m=new Mn(v),g=f.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=f.fieldTransforms;return new AD(new Tn(p),m,g)}class Ph extends Lm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function LD(r,e,n,a){const s=r.ju(1,e,n);zm("Data must be an object, but it was:",s,a);const u=[],f=Tn.empty();ca(a,(m,g)=>{const v=Um(e,m,n);g=Lr(g);const S=s.Uu(v);if(g instanceof Ph)u.push(v);else{const k=ou(g,S);k!=null&&(u.push(v),f.set(v,k))}});const p=new Mn(u);return new o1(f,p,s.fieldTransforms)}function MD(r,e,n,a,s,u){const f=r.ju(1,e,n),p=[Pp(e,a,n)],m=[s];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<u.length;k+=2)p.push(Pp(e,u[k])),m.push(u[k+1]);const g=[],v=Tn.empty();for(let k=p.length-1;k>=0;--k)if(!h1(g,p[k])){const R=p[k];let _=m[k];_=Lr(_);const M=f.Uu(R);if(_ instanceof Ph)g.push(R);else{const z=ou(_,M);z!=null&&(g.push(R),v.set(R,z))}}const S=new Mn(g);return new o1(v,S,f.fieldTransforms)}function FD(r,e,n,a=!1){return ou(n,r.ju(a?4:3,e))}function ou(r,e){if(c1(r=Lr(r)))return zm("Unsupported field value:",e,r),u1(r,e);if(r instanceof Lm)return function(n,a){if(!s1(a.Lu))throw a.Wu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,a){const s=[];let u=0;for(const f of n){let p=ou(f,a.Ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),s.push(p),u++}return{arrayValue:{values:s}}}(r,e)}return function(n,a){if((n=Lr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return TC(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=jt.fromDate(n);return{timestampValue:sh(a.serializer,s)}}if(n instanceof jt){const s=new jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sh(a.serializer,s)}}if(n instanceof Mm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ys)return{bytesValue:NS(a.serializer,n._byteString)};if(n instanceof hn){const s=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(s))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ym(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Fm)return function(s,u){return{mapValue:{fields:{[iS]:{stringValue:aS},[nh]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return dm(u.serializer,f)})}}}}}}(n,a);throw a.Wu(`Unsupported field value: ${Nh(n)}`)}(r,e)}function u1(r,e){const n={};return Jw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,(a,s)=>{const u=ou(s,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function c1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jt||r instanceof Mm||r instanceof ys||r instanceof hn||r instanceof Lm||r instanceof Fm)}function zm(r,e,n){if(!c1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const a=Nh(n);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function Pp(r,e,n){if((e=Lr(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return Um(r,e);throw fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const jD=new RegExp("[~\\*/\\[\\]]");function Um(r,e,n){if(e.search(jD)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fh(r,e,n,a,s){const u=a&&!a.isEmpty(),f=s!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${a}`),f&&(m+=` in document ${s}`),m+=")"),new fe(ne.INVALID_ARGUMENT,p+r+m)}function h1(r,e){return r.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f1{constructor(e,n,a,s,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zD extends f1{data(){return super.data()}}function Vm(r,e){return typeof e=="string"?Um(r,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function d1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $m{}class UD extends $m{}function VD(r,e,...n){let a=[];e instanceof $m&&a.push(e),a=a.concat(n),function(s){const u=s.filter(p=>p instanceof qm).length,f=s.filter(p=>p instanceof Lh).length;if(u>1||u>0&&f>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const s of a)r=s._apply(r);return r}class Lh extends UD{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Lh(e,n,a)}_apply(e){const n=this._parse(e);return p1(e._query,n),new so(e.firestore,e.converter,xp(e._query,n))}_parse(e){const n=Ah(e.firestore);return function(a,s,u,f,p,m,g){let v;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){$0(g,m);const S=[];for(const k of g)S.push(V0(f,a,k));v={arrayValue:{values:S}}}else v=V0(f,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||$0(g,m),v=FD(u,s,g,m==="in"||m==="not-in");return It.create(p,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $D(r,e,n){const a=e,s=Vm("where",r);return Lh._create(s,a,n)}class qm extends $m{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qm(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,s){let u=a;const f=s.getFlattenedFilters();for(const p of f)p1(u,p),u=xp(u,p)}(e._query,n),new so(e.firestore,e.converter,xp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function V0(r,e,n){if(typeof(n=Lr(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ht.fromString(n));if(!ye.isDocumentKey(a))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return n0(r,new ye(a))}if(n instanceof hn)return n0(r,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function $0(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p1(r,e){const n=function(a,s){for(const u of a)for(const f of u.getFlattenedFilters())if(s.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qD{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ca(e,(s,u)=>{a[s]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,s;const u=(s=(a=(n=e.fields)===null||n===void 0?void 0:n[nh].arrayValue)===null||a===void 0?void 0:a.values)===null||s===void 0?void 0:s.map(f=>Ct(f.doubleValue));return new Fm(u)}convertGeoPoint(e){return new Mm(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=bh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=ia(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ht.fromString(e);Ke(LS(a));const s=new Ql(a.get(1),a.get(3)),u=new ye(a.popFirst(5));return s.isEqual(n)||mi(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m1(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g1 extends f1{constructor(e,n,a,s,u,f){super(e,n,a,s,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Vm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Qc extends g1{data(e={}){return super.data(e)}}class y1{constructor(e,n,a,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ll(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Qc(this._firestore,this._userDataWriter,a.key,a,new Ll(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const p=new Qc(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ll(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>s||f.type!==3).map(f=>{const p=new Qc(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ll(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:BD(f.type),doc:p,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bm(r){r=En(r,hn);const e=En(r.firestore,yi);return CD(Ih(e),r._key).then(n=>w1(e,r,n))}class Wm extends qD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function na(r){r=En(r,so);const e=En(r.firestore,yi),n=Ih(e),a=new Wm(e);return d1(r._query),_D(n,r._query).then(s=>new y1(e,a,r,s))}function WD(r,e,n){r=En(r,hn);const a=En(r.firestore,yi),s=m1(r.converter,e,n);return Mh(a,[l1(Ah(a),"setDoc",r._key,s,r.converter!==null,n).toMutation(r._key,er.none())])}function v1(r,e,n,...a){r=En(r,hn);const s=En(r.firestore,yi),u=Ah(s);let f;return f=typeof(e=Lr(e))=="string"||e instanceof Rh?MD(u,"updateDoc",r._key,e,n,a):LD(u,"updateDoc",r._key,e),Mh(s,[f.toMutation(r._key,er.exists(!0))])}function QD(r){return Mh(En(r.firestore,yi),[new pm(r._key,er.none())])}function b1(r,e){const n=En(r.firestore,yi),a=tr(r),s=m1(r.converter,e);return Mh(n,[l1(Ah(r.firestore),"addDoc",a._key,s,r.converter!==null,{}).toMutation(a._key,er.exists(!1))]).then(()=>a)}function ci(r,...e){var n,a,s;r=Lr(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||U0(e[f])||(u=e[f],f++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(U0(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),e[f+2]=(s=S.complete)===null||s===void 0?void 0:s.bind(S)}let m,g,v;if(r instanceof hn)g=En(r.firestore,yi),v=wh(r._key.path),m={next:S=>{e[f]&&e[f](w1(g,r,S))},error:e[f+1],complete:e[f+2]};else{const S=En(r,so);g=En(S.firestore,yi),v=S._query;const k=new Wm(g);m={next:R=>{e[f]&&e[f](new y1(g,k,S,R))},error:e[f+1],complete:e[f+2]},d1(r._query)}return function(S,k,R,_){const M=new Pm(_),z=new Im(k,M,R);return S.asyncQueue.enqueueAndForget(async()=>Dm(await hh(S),z)),()=>{M.su(),S.asyncQueue.enqueueAndForget(async()=>Nm(await hh(S),z))}}(Ih(g),v,p,m)}function Mh(r,e){return function(n,a){const s=new fi;return n.asyncQueue.enqueueAndForget(async()=>pD(await ED(n),a,s)),s.promise}(Ih(r),e)}function w1(r,e,n){const a=n.docs.get(e._key),s=new Wm(r);return new g1(r,s,e._key,a,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(r,e=!0){(function(n){Ss=n})(k2),Zc(new $l("firestore",(n,{instanceIdentifier:a,options:s})=>{const u=n.getProvider("app").getImmediate(),f=new yi(new j2(n.getProvider("auth-internal")),new V2(u,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(p.options.projectId,m)}(u,a),u);return s=Object.assign({useFetchStreams:e},s),f._setSettings(s),f},"PUBLIC").setMultipleInstances(!0)),us(Bb,Wb,r),us(Bb,Wb,"esm2017")})();const HD={apiKey:"AIzaSyA",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},KD=zw(HD),ut=OD(KD);function YD({onLoginSuccess:r}){const[e,n]=U.useState(""),[a,s]=U.useState(""),[u,f]=U.useState(""),[p,m]=U.useState(!0),g=Zp();U.useEffect(()=>{const S=localStorage.getItem("lastBirthId"),k=localStorage.getItem("lastPin");S&&n(S),k&&s(k)},[]);const v=async()=>{if(f(""),e.trim().length!==6||a.trim().length!==4){f(" 6   4 .");return}try{const S=VD(yn(ut,"students"),$D("birth",">=","")),k=(await na(S)).docs.find(R=>{var _,M;const z=R.data(),W=(_=z.birth)==null?void 0:_.replace(/[^0-9]/g,""),J=(M=z.parentPhone)==null?void 0:M.replace(/[^0-9]/g,""),ie=(W==null?void 0:W.slice(-6))===e.trim(),ue=(J?J.slice(-4):null)===a.trim();return ie&&ue});if(k){const R=k.data(),_=k.id;localStorage.setItem("studentId",_),localStorage.setItem("studentName",R.name),p?(localStorage.setItem("lastBirthId",e),localStorage.setItem("lastPin",a)):(localStorage.removeItem("lastBirthId"),localStorage.removeItem("lastPin")),await b1(yn(ut,"parentLogins"),{studentName:R.name,loginTime:new Date().toISOString()}),r&&r(),g("/attendance")}else f("    .")}catch{f("   .")}};return C.jsxs("div",{className:"container",style:{textAlign:"center"},children:[C.jsx("h1",{style:{fontSize:"24px"},children:" "}),C.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:e,onChange:S=>{const k=S.target.value.replace(/\D/g,"");n(k),p&&localStorage.setItem("lastBirthId",k)},placeholder:"  6 (: 170806)",maxLength:6}),C.jsx("input",{style:{width:"100%",padding:8,margin:"8px 0"},value:a,onChange:S=>{const k=S.target.value.replace(/\D/g,"");s(k),p&&localStorage.setItem("lastPin",k)},placeholder:"  4",maxLength:4,type:"password"}),C.jsx("div",{style:{margin:"8px 0",textAlign:"left"},children:C.jsxs("label",{children:[C.jsx("input",{type:"checkbox",checked:p,onChange:S=>m(S.target.checked),style:{marginRight:8}})," "]})}),C.jsx("button",{style:{width:"100%",padding:8,margin:"8px 0"},onClick:v,children:""}),u&&C.jsx("p",{style:{color:"red"},children:u})]})}function S1(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(n=S1(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Fh(){for(var r,e,n=0,a="",s=arguments.length;n<s;n++)(r=arguments[n])&&(e=S1(r))&&(a&&(a+=" "),a+=e);return a}var ep,q0;function GD(){if(q0)return ep;q0=1;const r=(p,m,g,v)=>{if(g==="length"||g==="prototype"||g==="arguments"||g==="caller")return;const S=Object.getOwnPropertyDescriptor(p,g),k=Object.getOwnPropertyDescriptor(m,g);!e(S,k)&&v||Object.defineProperty(p,g,k)},e=function(p,m){return p===void 0||p.configurable||p.writable===m.writable&&p.enumerable===m.enumerable&&p.configurable===m.configurable&&(p.writable||p.value===m.value)},n=(p,m)=>{const g=Object.getPrototypeOf(m);g!==Object.getPrototypeOf(p)&&Object.setPrototypeOf(p,g)},a=(p,m)=>`/* Wrapped ${p}*/
${m}`,s=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),f=(p,m,g)=>{const v=g===""?"":`with ${g.trim()}() `,S=a.bind(null,v,m.toString());Object.defineProperty(S,"name",u),Object.defineProperty(p,"toString",{...s,value:S})};return ep=(p,m,{ignoreNonConfigurable:g=!1}={})=>{const{name:v}=p;for(const S of Reflect.ownKeys(m))r(p,m,S,g);return n(p,m),f(p,m,v),p},ep}var Hc={exports:{}},B0,W0;function XD(){return W0||(W0=1,B0=()=>{const r={};return r.promise=new Promise((e,n)=>{r.resolve=e,r.reject=n}),r}),B0}var Mc=Hc.exports,Q0;function JD(){return Q0||(Q0=1,function(r,e){var n=Mc&&Mc.__awaiter||function(f,p,m,g){return new(m||(m=Promise))(function(v,S){function k(M){try{_(g.next(M))}catch(z){S(z)}}function R(M){try{_(g.throw(M))}catch(z){S(z)}}function _(M){M.done?v(M.value):new m(function(z){z(M.value)}).then(k,R)}_((g=g.apply(f,p||[])).next())})},a=Mc&&Mc.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(XD());function u(f,p="maxAge"){let m,g,v;const S=()=>n(this,void 0,void 0,function*(){if(m!==void 0)return;const _=M=>n(this,void 0,void 0,function*(){v=s.default();const z=M[1][p]-Date.now();if(z<=0){f.delete(M[0]),v.resolve();return}return m=M[0],g=setTimeout(()=>{f.delete(M[0]),v&&v.resolve()},z),typeof g.unref=="function"&&g.unref(),v.promise});try{for(const M of f)yield _(M)}catch{}m=void 0}),k=()=>{m=void 0,g!==void 0&&(clearTimeout(g),g=void 0),v!==void 0&&(v.reject(void 0),v=void 0)},R=f.set.bind(f);return f.set=(_,M)=>{f.has(_)&&f.delete(_);const z=R(_,M);return m&&m===_&&k(),S(),z},S(),f}e.default=u,r.exports=u,r.exports.default=u}(Hc,Hc.exports)),Hc.exports}var tp,H0;function ZD(){if(H0)return tp;H0=1;const r=GD(),e=JD(),n=new WeakMap,a=new WeakMap,s=(u,{cacheKey:f,cache:p=new Map,maxAge:m}={})=>{typeof m=="number"&&e(p);const g=function(...v){const S=f?f(v):v[0],k=p.get(S);if(k)return k.data;const R=u.apply(this,v);return p.set(S,{data:R,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),R};return r(g,u,{ignoreNonConfigurable:!0}),a.set(g,p),g};return s.decorator=(u={})=>(f,p,m)=>{const g=f[p];if(typeof g!="function")throw new TypeError("The decorated value must be a function");delete m.value,delete m.writable,m.get=function(){if(!n.has(this)){const v=s(g,u);return n.set(this,v),v}return n.get(this)}},s.clear=u=>{const f=a.get(u);if(!f)throw new TypeError("Can't clear a function that was not memoized!");if(typeof f.clear!="function")throw new TypeError("The cache Map can't be cleared!");f.clear()},tp=s,tp}var eN=ZD();const k1=Sx(eN);function tN(r){return typeof r=="string"}function nN(r,e,n){return n.indexOf(r)===e}function rN(r){return r.toLowerCase()===r}function K0(r){return r.indexOf(",")===-1?r:r.split(",")}function Lp(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return Lp(n)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],n=a===void 0?"":a;return Lp(n)}if(r.indexOf("-")===-1||!rN(r))return r;var s=r.split("-"),u=s[0],f=s[1],p=f===void 0?"":f;return"".concat(u,"-").concat(p.toUpperCase())}function iN(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,a=n===void 0?!0:n,s=e.fallbackLocale,u=s===void 0?"en-US":s,f=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],m=[],g=0,v=p;g<v.length;g++){var S=v[g];m=m.concat(K0(S))}var k=navigator.language,R=k&&K0(k);f=f.concat(m,R)}return a&&f.push(u),f.filter(tN).map(Lp).filter(nN)}var aN=k1(iN,{cacheKey:JSON.stringify});function oN(r){return aN(r)[0]||null}var x1=k1(oN,{cacheKey:JSON.stringify});function bi(r,e,n){return function(a,s){s===void 0&&(s=n);var u=r(a)+s;return e(u)}}function su(r){return function(e){return new Date(r(e).getTime()-1)}}function lu(r,e){return function(n){return[r(n),e(n)]}}function yt(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var e=parseInt(r,10);if(typeof r=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(r,"."))}function fa(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function jh(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function Es(r){var e=yt(r),n=e+(-e+1)%100,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}var sN=bi(yt,Es,-100),T1=bi(yt,Es,100),Qm=su(T1),lN=bi(yt,Qm,-100),E1=lu(Es,Qm);function da(r){var e=yt(r),n=e+(-e+1)%10,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}var C1=bi(yt,da,-10),Hm=bi(yt,da,10),zh=su(Hm),_1=bi(yt,zh,-10),D1=lu(da,zh);function Cs(r){var e=yt(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var N1=bi(yt,Cs,-1),Km=bi(yt,Cs,1),Uh=su(Km),O1=bi(yt,Uh,-1),uN=lu(Cs,Uh);function Ym(r,e){return function(n,a){a===void 0&&(a=e);var s=yt(n),u=fa(n)+a,f=new Date;return f.setFullYear(s,u,1),f.setHours(0,0,0,0),r(f)}}function lo(r){var e=yt(r),n=fa(r),a=new Date;return a.setFullYear(e,n,1),a.setHours(0,0,0,0),a}var I1=Ym(lo,-1),Gm=Ym(lo,1),uu=su(Gm),R1=Ym(uu,-1),cN=lu(lo,uu);function hN(r,e){return function(n,a){a===void 0&&(a=e);var s=yt(n),u=fa(n),f=jh(n)+a,p=new Date;return p.setFullYear(s,u,f),p.setHours(0,0,0,0),r(p)}}function cu(r){var e=yt(r),n=fa(r),a=jh(r),s=new Date;return s.setFullYear(e,n,a),s.setHours(0,0,0,0),s}var fN=hN(cu,1),Xm=su(fN),dN=lu(cu,Xm);function A1(r){return jh(uu(r))}var nn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},pN={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Jm=[0,1,2,3,4,5,6],np=new Map;function mN(r){return function(e,n){var a=e||x1();np.has(a)||np.set(a,new Map);var s=np.get(a);return s.has(r)||s.set(r,new Intl.DateTimeFormat(a||void 0,r).format),s.get(r)(n)}}function gN(r){var e=new Date(r);return new Date(e.setHours(12))}function uo(r){return function(e,n){return mN(r)(e,gN(n))}}var yN={day:"numeric"},vN={day:"numeric",month:"long",year:"numeric"},bN={month:"long"},wN={month:"long",year:"numeric"},SN={weekday:"short"},kN={weekday:"long"},xN={year:"numeric"},TN=uo(yN),EN=uo(vN),CN=uo(bN),P1=uo(wN),_N=uo(SN),DN=uo(kN),Vh=uo(xN),NN=Jm[0],ON=Jm[5],Y0=Jm[6];function Gl(r,e){e===void 0&&(e=nn.ISO_8601);var n=r.getDay();switch(e){case nn.ISO_8601:return(n+6)%7;case nn.ISLAMIC:return(n+1)%7;case nn.HEBREW:case nn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function IN(r){var e=Es(r);return yt(e)}function RN(r){var e=da(r);return yt(e)}function Mp(r,e){e===void 0&&(e=nn.ISO_8601);var n=yt(r),a=fa(r),s=r.getDate()-Gl(r,e);return new Date(n,a,s)}function AN(r,e){e===void 0&&(e=nn.ISO_8601);var n=e===nn.GREGORY?nn.GREGORY:nn.ISO_8601,a=Mp(r,e),s=yt(r)+1,u,f;do u=new Date(s,0,n===nn.ISO_8601?4:1),f=Mp(u,e),s-=1;while(r<f);return Math.round((a.getTime()-f.getTime())/(864e5*7))+1}function to(r,e){switch(r){case"century":return Es(e);case"decade":return da(e);case"year":return Cs(e);case"month":return lo(e);case"day":return cu(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function PN(r,e){switch(r){case"century":return sN(e);case"decade":return C1(e);case"year":return N1(e);case"month":return I1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function L1(r,e){switch(r){case"century":return T1(e);case"decade":return Hm(e);case"year":return Km(e);case"month":return Gm(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function LN(r,e){switch(r){case"decade":return C1(e,-100);case"year":return N1(e,-10);case"month":return I1(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function MN(r,e){switch(r){case"decade":return Hm(e,100);case"year":return Km(e,10);case"month":return Gm(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function M1(r,e){switch(r){case"century":return Qm(e);case"decade":return zh(e);case"year":return Uh(e);case"month":return uu(e);case"day":return Xm(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function FN(r,e){switch(r){case"century":return lN(e);case"decade":return _1(e);case"year":return O1(e);case"month":return R1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function jN(r,e){switch(r){case"decade":return _1(e,-100);case"year":return O1(e,-10);case"month":return R1(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function G0(r,e){switch(r){case"century":return E1(e);case"decade":return D1(e);case"year":return uN(e);case"month":return cN(e);case"day":return dN(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function zN(r,e,n){var a=[e,n].sort(function(s,u){return s.getTime()-u.getTime()});return[to(r,a[0]),M1(r,a[1])]}function F1(r,e,n){return n.map(function(a){return(e||Vh)(r,a)}).join("  ")}function UN(r,e,n){return F1(r,e,E1(n))}function j1(r,e,n){return F1(r,e,D1(n))}function VN(r){return r.getDay()===new Date().getDay()}function z1(r,e){e===void 0&&(e=nn.ISO_8601);var n=r.getDay();switch(e){case nn.ISLAMIC:case nn.HEBREW:return n===ON||n===Y0;case nn.ISO_8601:case nn.GREGORY:return n===Y0||n===NN;default:throw new Error("Unsupported calendar type.")}}var Ir="react-calendar__navigation";function $N(r){var e=r.activeStartDate,n=r.drillUp,a=r.formatMonthYear,s=a===void 0?P1:a,u=r.formatYear,f=u===void 0?Vh:u,p=r.locale,m=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,S=v===void 0?"":v,k=r.navigationAriaLive,R=r.navigationLabel,_=r.next2AriaLabel,M=_===void 0?"":_,z=r.next2Label,W=z===void 0?"":z,J=r.nextAriaLabel,ie=J===void 0?"":J,ue=r.nextLabel,ce=ue===void 0?"":ue,ae=r.prev2AriaLabel,A=ae===void 0?"":ae,E=r.prev2Label,D=E===void 0?"":E,P=r.prevAriaLabel,O=P===void 0?"":P,j=r.prevLabel,N=j===void 0?"":j,Ye=r.setActiveStartDate,et=r.showDoubleView,K=r.view,le=r.views,pe=le.indexOf(K)>0,be=K!=="century",L=PN(K,e),te=be?LN(K,e):void 0,se=L1(K,e),re=be?MN(K,e):void 0,me=function(){if(L.getFullYear()<0)return!0;var at=FN(K,e);return g&&g>=at}(),_e=be&&function(){if(te.getFullYear()<0)return!0;var at=jN(K,e);return g&&g>=at}(),ve=m&&m<se,ft=be&&m&&m<re;function Me(){Ye(L,"prev")}function vn(){Ye(te,"prev2")}function Fn(){Ye(se,"next")}function Cn(){Ye(re,"next2")}function jn(at){var xt=function(){switch(K){case"century":return UN(p,f,at);case"decade":return j1(p,f,at);case"year":return f(p,at);case"month":return s(p,at);default:throw new Error("Invalid view: ".concat(K,"."))}}();return R?R({date:at,label:xt,locale:p||x1()||void 0,view:K}):xt}function zn(){var at="".concat(Ir,"__label");return C.jsxs("button",{"aria-label":S,"aria-live":k,className:at,disabled:!pe,onClick:n,style:{flexGrow:1},type:"button",children:[C.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--from"),children:jn(e)}),et?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"".concat(at,"__divider"),children:"  "}),C.jsx("span",{className:"".concat(at,"__labelText ").concat(at,"__labelText--to"),children:jn(se)})]}):null]})}return C.jsxs("div",{className:Ir,children:[D!==null&&be?C.jsx("button",{"aria-label":A,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev2-button"),disabled:_e,onClick:vn,type:"button",children:D}):null,N!==null&&C.jsx("button",{"aria-label":O,className:"".concat(Ir,"__arrow ").concat(Ir,"__prev-button"),disabled:me,onClick:Me,type:"button",children:N}),zn(),ce!==null&&C.jsx("button",{"aria-label":ie,className:"".concat(Ir,"__arrow ").concat(Ir,"__next-button"),disabled:ve,onClick:Fn,type:"button",children:ce}),W!==null&&be?C.jsx("button",{"aria-label":M,className:"".concat(Ir,"__arrow ").concat(Ir,"__next2-button"),disabled:ft,onClick:Cn,type:"button",children:W}):null]})}var ss=function(){return ss=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ss.apply(this,arguments)},qN=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n};function X0(r){return"".concat(r,"%")}function Zm(r){var e=r.children,n=r.className,a=r.count,s=r.direction,u=r.offset,f=r.style,p=r.wrap,m=qN(r,["children","className","count","direction","offset","style","wrap"]);return C.jsx("div",ss({className:n,style:ss({display:"flex",flexDirection:s,flexWrap:p?"wrap":"nowrap"},f)},m,{children:U.Children.map(e,function(g,v){var S=u&&v===0?X0(100*u/a):null;return U.cloneElement(g,ss(ss({},g.props),{style:{flexBasis:X0(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:S,marginInlineStart:S,marginInlineEnd:0}}))})}))}function BN(r,e,n){return e&&e>r?e:n&&n<r?n:r}function Xl(r,e){return e[0]<=r&&e[1]>=r}function WN(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function U1(r,e){return Xl(r[0],e)||Xl(r[1],e)}function J0(r,e,n){var a=U1(e,r),s=[];if(a){s.push(n);var u=Xl(r[0],e),f=Xl(r[1],e);u&&s.push("".concat(n,"Start")),f&&s.push("".concat(n,"End")),u&&f&&s.push("".concat(n,"BothEnds"))}return s}function QN(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function HN(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,a=r.hover,s="react-calendar__tile",u=[s];if(!n)return u;var f=new Date,p=function(){if(Array.isArray(n))return n;var R=r.dateType;if(!R)throw new Error("dateType is required when date is not an array of two dates");return G0(R,n)}();if(Xl(f,p)&&u.push("".concat(s,"--now")),!e||!QN(e))return u;var m=function(){if(Array.isArray(e))return e;var R=r.valueType;if(!R)throw new Error("valueType is required when value is not an array of two dates");return G0(R,e)}();WN(m,p)?u.push("".concat(s,"--active")):U1(m,p)&&u.push("".concat(s,"--hasActive"));var g=J0(m,p,"".concat(s,"--range"));u.push.apply(u,g);var v=Array.isArray(e)?e:[e];if(a&&v.length===1){var S=a>m[0]?[m[0],a]:[a,m[0]],k=J0(S,p,"".concat(s,"--hover"));u.push.apply(u,k)}return u}function $h(r){for(var e=r.className,n=r.count,a=n===void 0?3:n,s=r.dateTransform,u=r.dateType,f=r.end,p=r.hover,m=r.offset,g=r.renderTile,v=r.start,S=r.step,k=S===void 0?1:S,R=r.value,_=r.valueType,M=[],z=v;z<=f;z+=k){var W=s(z);M.push(g({classes:HN({date:W,dateType:u,hover:p,value:R,valueType:_}),date:W}))}return C.jsx(Zm,{className:e,count:a,offset:m,wrap:!0,children:M})}function qh(r){var e=r.activeStartDate,n=r.children,a=r.classes,s=r.date,u=r.formatAbbr,f=r.locale,p=r.maxDate,m=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,S=r.onClick,k=r.onMouseOver,R=r.style,_=r.tileClassName,M=r.tileContent,z=r.tileDisabled,W=r.view,J=U.useMemo(function(){var ue={activeStartDate:e,date:s,view:W};return typeof _=="function"?_(ue):_},[e,s,_,W]),ie=U.useMemo(function(){var ue={activeStartDate:e,date:s,view:W};return typeof M=="function"?M(ue):M},[e,s,M,W]);return C.jsxs("button",{className:Fh(a,J),disabled:g&&v(g)>s||p&&m(p)<s||(z==null?void 0:z({activeStartDate:e,date:s,view:W})),onClick:S?function(ue){return S(s,ue)}:void 0,onFocus:k?function(){return k(s)}:void 0,onMouseOver:k?function(){return k(s)}:void 0,style:R,type:"button",children:[u?C.jsx("abbr",{"aria-label":u(f,s),children:n}):n,ie]})}var Fp=function(){return Fp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Fp.apply(this,arguments)},KN=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n},Z0="react-calendar__century-view__decades__decade";function YN(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentCentury,s=r.formatYear,u=s===void 0?Vh:s,f=KN(r,["classes","currentCentury","formatYear"]),p=f.date,m=f.locale,g=[];return n&&g.push.apply(g,n),g.push(Z0),Es(p).getFullYear()!==a&&g.push("".concat(Z0,"--neighboringCentury")),C.jsx(qh,Fp({},f,{classes:g,maxDateTransform:zh,minDateTransform:da,view:"century",children:j1(m,u,p)}))}var jp=function(){return jp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},jp.apply(this,arguments)},ew=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n};function GN(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringCentury,s=r.value,u=r.valueType,f=ew(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=IN(e),m=p+(a?119:99);return C.jsx($h,{className:"react-calendar__century-view__decades",dateTransform:da,dateType:"decade",end:m,hover:n,renderTile:function(g){var v=g.date,S=ew(g,["date"]);return C.jsx(YN,jp({},f,S,{activeStartDate:e,currentCentury:p,date:v}),v.getTime())},start:p,step:10,value:s,valueType:u})}var zp=function(){return zp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},zp.apply(this,arguments)};function XN(r){function e(){return C.jsx(GN,zp({},r))}return C.jsx("div",{className:"react-calendar__century-view",children:e()})}var Up=function(){return Up=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Up.apply(this,arguments)},JN=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n},tw="react-calendar__decade-view__years__year";function ZN(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentDecade,s=r.formatYear,u=s===void 0?Vh:s,f=JN(r,["classes","currentDecade","formatYear"]),p=f.date,m=f.locale,g=[];return n&&g.push.apply(g,n),g.push(tw),da(p).getFullYear()!==a&&g.push("".concat(tw,"--neighboringDecade")),C.jsx(qh,Up({},f,{classes:g,maxDateTransform:Uh,minDateTransform:Cs,view:"decade",children:u(m,p)}))}var Vp=function(){return Vp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Vp.apply(this,arguments)},nw=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n};function eO(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringDecade,s=r.value,u=r.valueType,f=nw(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=RN(e),m=p+(a?11:9);return C.jsx($h,{className:"react-calendar__decade-view__years",dateTransform:Cs,dateType:"year",end:m,hover:n,renderTile:function(g){var v=g.date,S=nw(g,["date"]);return C.jsx(ZN,Vp({},f,S,{activeStartDate:e,currentDecade:p,date:v}),v.getTime())},start:p,value:s,valueType:u})}var $p=function(){return $p=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},$p.apply(this,arguments)};function tO(r){function e(){return C.jsx(eO,$p({},r))}return C.jsx("div",{className:"react-calendar__decade-view",children:e()})}var qp=function(){return qp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},qp.apply(this,arguments)},nO=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n},rw=function(r,e,n){if(n||arguments.length===2)for(var a=0,s=e.length,u;a<s;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return r.concat(u||Array.prototype.slice.call(e))},rO="react-calendar__year-view__months__month";function iO(r){var e=r.classes,n=e===void 0?[]:e,a=r.formatMonth,s=a===void 0?CN:a,u=r.formatMonthYear,f=u===void 0?P1:u,p=nO(r,["classes","formatMonth","formatMonthYear"]),m=p.date,g=p.locale;return C.jsx(qh,qp({},p,{classes:rw(rw([],n,!0),[rO],!1),formatAbbr:f,maxDateTransform:uu,minDateTransform:lo,view:"year",children:s(g,m)}))}var Bp=function(){return Bp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Bp.apply(this,arguments)},iw=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n};function aO(r){var e=r.activeStartDate,n=r.hover,a=r.value,s=r.valueType,u=iw(r,["activeStartDate","hover","value","valueType"]),f=0,p=11,m=yt(e);return C.jsx($h,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(m,g,1),lo(v)},dateType:"month",end:p,hover:n,renderTile:function(g){var v=g.date,S=iw(g,["date"]);return C.jsx(iO,Bp({},u,S,{activeStartDate:e,date:v}),v.getTime())},start:f,value:a,valueType:s})}var Wp=function(){return Wp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Wp.apply(this,arguments)};function oO(r){function e(){return C.jsx(aO,Wp({},r))}return C.jsx("div",{className:"react-calendar__year-view",children:e()})}var Qp=function(){return Qp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Qp.apply(this,arguments)},sO=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n},rp="react-calendar__month-view__days__day";function lO(r){var e=r.calendarType,n=r.classes,a=n===void 0?[]:n,s=r.currentMonthIndex,u=r.formatDay,f=u===void 0?TN:u,p=r.formatLongDate,m=p===void 0?EN:p,g=sO(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,S=g.locale,k=[];return a&&k.push.apply(k,a),k.push(rp),z1(v,e)&&k.push("".concat(rp,"--weekend")),v.getMonth()!==s&&k.push("".concat(rp,"--neighboringMonth")),C.jsx(qh,Qp({},g,{classes:k,formatAbbr:m,maxDateTransform:Xm,minDateTransform:cu,view:"month",children:f(S,v)}))}var Hp=function(){return Hp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Hp.apply(this,arguments)},aw=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n};function uO(r){var e=r.activeStartDate,n=r.calendarType,a=r.hover,s=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,f=r.value,p=r.valueType,m=aw(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=yt(e),v=fa(e),S=s||u,k=Gl(e,n),R=S?0:k,_=(S?-k:0)+1,M=function(){if(s)return _+6*7-1;var z=A1(e);if(u){var W=new Date;W.setFullYear(g,v,z),W.setHours(0,0,0,0);var J=7-Gl(W,n)-1;return z+J}return z}();return C.jsx($h,{className:"react-calendar__month-view__days",count:7,dateTransform:function(z){var W=new Date;return W.setFullYear(g,v,z),cu(W)},dateType:"day",hover:a,end:M,renderTile:function(z){var W=z.date,J=aw(z,["date"]);return C.jsx(lO,Hp({},m,J,{activeStartDate:e,calendarType:n,currentMonthIndex:v,date:W}),W.getTime())},offset:R,start:_,value:f,valueType:p})}var V1="react-calendar__month-view__weekdays",ip="".concat(V1,"__weekday");function cO(r){for(var e=r.calendarType,n=r.formatShortWeekday,a=n===void 0?_N:n,s=r.formatWeekday,u=s===void 0?DN:s,f=r.locale,p=r.onMouseLeave,m=new Date,g=lo(m),v=yt(g),S=fa(g),k=[],R=1;R<=7;R+=1){var _=new Date(v,S,R-Gl(g,e)),M=u(f,_);k.push(C.jsx("div",{className:Fh(ip,VN(_)&&"".concat(ip,"--current"),z1(_,e)&&"".concat(ip,"--weekend")),children:C.jsx("abbr",{"aria-label":M,title:M,children:a(f,_).replace(".","")})},R))}return C.jsx(Zm,{className:V1,count:7,onFocus:p,onMouseOver:p,children:k})}var dh=function(){return dh=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},dh.apply(this,arguments)},ow=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n},sw="react-calendar__tile";function hO(r){var e=r.onClickWeekNumber,n=r.weekNumber,a=C.jsx("span",{children:n});if(e){var s=r.date,u=r.onClickWeekNumber,f=r.weekNumber,p=ow(r,["date","onClickWeekNumber","weekNumber"]);return C.jsx("button",dh({},p,{className:sw,onClick:function(m){return u(f,s,m)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var p=ow(r,["date","onClickWeekNumber","weekNumber"]);return C.jsx("div",dh({},p,{className:sw,children:a}))}}function fO(r){var e=r.activeStartDate,n=r.calendarType,a=r.onClickWeekNumber,s=r.onMouseLeave,u=r.showFixedNumberOfWeeks,f=function(){if(u)return 6;var g=A1(e),v=Gl(e,n),S=g-(7-v);return 1+Math.ceil(S/7)}(),p=function(){for(var g=yt(e),v=fa(e),S=jh(e),k=[],R=0;R<f;R+=1)k.push(Mp(new Date(g,v,S+R*7),n));return k}(),m=p.map(function(g){return AN(g,n)});return C.jsx(Zm,{className:"react-calendar__month-view__weekNumbers",count:f,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:m.map(function(g,v){var S=p[v];if(!S)throw new Error("date is not defined");return C.jsx(hO,{date:S,onClickWeekNumber:a,weekNumber:g},g)})})}var Kp=function(){return Kp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Kp.apply(this,arguments)},dO=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n};function pO(r){if(r)for(var e=0,n=Object.entries(pN);e<n.length;e++){var a=n[e],s=a[0],u=a[1];if(u.includes(r))return s}return nn.ISO_8601}function mO(r){var e=r.activeStartDate,n=r.locale,a=r.onMouseLeave,s=r.showFixedNumberOfWeeks,u=r.calendarType,f=u===void 0?pO(n):u,p=r.formatShortWeekday,m=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,S=dO(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function k(){return C.jsx(cO,{calendarType:f,formatShortWeekday:p,formatWeekday:m,locale:n,onMouseLeave:a})}function R(){return v?C.jsx(fO,{activeStartDate:e,calendarType:f,onClickWeekNumber:g,onMouseLeave:a,showFixedNumberOfWeeks:s}):null}function _(){return C.jsx(uO,Kp({calendarType:f},S))}var M="react-calendar__month-view";return C.jsx("div",{className:Fh(M,v?"".concat(M,"--weekNumbers"):""),children:C.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[R(),C.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[k(),_()]})]})})}var ls=function(){return ls=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ls.apply(this,arguments)},Fc="react-calendar",Kc=["century","decade","year","month"],gO=["decade","year","month","day"],eg=new Date;eg.setFullYear(1,0,1);eg.setHours(0,0,0,0);var yO=new Date(864e13);function Ml(r){return r instanceof Date?r:new Date(r)}function $1(r,e){return Kc.slice(Kc.indexOf(r),Kc.indexOf(e)+1)}function vO(r,e,n){var a=$1(e,n);return a.indexOf(r)!==-1}function tg(r,e,n){return r&&vO(r,e,n)?r:n}function q1(r){var e=Kc.indexOf(r);return gO[e]}function bO(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var a=Ml(n);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function B1(r,e){var n=r.value,a=r.minDate,s=r.maxDate,u=r.maxDetail,f=bO(n,e);if(!f)return null;var p=q1(u),m=function(){switch(e){case 0:return to(p,f);case 1:return M1(p,f);default:throw new Error("Invalid index value: ".concat(e))}}();return BN(m,a,s)}var ng=function(r){return B1(r,0)},W1=function(r){return B1(r,1)},wO=function(r){return[ng,W1].map(function(e){return e(r)})};function Q1(r){var e=r.maxDate,n=r.maxDetail,a=r.minDate,s=r.minDetail,u=r.value,f=r.view,p=tg(f,s,n),m=ng({value:u,minDate:a,maxDate:e,maxDetail:n})||new Date;return to(p,m)}function SO(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,a=r.defaultValue,s=r.defaultView,u=r.maxDate,f=r.maxDetail,p=r.minDate,m=r.minDetail,g=r.value,v=r.view,S=tg(v,m,f),k=e||n;return k?to(S,k):Q1({maxDate:u,maxDetail:f,minDate:p,minDetail:m,value:g||a,view:v||s})}function ap(r){return r&&(!Array.isArray(r)||r.length===1)}function jc(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var kO=U.forwardRef(function(r,e){var n=r.activeStartDate,a=r.allowPartialRange,s=r.calendarType,u=r.className,f=r.defaultActiveStartDate,p=r.defaultValue,m=r.defaultView,g=r.formatDay,v=r.formatLongDate,S=r.formatMonth,k=r.formatMonthYear,R=r.formatShortWeekday,_=r.formatWeekday,M=r.formatYear,z=r.goToRangeStartOnSelect,W=z===void 0?!0:z,J=r.inputRef,ie=r.locale,ue=r.maxDate,ce=ue===void 0?yO:ue,ae=r.maxDetail,A=ae===void 0?"month":ae,E=r.minDate,D=E===void 0?eg:E,P=r.minDetail,O=P===void 0?"century":P,j=r.navigationAriaLabel,N=r.navigationAriaLive,Ye=r.navigationLabel,et=r.next2AriaLabel,K=r.next2Label,le=r.nextAriaLabel,pe=r.nextLabel,be=r.onActiveStartDateChange,L=r.onChange,te=r.onClickDay,se=r.onClickDecade,re=r.onClickMonth,me=r.onClickWeekNumber,_e=r.onClickYear,ve=r.onDrillDown,ft=r.onDrillUp,Me=r.onViewChange,vn=r.prev2AriaLabel,Fn=r.prev2Label,Cn=r.prevAriaLabel,jn=r.prevLabel,zn=r.returnValue,at=zn===void 0?"start":zn,xt=r.selectRange,Fr=r.showDoubleView,fn=r.showFixedNumberOfWeeks,co=r.showNavigation,pa=co===void 0?!0:co,wi=r.showNeighboringCentury,jr=r.showNeighboringDecade,ho=r.showNeighboringMonth,Si=ho===void 0?!0:ho,ma=r.showWeekNumbers,fo=r.tileClassName,dt=r.tileContent,Be=r.tileDisabled,Qt=r.value,Rt=r.view,ga=U.useState(f),_s=ga[0],Un=ga[1],pr=U.useState(null),zr=pr[0],bn=pr[1],Ur=U.useState(Array.isArray(p)?p.map(function(xe){return xe!==null?Ml(xe):null}):p!=null?Ml(p):null),rr=Ur[0],ya=Ur[1],ki=U.useState(m),va=ki[0],Vn=ki[1],pt=n||_s||SO({activeStartDate:n,defaultActiveStartDate:f,defaultValue:p,defaultView:m,maxDate:ce,maxDetail:A,minDate:D,minDetail:O,value:Qt,view:Rt}),_t=function(){var xe=function(){return xt&&ap(rr)?rr:Qt!==void 0?Qt:rr}();return xe?Array.isArray(xe)?xe.map(function(Ue){return Ue!==null?Ml(Ue):null}):xe!==null?Ml(xe):null:null}(),dn=q1(A),Ge=tg(Rt||va,O,A),At=$1(O,A),xi=xt?zr:null,$n=At.indexOf(Ge)<At.length-1,ba=At.indexOf(Ge)>0,ot=U.useCallback(function(xe){var Ue=function(){switch(at){case"start":return ng;case"end":return W1;case"range":return wO;default:throw new Error("Invalid returnValue.")}}();return Ue({maxDate:ce,maxDetail:A,minDate:D,value:xe})},[ce,A,D,at]),vt=U.useCallback(function(xe,Ue){Un(xe);var Pe={action:Ue,activeStartDate:xe,value:_t,view:Ge};be&&!jc(pt,xe)&&be(Pe)},[pt,be,_t,Ge]),ct=U.useCallback(function(xe,Ue){var Pe=function(){switch(Ge){case"century":return se;case"decade":return _e;case"year":return re;case"month":return te;default:throw new Error("Invalid view: ".concat(Ge,"."))}}();Pe&&Pe(xe,Ue)},[te,se,re,_e,Ge]),an=U.useCallback(function(xe,Ue){if($n){ct(xe,Ue);var Pe=At[At.indexOf(Ge)+1];if(!Pe)throw new Error("Attempted to drill down from the lowest view.");Un(xe),Vn(Pe);var Ve={action:"drillDown",activeStartDate:xe,value:_t,view:Pe};be&&!jc(pt,xe)&&be(Ve),Me&&Ge!==Pe&&Me(Ve),ve&&ve(Ve)}},[pt,$n,be,ct,ve,Me,_t,Ge,At]),Vr=U.useCallback(function(){if(ba){var xe=At[At.indexOf(Ge)-1];if(!xe)throw new Error("Attempted to drill up from the highest view.");var Ue=to(xe,pt);Un(Ue),Vn(xe);var Pe={action:"drillUp",activeStartDate:Ue,value:_t,view:xe};be&&!jc(pt,Ue)&&be(Pe),Me&&Ge!==xe&&Me(Pe),ft&&ft(Pe)}},[pt,ba,be,ft,Me,_t,Ge,At]),wa=U.useCallback(function(xe,Ue){var Pe=_t;ct(xe,Ue);var Ve=xt&&!ap(Pe),Ht;if(xt)if(Ve)Ht=to(dn,xe);else{if(!Pe)throw new Error("previousValue is required");if(Array.isArray(Pe))throw new Error("previousValue must not be an array");Ht=zN(dn,Pe,xe)}else Ht=ot(xe);var vr=!xt||Ve||W?Q1({maxDate:ce,maxDetail:A,minDate:D,minDetail:O,value:Ht,view:Ge}):null;Ue.persist(),Un(vr),ya(Ht);var _n={action:"onChange",activeStartDate:vr,value:Ht,view:Ge};if(be&&!jc(pt,vr)&&be(_n),L)if(xt){var ar=ap(Ht);if(!ar)L(Ht||null,Ue);else if(a){if(Array.isArray(Ht))throw new Error("value must not be an array");L([Ht||null,null],Ue)}}else L(Ht||null,Ue)},[pt,a,ot,W,ce,A,D,O,be,L,ct,xt,_t,dn,Ge]);function mr(xe){bn(xe)}function Ti(){bn(null)}U.useImperativeHandle(e,function(){return{activeStartDate:pt,drillDown:an,drillUp:Vr,onChange:wa,setActiveStartDate:vt,value:_t,view:Ge}},[pt,an,Vr,wa,vt,_t,Ge]);function gr(xe){var Ue=xe?L1(Ge,pt):to(Ge,pt),Pe=$n?an:wa,Ve={activeStartDate:Ue,hover:xi,locale:ie,maxDate:ce,minDate:D,onClick:Pe,onMouseOver:xt?mr:void 0,tileClassName:fo,tileContent:dt,tileDisabled:Be,value:_t,valueType:dn};switch(Ge){case"century":return C.jsx(XN,ls({formatYear:M,showNeighboringCentury:wi},Ve));case"decade":return C.jsx(tO,ls({formatYear:M,showNeighboringDecade:jr},Ve));case"year":return C.jsx(oO,ls({formatMonth:S,formatMonthYear:k},Ve));case"month":return C.jsx(mO,ls({calendarType:s,formatDay:g,formatLongDate:v,formatShortWeekday:R,formatWeekday:_,onClickWeekNumber:me,onMouseLeave:xt?Ti:void 0,showFixedNumberOfWeeks:typeof fn<"u"?fn:Fr,showNeighboringMonth:Si,showWeekNumbers:ma},Ve));default:throw new Error("Invalid view: ".concat(Ge,"."))}}function yr(){return pa?C.jsx($N,{activeStartDate:pt,drillUp:Vr,formatMonthYear:k,formatYear:M,locale:ie,maxDate:ce,minDate:D,navigationAriaLabel:j,navigationAriaLive:N,navigationLabel:Ye,next2AriaLabel:et,next2Label:K,nextAriaLabel:le,nextLabel:pe,prev2AriaLabel:vn,prev2Label:Fn,prevAriaLabel:Cn,prevLabel:jn,setActiveStartDate:vt,showDoubleView:Fr,view:Ge,views:At}):null}var ir=Array.isArray(_t)?_t:[_t];return C.jsxs("div",{className:Fh(Fc,xt&&ir.length===1&&"".concat(Fc,"--selectRange"),Fr&&"".concat(Fc,"--doubleView"),u),ref:J,children:[yr(),C.jsxs("div",{className:"".concat(Fc,"__viewContainer"),onBlur:xt?Ti:void 0,onMouseLeave:xt?Ti:void 0,children:[gr(),Fr?gr(!0):null]})]})});const H1=6048e5,xO=864e5,lw=Symbol.for("constructDateFrom");function ua(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&lw in r?r[lw](e):r instanceof Date?new r.constructor(e):new Date(e)}function dr(r,e){return ua(e||r,r)}let TO={};function Bh(){return TO}function Jl(r,e){var n,a,s,u;const f=Bh(),p=(e==null?void 0:e.weekStartsOn)??((a=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:a.weekStartsOn)??f.weekStartsOn??((u=(s=f.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??0,m=dr(r,e==null?void 0:e.in),g=m.getDay(),v=(g<p?7:0)+g-p;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function ph(r,e){return Jl(r,{...e,weekStartsOn:1})}function K1(r,e){const n=dr(r,void 0),a=n.getFullYear(),s=ua(n,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const u=ph(s),f=ua(n,0);f.setFullYear(a,0,4),f.setHours(0,0,0,0);const p=ph(f);return n.getTime()>=u.getTime()?a+1:n.getTime()>=p.getTime()?a:a-1}function uw(r){const e=dr(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function EO(r,...e){const n=ua.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function cw(r,e){const n=dr(r,void 0);return n.setHours(0,0,0,0),n}function CO(r,e,n){const[a,s]=EO(void 0,r,e),u=cw(a),f=cw(s),p=+u-uw(u),m=+f-uw(f);return Math.round((p-m)/xO)}function _O(r,e){const n=K1(r),a=ua(r,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),ph(a)}function DO(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function NO(r){return!(!DO(r)&&typeof r!="number"||isNaN(+dr(r)))}function OO(r,e){const n=dr(r,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const IO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RO=(r,e,n)=>{let a;const s=IO[r];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function op(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const AO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MO={date:op({formats:AO,defaultWidth:"full"}),time:op({formats:PO,defaultWidth:"full"}),dateTime:op({formats:LO,defaultWidth:"full"})},FO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jO=(r,e,n,a)=>FO[r];function Ol(r){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,p=n!=null&&n.width?String(n.width):f;s=r.formattingValues[p]||r.formattingValues[f]}else{const f=r.defaultWidth,p=n!=null&&n.width?String(n.width):r.defaultWidth;s=r.values[p]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return s[u]}}const zO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$O={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WO=(r,e)=>{const n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},QO={ordinalNumber:WO,era:Ol({values:zO,defaultWidth:"wide"}),quarter:Ol({values:UO,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Ol({values:VO,defaultWidth:"wide"}),day:Ol({values:$O,defaultWidth:"wide"}),dayPeriod:Ol({values:qO,defaultWidth:"wide",formattingValues:BO,defaultFormattingWidth:"wide"})};function Il(r){return(e,n={})=>{const a=n.width,s=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=e.match(s);if(!u)return null;const f=u[0],p=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],m=Array.isArray(p)?KO(p,S=>S.test(f)):HO(p,S=>S.test(f));let g;g=r.valueCallback?r.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const v=e.slice(f.length);return{value:g,rest:v}}}function HO(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function KO(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function YO(r){return(e,n={})=>{const a=e.match(r.matchPattern);if(!a)return null;const s=a[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(s.length);return{value:f,rest:p}}}const GO=/^(\d+)(th|st|nd|rd)?/i,XO=/\d+/i,JO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZO={any:[/^b/i,/^(a|c)/i]},eI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tI={any:[/1/i,/2/i,/3/i,/4/i]},nI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lI={ordinalNumber:YO({matchPattern:GO,parsePattern:XO,valueCallback:r=>parseInt(r,10)}),era:Il({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),quarter:Il({matchPatterns:eI,defaultMatchWidth:"wide",parsePatterns:tI,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Il({matchPatterns:nI,defaultMatchWidth:"wide",parsePatterns:rI,defaultParseWidth:"any"}),day:Il({matchPatterns:iI,defaultMatchWidth:"wide",parsePatterns:aI,defaultParseWidth:"any"}),dayPeriod:Il({matchPatterns:oI,defaultMatchWidth:"any",parsePatterns:sI,defaultParseWidth:"any"})},uI={code:"en-US",formatDistance:RO,formatLong:MO,formatRelative:jO,localize:QO,match:lI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cI(r,e){const n=dr(r,void 0);return CO(n,OO(n))+1}function hI(r,e){const n=dr(r,void 0),a=+ph(n)-+_O(n);return Math.round(a/H1)+1}function Y1(r,e){var n,a,s,u;const f=dr(r,e==null?void 0:e.in),p=f.getFullYear(),m=Bh(),g=(e==null?void 0:e.firstWeekContainsDate)??((a=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:a.firstWeekContainsDate)??m.firstWeekContainsDate??((u=(s=m.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??1,v=ua((e==null?void 0:e.in)||r,0);v.setFullYear(p+1,0,g),v.setHours(0,0,0,0);const S=Jl(v,e),k=ua((e==null?void 0:e.in)||r,0);k.setFullYear(p,0,g),k.setHours(0,0,0,0);const R=Jl(k,e);return+f>=+S?p+1:+f>=+R?p:p-1}function fI(r,e){var n,a,s,u;const f=Bh(),p=(e==null?void 0:e.firstWeekContainsDate)??((a=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:a.firstWeekContainsDate)??f.firstWeekContainsDate??((u=(s=f.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??1,m=Y1(r,e),g=ua((e==null?void 0:e.in)||r,0);return g.setFullYear(m,0,p),g.setHours(0,0,0,0),Jl(g,e)}function dI(r,e){const n=dr(r,e==null?void 0:e.in),a=+Jl(n,e)-+fI(n,e);return Math.round(a/H1)+1}function Ze(r,e){const n=r<0?"-":"",a=Math.abs(r).toString().padStart(e,"0");return n+a}const Yi={y(r,e){const n=r.getFullYear(),a=n>0?n:1-n;return Ze(e==="yy"?a%100:a,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(r,e){return Ze(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,e){return Ze(r.getHours()%12||12,e.length)},H(r,e){return Ze(r.getHours(),e.length)},m(r,e){return Ze(r.getMinutes(),e.length)},s(r,e){return Ze(r.getSeconds(),e.length)},S(r,e){const n=e.length,a=r.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return Ze(s,e.length)}},ts={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hw={G:function(r,e,n){const a=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const a=r.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Yi.y(r,e)},Y:function(r,e,n,a){const s=Y1(r,a),u=s>0?s:1-s;if(e==="YY"){const f=u%100;return Ze(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ze(u,e.length)},R:function(r,e){const n=K1(r);return Ze(n,e.length)},u:function(r,e){const n=r.getFullYear();return Ze(n,e.length)},Q:function(r,e,n){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ze(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,e,n){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ze(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,e,n){const a=r.getMonth();switch(e){case"M":case"MM":return Yi.M(r,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(r,e,n){const a=r.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ze(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(r,e,n,a){const s=dI(r,a);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ze(s,e.length)},I:function(r,e,n){const a=hI(r);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Ze(a,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Yi.d(r,e)},D:function(r,e,n){const a=cI(r);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ze(a,e.length)},E:function(r,e,n){const a=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(r,e,n,a){const s=r.getDay(),u=(s-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ze(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,n,a){const s=r.getDay(),u=(s-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ze(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,n){const a=r.getDay(),s=a===0?7:a;switch(e){case"i":return String(s);case"ii":return Ze(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(r,e,n){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,n){const a=r.getHours();let s;switch(a===12?s=ts.noon:a===0?s=ts.midnight:s=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,n){const a=r.getHours();let s;switch(a>=17?s=ts.evening:a>=12?s=ts.afternoon:a>=4?s=ts.morning:s=ts.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let a=r.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Yi.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Yi.H(r,e)},K:function(r,e,n){const a=r.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ze(a,e.length)},k:function(r,e,n){let a=r.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ze(a,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Yi.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Yi.s(r,e)},S:function(r,e){return Yi.S(r,e)},X:function(r,e,n){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return dw(a);case"XXXX":case"XX":return Za(a);case"XXXXX":case"XXX":default:return Za(a,":")}},x:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"x":return dw(a);case"xxxx":case"xx":return Za(a);case"xxxxx":case"xxx":default:return Za(a,":")}},O:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fw(a,":");case"OOOO":default:return"GMT"+Za(a,":")}},z:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fw(a,":");case"zzzz":default:return"GMT"+Za(a,":")}},t:function(r,e,n){const a=Math.trunc(+r/1e3);return Ze(a,e.length)},T:function(r,e,n){return Ze(+r,e.length)}};function fw(r,e=""){const n=r>0?"-":"+",a=Math.abs(r),s=Math.trunc(a/60),u=a%60;return u===0?n+String(s):n+String(s)+e+Ze(u,2)}function dw(r,e){return r%60===0?(r>0?"-":"+")+Ze(Math.abs(r)/60,2):Za(r,e)}function Za(r,e=""){const n=r>0?"-":"+",a=Math.abs(r),s=Ze(Math.trunc(a/60),2),u=Ze(a%60,2);return n+s+e+u}const pw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},G1=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pI=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return pw(r,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",pw(a,e)).replace("{{time}}",G1(s,e))},mI={p:G1,P:pI},gI=/^D+$/,yI=/^Y+$/,vI=["D","DD","YY","YYYY"];function bI(r){return gI.test(r)}function wI(r){return yI.test(r)}function SI(r,e,n){const a=kI(r,e,n);if(console.warn(a),vI.includes(r))throw new RangeError(a)}function kI(r,e,n){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EI=/^'([^]*?)'?$/,CI=/''/g,_I=/[a-zA-Z]/;function mw(r,e,n){var a,s,u,f;const p=Bh(),m=p.locale??uI,g=p.firstWeekContainsDate??((s=(a=p.locale)==null?void 0:a.options)==null?void 0:s.firstWeekContainsDate)??1,v=p.weekStartsOn??((f=(u=p.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,S=dr(r,void 0);if(!NO(S))throw new RangeError("Invalid time value");let k=e.match(TI).map(_=>{const M=_[0];if(M==="p"||M==="P"){const z=mI[M];return z(_,m.formatLong)}return _}).join("").match(xI).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const M=_[0];if(M==="'")return{isToken:!1,value:DI(_)};if(hw[M])return{isToken:!0,value:_};if(M.match(_I))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:_}});m.localize.preprocessor&&(k=m.localize.preprocessor(S,k));const R={firstWeekContainsDate:g,weekStartsOn:v,locale:m};return k.map(_=>{if(!_.isToken)return _.value;const M=_.value;(wI(M)||bI(M))&&SI(M,e,String(r));const z=hw[M[0]];return z(S,M,m.localize,R)}).join("")}function DI(r){const e=r.match(EI);return e?e[1].replace(CI,"'"):r}function gw(r,e,n,a=[]){const s={:0,:1,:2,:3,:4,:5,:6};let u=[],f=new Date(r);for(;u.length<n;){const p=Object.keys(s).find(g=>s[g]===f.getDay()),m=f.toISOString().slice(0,10);e.includes(p)&&!a.includes(m)&&u.push({date:m,session:u.length+1}),f.setDate(f.getDate()+1)}return u}function NI(){const r=localStorage.getItem("studentId"),[e,n]=U.useState(null),[a,s]=U.useState({}),[u,f]=U.useState([]),[p,m]=U.useState([]),[g,v]=U.useState([]);return U.useEffect(()=>{if(!r)return;const S=ci(tr(ut,"students",r),k=>{if(k.exists()){const R=k.data();n({id:k.id,...R})}});return(async()=>{const k=await na(yn(ut,"attendance")),R={};k.docs.forEach(_=>{R[_.id]=_.data()}),s(R)})(),(async()=>{const k=await na(yn(ut,"makeups"));f(k.docs.map(R=>({id:R.id,...R.data()})))})(),(async()=>{const k=await na(yn(ut,"holidays"));m(k.docs.map(R=>R.data().date))})(),()=>S()},[r]),U.useEffect(()=>{(async()=>{if(!e)return;const S=e.schedules.map(O=>O.day),k=S.length*4,R=k*10,_=[...p];let M=gw(e.startDate,S,R*2,_);const z=new Date(e.startDate).getDay();S.includes(z)&&(!M.length||M[0].date!==e.startDate)?(console.log(` (${e.startDate})   `),M.unshift({date:e.startDate})):console.log(` (${e.startDate})   or   `);const W=M.filter(O=>!_.includes(O.date)).map((O,j)=>{var N;const Ye=(N=a==null?void 0:a[O.date])==null?void 0:N[e.name];let et=(Ye==null?void 0:Ye.status)||"",K=(Ye==null?void 0:Ye.time)||"";return{date:O.date,status:et,time:K,originalIndex:j}}),J=u.filter(O=>O.name===e.name),ie=J.filter(O=>O.type===""),ue=J.filter(O=>O.type===""),ce=[];for(const O of ie){const j=W.find(N=>N.date===O.sourceDate);j&&(j.status=""),O.date&&ce.push({date:O.date,status:"",time:"",originalIndex:-1})}for(const O of ue)O.date&&!W.find(j=>j.date===O.date&&j.status==="")&&ce.push({date:O.date,status:"",time:"",originalIndex:-1});let ae=[...W,...ce].sort((O,j)=>O.date.localeCompare(j.date));const A=new Set(ae.map(O=>O.date+"-"+O.originalIndex));let E=ae.length>0?ae.at(-1).date:e.startDate;for(;!(ae.filter(O=>O.status!=="").length>=R);){const O=gw(E,S,1,_).find(j=>{const N=j.date+"-"+j.originalIndex;return!A.has(N)});if(!O)break;E=O.date,A.add(O.date+"-"+O.originalIndex),ae.push({date:O.date,status:"",time:"",originalIndex:O.originalIndex})}const D=[];let P=1;for(let O of ae)D.push({...O,session:O.status===""?"X":P++}),P>k&&(P=1);v(D)})()},[e,a,u,p]),e?C.jsxs("div",{className:"container",style:{textAlign:"center",fontSize:"18px"},children:[C.jsx("h1",{style:{fontSize:"24px"},children:"   "}),C.jsx(kO,{style:{display:"block",margin:"0 auto"},tileContent:({date:S,view:k})=>{if(k!=="month")return null;const R=mw(S,"yyyy-MM-dd"),_=g.find(J=>J.date===R);let M="";(_==null?void 0:_.status)===""?M="yellowgreen":(_==null?void 0:_.status)===""?M="skyblue":["","onTime"].includes(_==null?void 0:_.status)?M="green":["","tardy"].includes(_==null?void 0:_.status)?M="#ff9800":(_==null?void 0:_.status)===""?M="#f44336":p.includes(R)&&(M="red");const z=new Date,W=S.toDateString()===z.toDateString();return _?C.jsxs("div",{style:{background:M||(W?"yellow":""),color:"black",borderRadius:4,padding:2,fontSize:12,textAlign:"center"},children:[C.jsx("div",{children:`${_.session}`}),_.time&&C.jsx("div",{style:{fontSize:10},children:_.time})]}):W?C.jsx("div",{style:{background:"yellow",borderRadius:4,padding:2,fontSize:12,textAlign:"center"}}):null},onClickDay:S=>{const k=mw(S,"yyyy-MM-dd"),R=g.find(_=>_.date===k);alert(R?` ${k}  ${R.session} (${R.status})`:` ${k}    `)}}),C.jsxs("p",{style:{marginTop:12,fontSize:14},children:["  :",C.jsx("br",{}),"(), (), (), (), (), ()"]})]}):C.jsx("p",{children:" "})}function OI(){var r,e,n;const a=localStorage.getItem("studentId"),s=U.useRef(!1),[u,f]=U.useState(null),[p,m]=U.useState([]),[g,v]=U.useState(0),[S,k]=U.useState({}),[R,_]=U.useState({}),M=["","",""];U.useEffect(()=>{if(!a)return;const ae=ci(tr(ut,"students",a),A=>{A.exists()&&f({id:A.id,...A.data()})});return()=>ae()},[a]),U.useEffect(()=>{if(!a)return;const ae=ci(yn(ut,"payments"),A=>{const E={};A.docs.forEach(D=>{const P=D.data();P.studentId===a&&(E[P.routineNumber]=P.paymentMethod)}),k(E)});return()=>ae()},[a]),U.useEffect(()=>{if(!a)return;const ae=ci(yn(ut,"payment_completed"),A=>{const E={};A.docs.forEach(D=>{const P=D.data();P.studentId===a&&(E[String(P.routineNumber)]=P.paymentComplete)}),_(E)});return()=>ae()},[a]),U.useEffect(()=>{if(!a)return;const ae=ci(tr(ut,"routines",a),A=>{if(!A.exists())return;const E=A.data().lessons||[];if(m(E),!s.current){s.current=!0;const D=new Date().toISOString().slice(0,10),P={};E.forEach(j=>{const N=j.routineNumber||1;P[N]||(P[N]=[]),P[N].push(j)});const O=Object.values(P).sort((j,N)=>j[0].routineNumber-N[0].routineNumber).findIndex(j=>j.some(N=>N.date===D));v(O>=0?O:0)}});return()=>ae()},[a]);const z=async(ae,A)=>{k(E=>({...E,[A]:ae})),await WD(tr(ut,"payments",`${a}_routine_${A}`),{studentId:a,routineNumber:A,paymentMethod:ae,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})};if(!u)return C.jsx("p",{children:" "});const W={};p.forEach(ae=>{const A=ae.routineNumber||1;W[A]||(W[A]=[]),W[A].push(ae)});const J=Object.values(W).sort((ae,A)=>ae[0].routineNumber-A[0].routineNumber),ie=J[g]||[],ue=((r=ie[0])==null?void 0:r.routineNumber)??g+1,ce=(n=(e=J[g+1])==null?void 0:e[0])==null?void 0:n.date;return C.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[C.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:[" ",u.name,"   ",ue,""]}),C.jsx("p",{style:{fontSize:18,marginBottom:16},children:R[ue]?"  .":"  .    ."}),C.jsx("p",{style:{fontSize:16,marginBottom:32},children:ce?C.jsxs(C.Fragment,{children:[" : ",ce,C.jsx("br",{}),"     ."]}):"     ."}),C.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[C.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:""}),M.map(ae=>C.jsx("button",{onClick:()=>z(ae,ue),style:{padding:"4px 8px",background:ae===""?"#4caf50":ae===""?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:ae},ae))]}),C.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["   : ",S[ue]||"",S[ue]===""&&C.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"      "}),S[ue]===""&&C.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"  5  ."}),S[ue]===""&&C.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:" 3333-31-6107963  * "})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[C.jsx("button",{onClick:()=>v(ae=>Math.max(ae-1,0)),disabled:g===0,style:{padding:"8px 16px",background:g===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:g===0?"default":"pointer"},children:""}),C.jsx("button",{onClick:()=>v(ae=>Math.min(ae+1,J.length-1)),disabled:g>=J.length-1,style:{padding:"8px 16px",background:g>=J.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:g>=J.length-1?"default":"pointer"},children:""})]}),C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),C.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),C.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),C.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""})]})}),C.jsxs("tbody",{children:[ie.map((ae,A)=>C.jsxs("tr",{children:[C.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:ae.session}),C.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:ae.makeupDate?C.jsxs("span",{children:[C.jsx("s",{children:ae.date}),"  ",ae.makeupDate]}):ae.date}),C.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:ae.status}),C.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:ae.time||"-"})]},A)),ie.length===0&&C.jsx("tr",{children:C.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"  ."})})]})]})]})}function II(){const[r,e]=U.useState([]),[n,a]=U.useState(null),[s,u]=U.useState({}),[f,p]=U.useState([]);U.useEffect(()=>{(async()=>{const g=await na(yn(ut,"notices"));e(g.docs.map(v=>({id:v.id,title:v.data().title,date:v.data().date})))})(),(async()=>{const g=await na(yn(ut,"holidays")),v=new Date,S=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;p(g.docs.map(k=>({id:k.id,...k.data()})).filter(k=>k.date.startsWith(S)))})()},[]);const m=async g=>{if(n===g){a(null);return}if(!s[g]){const v=await Bm(tr(ut,"notices",g));v.exists()&&u(S=>({...S,[g]:v.data().content}))}a(g)};return C.jsxs("div",{className:"container",children:[C.jsxs("div",{style:{background:"#f9f9f9",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[C.jsx("h2",{style:{fontSize:"18px",marginBottom:"8px"},children:"   "}),f.length>0?C.jsx("ul",{style:{listStyle:"none",padding:0},children:f.map(g=>C.jsxs("li",{style:{marginBottom:"4px"},children:[g.name,"  ",C.jsx("span",{style:{color:"red"},children:g.date})]},g.id))}):C.jsx("p",{children:"   ."})]}),C.jsx("h1",{style:{fontSize:"24px"},children:"  "}),C.jsxs("ul",{style:{listStyle:"none",padding:0},children:[r.map(g=>C.jsxs("li",{style:{margin:"8px 0",borderBottom:"1px solid #ccc",paddingBottom:8},children:[C.jsxs("div",{onClick:()=>m(g.id),style:{cursor:"pointer",fontWeight:"bold"},children:[g.title," (",g.date,")"]}),n===g.id&&C.jsx("div",{style:{marginTop:8,whiteSpace:"pre-wrap"},children:s[g.id]||" ..."})]},g.id)),r.length===0&&C.jsx("p",{children:"  ."})]})]})}function RI(){const{id:r}=sT(),[e,n]=U.useState(null);return U.useEffect(()=>{(async()=>{const a=await Bm(tr(ut,"notices",r));a.exists()&&n({id:a.id,...a.data()})})()},[r]),e?C.jsxs("div",{className:"container",children:[C.jsx("h1",{children:e.title}),C.jsxs("p",{children:[C.jsx("strong",{children:":"})," ",e.date]}),C.jsx("div",{style:{whiteSpace:"pre-wrap",marginTop:12},children:e.content}),C.jsx("p",{style:{marginTop:24},children:C.jsx(im,{to:"/notices",children:"  "})})]}):C.jsx("p",{children:"  "})}function sp({children:r,...e}){return C.jsx("table",{...e,style:{width:"100%",borderCollapse:"collapse"},children:r})}function lp({children:r,...e}){return C.jsx("thead",{...e,children:r})}function up({children:r,...e}){return C.jsx("tbody",{...e,children:r})}function ns({children:r,...e}){return C.jsx("tr",{...e,children:r})}function Ga({children:r,...e}){return C.jsx("th",{...e,style:{border:"1px solid #ccc",padding:8,textAlign:"center",background:"#f5f5f5"},children:r})}function Xa({children:r,...e}){return C.jsx("td",{...e,style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:r})}function AI(){const r=localStorage.getItem("studentId"),[e,n]=U.useState(null),[a,s]=U.useState([]),[u,f]=U.useState([]);if(U.useEffect(()=>{if(!r)return;const v=ci(tr(ut,"students",r),S=>{if(S.exists()){const k={id:S.id,...S.data()};n(k),k.points&&f(Object.keys(k.points))}});return()=>v()},[r]),U.useEffect(()=>{const v=ci(yn(ut,"students"),S=>{const k=S.docs.map(R=>({id:R.id,...R.data()}));s(k)});return()=>v()},[]),!e)return C.jsx("p",{children:" "});const p=u.reduce((v,S)=>v+(e.points[S]||0),0),m=a.map(v=>({name:v.name,total:u.reduce((S,k)=>{var R;return S+(((R=v.points)==null?void 0:R[k])||0)},0)})).sort((v,S)=>S.total-v.total).slice(0,5),g={};return u.forEach(v=>{g[v]=[...a].map(S=>{var k;return{name:S.name,value:((k=S.points)==null?void 0:k[v])||0}}).sort((S,k)=>k.value-S.value).slice(0,5)}),C.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[C.jsx("h1",{style:{fontSize:"24px"},children:"  "}),C.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline",gap:16,marginTop:16},children:[C.jsx("h2",{style:{margin:0},children:"  "}),C.jsxs("span",{style:{fontSize:18,fontWeight:"bold"},children:[" : ",p,"pt"]})]}),C.jsxs(sp,{children:[C.jsx(lp,{children:C.jsx(ns,{children:u.map(v=>C.jsx(Ga,{children:v},v))})}),C.jsx(up,{children:C.jsx(ns,{children:u.map(v=>C.jsx(Xa,{children:e.points[v]||0},v))})})]}),C.jsx("h2",{style:{margin:"32px 0 16px"},children:"   (Top 5)"}),C.jsxs(sp,{children:[C.jsx(lp,{children:C.jsxs(ns,{children:[C.jsx(Ga,{children:""}),C.jsx(Ga,{children:" "}),C.jsx(Ga,{children:""})]})}),C.jsx(up,{children:m.map((v,S)=>C.jsxs(ns,{children:[C.jsx(Xa,{children:S+1}),C.jsx(Xa,{children:v.name}),C.jsx(Xa,{children:v.total})]},v.name))})]}),C.jsx("h2",{style:{margin:"32px 0 16px"},children:"   (Top 5)"}),u.map(v=>C.jsxs("div",{style:{marginBottom:24},children:[C.jsxs("h3",{style:{margin:"8px 0"},children:[v," TOP 5"]}),C.jsxs(sp,{children:[C.jsx(lp,{children:C.jsxs(ns,{children:[C.jsx(Ga,{children:""}),C.jsx(Ga,{children:" "}),C.jsx(Ga,{children:v})]})}),C.jsx(up,{children:g[v].map((S,k)=>C.jsxs(ns,{children:[C.jsx(Xa,{children:k+1}),C.jsx(Xa,{children:S.name}),C.jsx(Xa,{children:S.value})]},v+S.name))})]})]},v))]})}function PI(){const[r,e]=U.useState([]),n=localStorage.getItem("studentId");U.useEffect(()=>{const s=yn(ut,"books");return ci(s,u=>{const f=u.docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.studentId===n);e(f)})},[n]);const a=()=>{const s=["",""," ",""],u=r.map(v=>[v.name,v.grade,v.title,v.completedDate]);let f=s.join(",")+`
`;u.forEach(v=>{f+=v.join(",")+`
`});const p=new Blob([f],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(p),g=document.createElement("a");g.href=m,g.download=`_${new Date().toISOString().slice(0,10)}.csv`,g.click(),URL.revokeObjectURL(m)};return C.jsxs("div",{className:"container",children:[C.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"  "}),C.jsx("button",{onClick:a,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",marginBottom:"16px"},children:" "}),C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),C.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),C.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:" "}),C.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""})]})}),C.jsx("tbody",{children:r.length>0?r.map(s=>C.jsxs("tr",{children:[C.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:s.name}),C.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:s.grade}),C.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:s.title}),C.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:s.completedDate})]},s.id)):C.jsx("tr",{children:C.jsx("td",{colSpan:"4",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"  ."})})})]})]})}function LI(){const[r,e]=U.useState([]),[n,a]=U.useState({}),[s,u]=U.useState(null),[f,p]=U.useState(""),m=localStorage.getItem("studentId");U.useEffect(()=>{const k=yn(ut,"comments");return ci(k,R=>{const _=R.docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.studentId===m);e(_.sort((M,z)=>(z.createdAt||"").localeCompare(M.createdAt||"")))})},[m]);const g=async k=>{var R;const _=(R=n[k])==null?void 0:R.trim();if(!_)return alert(" !");const M=await Bm(tr(ut,"students",m)),z=M.exists()?M.data().name:"";await b1(yn(ut,"comments"),{studentId:m,name:z,comment:`:${_}`,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:k}),a(W=>({...W,[k]:""})),alert(" !")},v=async k=>{window.confirm("   ?")&&await QD(tr(ut,"comments",k))},S=async k=>{if(!f.trim())return alert("  !");await v1(tr(ut,"comments",k),{comment:`:${f}`}),u(null),p("")};return C.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[C.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"  "}),C.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(k=>!k.comment.startsWith(":")).map(k=>{var R;const _=r.filter(M=>M.parentId===k.id);return C.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[C.jsxs("div",{children:[k.comment," ",C.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",k.date,")"]})]}),C.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:[": ",(R=k.createdAt)==null?void 0:R.slice(0,19).replace("T"," ")]}),_.map(M=>C.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:s===M.id?C.jsxs(C.Fragment,{children:[C.jsx("input",{value:f,onChange:z=>p(z.target.value),style:{width:"60%",padding:4}}),C.jsx("button",{onClick:()=>S(M.id),style:{marginLeft:8},children:""}),C.jsx("button",{onClick:()=>u(null),style:{marginLeft:4},children:""})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:[" ",M.comment.replace(":","")]}),C.jsxs("div",{style:{marginTop:4},children:[C.jsx("button",{onClick:()=>{u(M.id),p(M.comment.replace(":",""))},style:{marginRight:6},children:""}),C.jsx("button",{onClick:()=>v(M.id),children:""})]})]})},M.id)),C.jsxs("div",{style:{marginTop:8},children:[C.jsx("input",{placeholder:" ",value:n[k.id]||"",onChange:M=>a(z=>({...z,[k.id]:M.target.value})),style:{width:"70%",padding:4}}),C.jsx("button",{onClick:()=>g(k.id),style:{marginLeft:8,padding:"4px 12px"},children:""})]})]},k.id)}),r.filter(k=>!k.comment.startsWith(":")).length===0&&C.jsx("li",{style:{color:"#888"},children:"  ."})]})]})}function MI(){const[r,e]=U.useState("comments");return C.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[C.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"    "}),C.jsxs("div",{style:{marginBottom:"16px"},children:[C.jsx("button",{onClick:()=>e("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),C.jsx("button",{onClick:()=>e("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),C.jsx("button",{onClick:()=>e("points"),style:{padding:"8px 16px",backgroundColor:r==="points"?"#007bff":"#f0f0f0",color:r==="points"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}),r==="comments"&&C.jsx(LI,{}),r==="books"&&C.jsx(PI,{}),r==="points"&&C.jsx(AI,{})]})}function FI(){return C.jsx(QT,{children:C.jsx(jI,{})})}function jI(){const[r,e]=U.useState(!!localStorage.getItem("studentId")),[n,a]=U.useState(!1),[s,u]=U.useState(""),f=vi();U.useEffect(()=>{const v=()=>{e(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[]),U.useEffect(()=>{e(!!localStorage.getItem("studentId"))},[f]),U.useEffect(()=>{const v=localStorage.getItem("studentId");v&&(async()=>{const S=new Date,k=new Date;k.setDate(S.getDate()-3);const R=await na(yn(ut,"comments")),_=await na(yn(ut,"books")),M=R.docs.some(W=>{const J=W.data();return J.studentId===v&&new Date(J.createdAt||J.date)>=k}),z=_.docs.some(W=>{const J=W.data();return J.studentId===v&&new Date(J.createdAt||J.completedDate)>=k});g(M||z)})()},[]),U.useEffect(()=>{let v;const S=()=>{clearTimeout(v),v=setTimeout(()=>{localStorage.clear(),e(!1),window.location.hash="#/login",alert("1     .")},36e5)};if(r){const k=["mousemove","keydown","click","scroll","touchstart"];return k.forEach(R=>window.addEventListener(R,S)),S(),()=>{clearTimeout(v),k.forEach(R=>window.removeEventListener(R,S))}}},[r]);async function p(){const v=localStorage.getItem("studentId");if(!v||s.length!==4){alert("PIN 4   .");return}try{await v1(tr(ut,"students",v),{pin:s}),alert("PIN  ."),a(!1),u("")}catch(S){console.error(S),alert("PIN    .")}}const[m,g]=U.useState(!1);return C.jsxs("div",{children:[r&&C.jsxs("nav",{style:{position:"sticky",top:0,backgroundColor:"#fff",padding:"8px 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"},children:[["/attendance","/payment","/notices","/myclass"].map(v=>C.jsx(Ow,{to:v,style:({isActive:S})=>({margin:"0 8px",padding:"6px 12px",borderRadius:4,textDecoration:"none",fontWeight:S?"bold":"normal",color:S?"#fff":"#333",backgroundColor:S?"#007bff":"transparent",position:"relative",display:"inline-block"}),children:{"/attendance":"","/payment":"","/notices":"","/myclass":C.jsxs(C.Fragment,{children:["",m&&C.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI', 'Apple SD Gothic Neo', sans-serif"},children:" "})]})}[v]},v)),C.jsx("button",{onClick:()=>a(!0),style:{marginLeft:20,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN "}),C.jsx("button",{onClick:()=>{localStorage.clear(),e(!1),window.location.hash="#/login"},style:{marginLeft:8,padding:"6px 12px",border:"none",borderRadius:4,backgroundColor:"#f0f0f0",cursor:"pointer"},children:""}),n&&C.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:C.jsxs("div",{style:{background:"#fff",padding:20,borderRadius:8,width:300},children:[C.jsx("h2",{children:"PIN "}),C.jsx("input",{type:"text",maxLength:4,value:s,onChange:v=>u(v.target.value.replace(/\D/g,"")),placeholder:" PIN (4)",style:{width:"100%",padding:8,margin:"12px 0"}}),C.jsxs("div",{style:{textAlign:"right"},children:[C.jsx("button",{onClick:()=>a(!1),style:{marginRight:8},children:""}),C.jsx("button",{onClick:p,children:""})]})]})})]}),C.jsxs(kT,{children:[C.jsx(Gi,{path:"/login",element:C.jsx(YD,{onLoginSuccess:()=>e(!0)})}),C.jsx(Gi,{path:"/",element:r?C.jsx(Ya,{to:"/notices",replace:!0}):C.jsx(Ya,{to:"/login",replace:!0})}),C.jsx(Gi,{path:"/attendance",element:r?C.jsx(NI,{}):C.jsx(Ya,{to:"/login",replace:!0})}),C.jsx(Gi,{path:"/payment",element:r?C.jsx(OI,{}):C.jsx(Ya,{to:"/login",replace:!0})}),C.jsx(Gi,{path:"/notices",element:r?C.jsx(II,{}):C.jsx(Ya,{to:"/login",replace:!0})}),C.jsx(Gi,{path:"/notices/:id",element:r?C.jsx(RI,{}):C.jsx(Ya,{to:"/login",replace:!0})}),C.jsx(Gi,{path:"/myclass",element:r?C.jsx(MI,{}):C.jsx(Ya,{to:"/login",replace:!0})})]})]})}Ix.createRoot(document.getElementById("root")).render(C.jsx(U.StrictMode,{children:C.jsx(FI,{})}));
