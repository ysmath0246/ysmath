(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function tb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var td={exports:{}},no={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function eb(){if(Zy)return no;Zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return no.Fragment=e,no.jsx=i,no.jsxs=i,no}var Wy;function nb(){return Wy||(Wy=1,td.exports=eb()),td.exports}var E=nb(),ed={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function ib(){if(Jy)return jt;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,F={};function N(O,tt,nt){this.props=O,this.context=tt,this.refs=F,this.updater=nt||D}N.prototype.isReactComponent={},N.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function P(){}P.prototype=N.prototype;function H(O,tt,nt){this.props=O,this.context=tt,this.refs=F,this.updater=nt||D}var q=H.prototype=new P;q.constructor=H,I(q,N.prototype),q.isPureReactComponent=!0;var ht=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},yt=Object.prototype.hasOwnProperty;function M(O,tt,nt,lt,pt,Vt){return nt=Vt.ref,{$$typeof:r,type:O,key:tt,ref:nt!==void 0?nt:null,props:Vt}}function R(O,tt){return M(O.type,tt,void 0,void 0,void 0,O.props)}function w(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function j(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return tt[nt]})}var B=/\/+/g;function U(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):tt.toString(36)}function C(){}function St(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Mt(O,tt,nt,lt,pt){var Vt=typeof O;(Vt==="undefined"||Vt==="boolean")&&(O=null);var At=!1;if(O===null)At=!0;else switch(Vt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(O.$$typeof){case r:case e:At=!0;break;case T:return At=O._init,Mt(At(O._payload),tt,nt,lt,pt)}}if(At)return pt=pt(O),At=lt===""?"."+U(O,0):lt,ht(pt)?(nt="",At!=null&&(nt=At.replace(B,"$&/")+"/"),Mt(pt,tt,nt,"",function(Ye){return Ye})):pt!=null&&(w(pt)&&(pt=R(pt,nt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(B,"$&/")+"/")+At)),tt.push(pt)),1;At=0;var ce=lt===""?".":lt+":";if(ht(O))for(var qt=0;qt<O.length;qt++)lt=O[qt],Vt=ce+U(lt,qt),At+=Mt(lt,tt,nt,Vt,pt);else if(qt=x(O),typeof qt=="function")for(O=qt.call(O),qt=0;!(lt=O.next()).done;)lt=lt.value,Vt=ce+U(lt,qt++),At+=Mt(lt,tt,nt,Vt,pt);else if(Vt==="object"){if(typeof O.then=="function")return Mt(St(O),tt,nt,lt,pt);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return At}function K(O,tt,nt){if(O==null)return O;var lt=[],pt=0;return Mt(O,lt,"","",function(Vt){return tt.call(nt,Vt,pt++)}),lt}function X(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function gt(){}return jt.Children={map:K,forEach:function(O,tt,nt){K(O,function(){tt.apply(this,arguments)},nt)},count:function(O){var tt=0;return K(O,function(){tt++}),tt},toArray:function(O){return K(O,function(tt){return tt})||[]},only:function(O){if(!w(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},jt.Component=N,jt.Fragment=i,jt.Profiler=o,jt.PureComponent=H,jt.StrictMode=s,jt.Suspense=y,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,jt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ut.H.useMemoCache(O)}},jt.cache=function(O){return function(){return O.apply(null,arguments)}},jt.cloneElement=function(O,tt,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=I({},O.props),pt=O.key,Vt=void 0;if(tt!=null)for(At in tt.ref!==void 0&&(Vt=void 0),tt.key!==void 0&&(pt=""+tt.key),tt)!yt.call(tt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&tt.ref===void 0||(lt[At]=tt[At]);var At=arguments.length-2;if(At===1)lt.children=nt;else if(1<At){for(var ce=Array(At),qt=0;qt<At;qt++)ce[qt]=arguments[qt+2];lt.children=ce}return M(O.type,pt,void 0,void 0,Vt,lt)},jt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},jt.createElement=function(O,tt,nt){var lt,pt={},Vt=null;if(tt!=null)for(lt in tt.key!==void 0&&(Vt=""+tt.key),tt)yt.call(tt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(pt[lt]=tt[lt]);var At=arguments.length-2;if(At===1)pt.children=nt;else if(1<At){for(var ce=Array(At),qt=0;qt<At;qt++)ce[qt]=arguments[qt+2];pt.children=ce}if(O&&O.defaultProps)for(lt in At=O.defaultProps,At)pt[lt]===void 0&&(pt[lt]=At[lt]);return M(O,Vt,void 0,void 0,null,pt)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(O){return{$$typeof:m,render:O}},jt.isValidElement=w,jt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:X}},jt.memo=function(O,tt){return{$$typeof:g,type:O,compare:tt===void 0?null:tt}},jt.startTransition=function(O){var tt=ut.T,nt={};ut.T=nt;try{var lt=O(),pt=ut.S;pt!==null&&pt(nt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(gt,ot)}catch(Vt){ot(Vt)}finally{ut.T=tt}},jt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},jt.use=function(O){return ut.H.use(O)},jt.useActionState=function(O,tt,nt){return ut.H.useActionState(O,tt,nt)},jt.useCallback=function(O,tt){return ut.H.useCallback(O,tt)},jt.useContext=function(O){return ut.H.useContext(O)},jt.useDebugValue=function(){},jt.useDeferredValue=function(O,tt){return ut.H.useDeferredValue(O,tt)},jt.useEffect=function(O,tt,nt){var lt=ut.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(O,tt)},jt.useId=function(){return ut.H.useId()},jt.useImperativeHandle=function(O,tt,nt){return ut.H.useImperativeHandle(O,tt,nt)},jt.useInsertionEffect=function(O,tt){return ut.H.useInsertionEffect(O,tt)},jt.useLayoutEffect=function(O,tt){return ut.H.useLayoutEffect(O,tt)},jt.useMemo=function(O,tt){return ut.H.useMemo(O,tt)},jt.useOptimistic=function(O,tt){return ut.H.useOptimistic(O,tt)},jt.useReducer=function(O,tt,nt){return ut.H.useReducer(O,tt,nt)},jt.useRef=function(O){return ut.H.useRef(O)},jt.useState=function(O){return ut.H.useState(O)},jt.useSyncExternalStore=function(O,tt,nt){return ut.H.useSyncExternalStore(O,tt,nt)},jt.useTransition=function(){return ut.H.useTransition()},jt.version="19.1.0",jt}var t_;function Gd(){return t_||(t_=1,ed.exports=ib()),ed.exports}var L=Gd();const rb=tb(L);var nd={exports:{}},io={},id={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function ab(){return e_||(e_=1,function(r){function e(K,X){var ot=K.length;K.push(X);t:for(;0<ot;){var gt=ot-1>>>1,O=K[gt];if(0<o(O,X))K[gt]=X,K[ot]=O,ot=gt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var X=K[0],ot=K.pop();if(ot!==X){K[0]=ot;t:for(var gt=0,O=K.length,tt=O>>>1;gt<tt;){var nt=2*(gt+1)-1,lt=K[nt],pt=nt+1,Vt=K[pt];if(0>o(lt,ot))pt<O&&0>o(Vt,lt)?(K[gt]=Vt,K[pt]=ot,gt=pt):(K[gt]=lt,K[nt]=ot,gt=nt);else if(pt<O&&0>o(Vt,ot))K[gt]=Vt,K[pt]=ot,gt=pt;else break t}}return X}function o(K,X){var ot=K.sortIndex-X.sortIndex;return ot!==0?ot:K.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],T=1,S=null,x=3,D=!1,I=!1,F=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ht(K){for(var X=i(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=K)s(g),X.sortIndex=X.expirationTime,e(y,X);else break;X=i(g)}}function ut(K){if(F=!1,ht(K),!I)if(i(y)!==null)I=!0,yt||(yt=!0,U());else{var X=i(g);X!==null&&Mt(ut,X.startTime-K)}}var yt=!1,M=-1,R=5,w=-1;function j(){return N?!0:!(r.unstable_now()-w<R)}function B(){if(N=!1,yt){var K=r.unstable_now();w=K;var X=!0;try{t:{I=!1,F&&(F=!1,H(M),M=-1),D=!0;var ot=x;try{e:{for(ht(K),S=i(y);S!==null&&!(S.expirationTime>K&&j());){var gt=S.callback;if(typeof gt=="function"){S.callback=null,x=S.priorityLevel;var O=gt(S.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){S.callback=O,ht(K),X=!0;break e}S===i(y)&&s(y),ht(K)}else s(y);S=i(y)}if(S!==null)X=!0;else{var tt=i(g);tt!==null&&Mt(ut,tt.startTime-K),X=!1}}break t}finally{S=null,x=ot,D=!1}X=void 0}}finally{X?U():yt=!1}}}var U;if(typeof q=="function")U=function(){q(B)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,St=C.port2;C.port1.onmessage=B,U=function(){St.postMessage(null)}}else U=function(){P(B,0)};function Mt(K,X){M=P(function(){K(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(K){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var ot=x;x=X;try{return K()}finally{x=ot}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ot=x;x=K;try{return X()}finally{x=ot}},r.unstable_scheduleCallback=function(K,X,ot){var gt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?gt+ot:gt):ot=gt,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ot+O,K={id:T++,callback:X,priorityLevel:K,startTime:ot,expirationTime:O,sortIndex:-1},ot>gt?(K.sortIndex=ot,e(g,K),i(y)===null&&K===i(g)&&(F?(H(M),M=-1):F=!0,Mt(ut,ot-gt))):(K.sortIndex=O,e(y,K),I||D||(I=!0,yt||(yt=!0,U()))),K},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(K){var X=x;return function(){var ot=x;x=X;try{return K.apply(this,arguments)}finally{x=ot}}}}(rd)),rd}var n_;function sb(){return n_||(n_=1,id.exports=ab()),id.exports}var ad={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function lb(){if(i_)return rn;i_=1;var r=Gd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,T)},rn.flushSync=function(y){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=T,s.d.f()}},rn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},rn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},rn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:D}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},rn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},rn.requestFormReset=function(y){s.d.r(y)},rn.unstable_batchedUpdates=function(y,g){return y(g)},rn.useFormState=function(y,g,T){return f.H.useFormState(y,g,T)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var r_;function ob(){if(r_)return ad.exports;r_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ad.exports=lb(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function ub(){if(a_)return io;a_=1;var r=sb(),e=Gd(),i=ob();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function g(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=g(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function St(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case N:return"Profiler";case F:return"StrictMode";case ut:return"Suspense";case yt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case q:return(t.displayName||"Context")+".Provider";case H:return(t._context.displayName||"Context")+".Consumer";case ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:St(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return St(t(n))}catch{}}return null}var Mt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},gt=[],O=-1;function tt(t){return{current:t}}function nt(t){0>O||(t.current=gt[O],gt[O]=null,O--)}function lt(t,n){O++,gt[O]=t.current,t.current=n}var pt=tt(null),Vt=tt(null),At=tt(null),ce=tt(null);function qt(t,n){switch(lt(At,n),lt(Vt,t),lt(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xy(n),t=Ry(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(pt),lt(pt,t)}function Ye(){nt(pt),nt(Vt),nt(At)}function Kn(t){t.memoizedState!==null&&lt(ce,t);var n=pt.current,a=Ry(n,t.type);n!==a&&(lt(Vt,t),lt(pt,a))}function On(t){Vt.current===t&&(nt(pt),nt(Vt)),ce.current===t&&(nt(ce),Zl._currentValue=ot)}var Ri=Object.prototype.hasOwnProperty,wi=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,Wr=r.unstable_shouldYield,Pa=r.unstable_requestPaint,yn=r.unstable_now,Xs=r.unstable_getCurrentPriorityLevel,Jr=r.unstable_ImmediatePriority,cr=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,Zs=r.unstable_LowPriority,Ii=r.unstable_IdlePriority,J=r.log,ft=r.unstable_setDisableYieldValue,ct=null,dt=null;function Rt(t){if(typeof J=="function"&&ft(t),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ct,t)}catch{}}var Wt=Math.clz32?Math.clz32:oe,ee=Math.log,$t=Math.LN2;function oe(t){return t>>>=0,t===0?32:31-(ee(t)/$t|0)|0}var Xt=256,ge=4194304;function Pe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Pe(l):(v&=b,v!==0?h=Pe(v):a||(a=b&~t,a!==0&&(h=Pe(a))))):(b=l&~d,b!==0?h=Pe(b):v!==0?h=Pe(v):a||(a=l&~t,a!==0&&(h=Pe(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ri(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(){var t=Xt;return Xt<<=1,(Xt&4194048)===0&&(Xt=256),t}function Js(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Vi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tl(t,n,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,V=t.expirationTimes,Y=t.hiddenUpdates;for(a=v&~a;0<a;){var et=31-Wt(a),rt=1<<et;b[et]=0,V[et]=-1;var $=Y[et];if($!==null)for(Y[et]=null,et=0;et<$.length;et++){var Z=$[et];Z!==null&&(Z.lane&=-536870913)}a&=~rt}l!==0&&ai(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function ai(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Wt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function el(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fr(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Fy(t.type))}function Lo(t,n){var a=X.p;try{return X.p=t,n()}finally{X.p=a}}var de=Math.random().toString(36).slice(2),Ne="__reactFiber$"+de,Re="__reactProps$"+de,Mn="__reactContainer$"+de,nl="__reactEvents$"+de,nh="__reactListeners$"+de,dr="__reactHandles$"+de,ko="__reactResources$"+de,ta="__reactMarker$"+de;function mr(t){delete t[Ne],delete t[Re],delete t[nl],delete t[nh],delete t[dr]}function Oi(t){var n=t[Ne];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Mn]||a[Ne]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Iy(t);t!==null;){if(a=t[Ne])return a;t=Iy(t)}return n}t=a,a=t.parentNode}return null}function si(t){if(t=t[Ne]||t[Mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function li(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function cn(t){var n=t[ko];return n||(n=t[ko]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[ta]=!0}var il=new Set,za={};function $n(t,n){Mi(t,n),Mi(t+"Capture",n)}function Mi(t,n){for(za[t]=n,t=0;t<n.length;t++)il.add(n[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},ea={};function zo(t){return Ri.call(ea,t)?!0:Ri.call(Bo,t)?!1:Po.test(t)?ea[t]=!0:(Bo[t]=!0,!1)}function pr(t,n,a){if(zo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function oi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ke(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var na,qo;function ji(t){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",qo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+qo}var qa=!1;function Ha(t,n){if(!t||qa)return"";qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Z){var $=Z}Reflect.construct(t,[],rt)}else{try{rt.call()}catch(Z){$=Z}t.call(rt.prototype)}}else{try{throw Error()}catch(Z){$=Z}(rt=t())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var V=v.split(`
`),Y=b.split(`
`);for(h=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===V.length||h===Y.length)for(l=V.length-1,h=Y.length-1;1<=l&&0<=h&&V[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(V[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||V[l]!==Y[h]){var et=`
`+V[l].replace(" at new "," at ");return t.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",t.displayName)),et}while(1<=l&&0<=h);break}}}finally{qa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ji(a):""}function rl(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return ji("Activity");default:return""}}function Ga(t){try{var n="";do n+=rl(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function al(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ih(t){var n=al(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fa(t){t._valueTracker||(t._valueTracker=ih(t))}function sl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=al(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rh=/[\n"\\]/g;function we(t){return t.replace(rh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function An(t,n,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+hn(n)):t.value!==""+hn(n)&&(t.value=""+hn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?gr(t,v,hn(n)):a!=null?gr(t,v,hn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+hn(b):t.removeAttribute("name")}function ra(t,n,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+hn(a):"",n=n!=null?""+hn(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function gr(t,n,a){n==="number"&&ia(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ui(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+hn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function re(t,n,a){if(n!=null&&(n=""+hn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+hn(a):""}function aa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=hn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function jn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||sa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ll(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Ho(t,d,n[d])}function ol(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(t){return sh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Li=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Pi=null;function ul(t){var n=si(t);if(n&&(t=n.stateNode)){var a=t[Re]||null;t:switch(t=n.stateNode,n.type){case"input":if(An(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+we(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Re]||null;if(!h)throw Error(s(90));An(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&sl(l)}break t;case"textarea":re(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ui(t,!!a.multiple,n,!1)}}}var ui=!1;function Go(t,n,a){if(ui)return t(n,a);ui=!0;try{var l=t(n);return l}finally{if(ui=!1,(ki!==null||Pi!==null)&&(Lu(),ki&&(n=ki,t=Pi,Pi=ki=null,ul(n),t)))for(n=0;n<t.length;n++)ul(t[n])}}function la(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Re]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Xn)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Ln=!1}var ci=null,yr=null,Bi=null;function cl(){if(Bi)return Bi;var t,n=yr,a=n.length,l,h="value"in ci?ci.value:ci.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return Bi=h.slice(t,1<l?1-l:void 0)}function hi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fi(){return!0}function hl(){return!1}function Be(t){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fi:hl,this.isPropagationStopped=hl,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),n}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Be(Jt),ua=T({},Jt,{view:0,detail:0}),Fo=Be(ua),Ka,$a,di,ca=T({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Ka=t.screenX-di.screenX,$a=t.screenY-di.screenY):$a=Ka=0,di=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),kn=Be(ca),Qo=T({},ca,{dataTransfer:0}),lh=Be(Qo),ha=T({},ua,{relatedTarget:0}),Xa=Be(ha),fl=T({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Be(fl),Yo=T({},Jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wa=Be(Yo),oh=T({},Jt,{data:0}),dl=Be(oh),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=$o[t])?!!n[t]:!1}function da(){return ml}var Xo=T({},ua,{key:function(t){if(t.key){var n=fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(t){return t.type==="keypress"?hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ja=Be(Xo),Zo=T({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Be(Zo),zi=T({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),Wo=Be(zi),Jo=T({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=Be(Jo),eu=T({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ts=Be(eu),fn=T({},Jt,{newState:0,oldState:0}),nu=Be(fn),iu=[9,13,27,32],mi=Xn&&"CompositionEvent"in window,u=null;Xn&&"documentMode"in document&&(u=document.documentMode);var p=Xn&&"TextEvent"in window&&!u,_=Xn&&(!mi||u&&8<u&&11>=u),A=" ",G=!1;function W(t,n){switch(t){case"keyup":return iu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ht=!1;function Oe(t,n){switch(t){case"compositionend":return mt(n);case"keypress":return n.which!==32?null:(G=!0,A);case"textInput":return t=n.data,t===A&&G?null:t;default:return null}}function Gt(t,n){if(Ht)return t==="compositionend"||!mi&&W(t,n)?(t=cl(),Bi=yr=ci=null,Ht=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ze[t.type]:n==="textarea"}function qi(t,n,a,l){ki?Pi?Pi.push(l):Pi=[l]:ki=l,n=Hu(n,"onChange"),0<n.length&&(a=new Ya("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var $e=null,pi=null;function gl(t){Ey(t,0)}function ru(t){var n=li(t);if(sl(n))return t}function zm(t,n){if(t==="change")return n}var qm=!1;if(Xn){var uh;if(Xn){var ch="oninput"in document;if(!ch){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),ch=typeof Hm.oninput=="function"}uh=ch}else uh=!1;qm=uh&&(!document.documentMode||9<document.documentMode)}function Gm(){$e&&($e.detachEvent("onpropertychange",Fm),pi=$e=null)}function Fm(t){if(t.propertyName==="value"&&ru(pi)){var n=[];qi(n,pi,t,Un(t)),Go(gl,n)}}function IE(t,n,a){t==="focusin"?(Gm(),$e=n,pi=a,$e.attachEvent("onpropertychange",Fm)):t==="focusout"&&Gm()}function VE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(pi)}function NE(t,n){if(t==="click")return ru(n)}function OE(t,n){if(t==="input"||t==="change")return ru(n)}function ME(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xn=typeof Object.is=="function"?Object.is:ME;function yl(t,n){if(xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ri.call(n,h)||!xn(t[h],n[h]))return!1}return!0}function Qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ym(t,n){var a=Qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qm(a)}}function Km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ia(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ia(t.document)}return n}function hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jE=Xn&&"documentMode"in document&&11>=document.documentMode,es=null,fh=null,_l=null,dh=!1;function Xm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dh||es==null||es!==ia(l)||(l=es,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=Hu(fh,"onSelect"),0<l.length&&(n=new Ya("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=es)))}function ma(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ns={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},mh={},Zm={};Xn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function pa(t){if(mh[t])return mh[t];if(!ns[t])return t;var n=ns[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zm)return mh[t]=n[a];return t}var Wm=pa("animationend"),Jm=pa("animationiteration"),tp=pa("animationstart"),UE=pa("transitionrun"),LE=pa("transitionstart"),kE=pa("transitioncancel"),ep=pa("transitionend"),np=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Zn(t,n){np.set(t,n),$n(n,[t])}var ip=new WeakMap;function Pn(t,n){if(typeof t=="object"&&t!==null){var a=ip.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ga(n)},ip.set(t,n),n)}return{value:t,source:n,stack:Ga(n)}}var Bn=[],is=0,gh=0;function au(){for(var t=is,n=gh=is=0;n<t;){var a=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var d=Bn[n];if(Bn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&rp(a,h,d)}}function su(t,n,a,l){Bn[is++]=t,Bn[is++]=n,Bn[is++]=a,Bn[is++]=l,gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yh(t,n,a,l){return su(t,n,a,l),lu(t)}function rs(t,n){return su(t,null,null,n),lu(t)}function rp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function lu(t){if(50<Hl)throw Hl=0,Af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var as={};function PE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,a,l){return new PE(t,n,a,l)}function _h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,n){var a=t.alternate;return a===null?(a=Rn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ap(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ou(t,n,a,l,h,d){var v=0;if(l=t,typeof t=="function")_h(t)&&(v=1);else if(typeof t=="string")v=zT(t,a,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Rn(31,a,n,h),t.elementType=w,t.lanes=d,t;case I:return ga(a.children,h,d,n);case F:v=8,h|=24;break;case N:return t=Rn(12,a,n,h|2),t.elementType=N,t.lanes=d,t;case ut:return t=Rn(13,a,n,h),t.elementType=ut,t.lanes=d,t;case yt:return t=Rn(19,a,n,h),t.elementType=yt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case q:v=10;break t;case H:v=9;break t;case ht:v=11;break t;case M:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Rn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function ga(t,n,a,l){return t=Rn(7,t,l,n),t.lanes=a,t}function vh(t,n,a){return t=Rn(6,t,null,n),t.lanes=a,t}function Eh(t,n,a){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ss=[],ls=0,uu=null,cu=0,zn=[],qn=0,ya=null,Gi=1,Fi="";function _a(t,n){ss[ls++]=cu,ss[ls++]=uu,uu=t,cu=n}function sp(t,n,a){zn[qn++]=Gi,zn[qn++]=Fi,zn[qn++]=ya,ya=t;var l=Gi;t=Fi;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Gi=1<<32-Wt(n)+h|a<<h|l,Fi=d+t}else Gi=1<<d|a<<h|l,Fi=t}function Th(t){t.return!==null&&(_a(t,1),sp(t,1,0))}function bh(t){for(;t===uu;)uu=ss[--ls],ss[ls]=null,cu=ss[--ls],ss[ls]=null;for(;t===ya;)ya=zn[--qn],zn[qn]=null,Fi=zn[--qn],zn[qn]=null,Gi=zn[--qn],zn[qn]=null}var dn=null,Ee=null,Zt=!1,va=null,gi=!1,Sh=Error(s(519));function Ea(t){var n=Error(s(418,""));throw Tl(Pn(n,t)),Sh}function lp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ne]=t,n[Re]=l,a){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Bt(Fl[a],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Bt("invalid",n),ra(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fa(n);break;case"select":Bt("invalid",n);break;case"textarea":Bt("invalid",n),aa(n,l.value,l.defaultValue,l.children),Fa(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ay(n.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",n),Bt("toggle",n)),l.onScroll!=null&&Bt("scroll",n),l.onScrollEnd!=null&&Bt("scrollend",n),l.onClick!=null&&(n.onclick=Gu),n=!0):n=!1,n||Ea(t)}function op(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:dn=dn.return}}function vl(t){if(t!==dn)return!1;if(!Zt)return op(t),Zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bf(t.type,t.memoizedProps)),a=!a),a&&Ee&&Ea(t),op(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Ee=Jn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Ee=null}}else n===27?(n=Ee,Or(t.type)?(t=Gf,Gf=null,Ee=t):Ee=n):Ee=dn?Jn(t.stateNode.nextSibling):null;return!0}function El(){Ee=dn=null,Zt=!1}function up(){var t=va;return t!==null&&(En===null?En=t:En.push.apply(En,t),va=null),t}function Tl(t){va===null?va=[t]:va.push(t)}var Ah=tt(null),Ta=null,Qi=null;function _r(t,n,a){lt(Ah,n._currentValue),n._currentValue=a}function Yi(t){t._currentValue=Ah.current,nt(Ah)}function xh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Rh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var V=0;V<n.length;V++)if(b.context===n[V]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),xh(d.return,a,t),l||(v=null);break t}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),xh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function bl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;xn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}h=h.return}t!==null&&Rh(n,t,a,l),n.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){Ta=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return cp(Ta,t)}function fu(t,n){return Ta===null&&ba(t),cp(t,n)}function cp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qi=Qi.next=n;return a}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},zE=r.unstable_scheduleCallback,qE=r.unstable_NormalPriority,je={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new BE,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&zE(qE,function(){t.controller.abort()})}var Al=null,Ch=0,os=0,us=null;function HE(t,n){if(Al===null){var a=Al=[];Ch=0,os=Vf(),us={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ch++,n.then(hp,hp),n}function hp(){if(--Ch===0&&Al!==null){us!==null&&(us.status="fulfilled");var t=Al;Al=null,os=0,us=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function GE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&HE(t,n),fp!==null&&fp(t,n)};var Sa=tt(null);function Dh(){var t=Sa.current;return t!==null?t:he.pooledCache}function du(t,n){n===null?lt(Sa,Sa.current):lt(Sa,n.pool)}function dp(){var t=Dh();return t===null?null:{parent:je._currentValue,pool:t}}var xl=Error(s(460)),mp=Error(s(474)),mu=Error(s(542)),Ih={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pu(){}function gp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(pu,pu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t;default:if(typeof n.status=="string")n.then(pu,pu);else{if(t=he,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_p(t),t}throw Rl=n,xl}}var Rl=null;function yp(){if(Rl===null)throw Error(s(459));var t=Rl;return Rl=null,t}function _p(t){if(t===xl||t===mu)throw Error(s(483))}var vr=!1;function Vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=lu(t),rp(t,null,a),n}return su(t,l,n,a),lu(t)}function wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,el(t,a)}}function Oh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Mh=!1;function Cl(){if(Mh){var t=us;if(t!==null)throw t}}function Dl(t,n,a,l){Mh=!1;var h=t.updateQueue;vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var V=b,Y=V.next;V.next=null,v===null?d=Y:v.next=Y,v=V;var et=t.alternate;et!==null&&(et=et.updateQueue,b=et.lastBaseUpdate,b!==v&&(b===null?et.firstBaseUpdate=Y:b.next=Y,et.lastBaseUpdate=V))}if(d!==null){var rt=h.baseState;v=0,et=Y=V=null,b=d;do{var $=b.lane&-536870913,Z=$!==b.lane;if(Z?(Ft&$)===$:(l&$)===$){$!==0&&$===os&&(Mh=!0),et!==null&&(et=et.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Ct=t,xt=b;$=n;var le=a;switch(xt.tag){case 1:if(Ct=xt.payload,typeof Ct=="function"){rt=Ct.call(le,rt,$);break t}rt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=xt.payload,$=typeof Ct=="function"?Ct.call(le,rt,$):Ct,$==null)break t;rt=T({},rt,$);break t;case 2:vr=!0}}$=b.callback,$!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[$]:Z.push($))}else Z={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},et===null?(Y=et=Z,V=rt):et=et.next=Z,v|=$;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Z=b,b=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);et===null&&(V=rt),h.baseState=V,h.firstBaseUpdate=Y,h.lastBaseUpdate=et,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=rt}}function vp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],n)}var cs=tt(null),gu=tt(0);function Tp(t,n){t=tr,lt(gu,t),lt(cs,n),tr=t|n.baseLanes}function jh(){lt(gu,tr),lt(cs,cs.current)}function Uh(){tr=gu.current,nt(cs),nt(gu)}var br=0,Ut=null,ae=null,Ce=null,yu=!1,hs=!1,Aa=!1,_u=0,Il=0,fs=null,FE=0;function Se(){throw Error(s(321))}function Lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!xn(t[a],n[a]))return!1;return!0}function kh(t,n,a,l,h,d){return br=d,Ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?rg:ag,Aa=!1,d=a(l,h),Aa=!1,hs&&(d=Sp(n,a,l,h)),bp(t),d}function bp(t){K.H=Au;var n=ae!==null&&ae.next!==null;if(br=0,Ce=ae=Ut=null,yu=!1,Il=0,fs=null,n)throw Error(s(300));t===null||qe||(t=t.dependencies,t!==null&&hu(t)&&(qe=!0))}function Sp(t,n,a,l){Ut=t;var h=0;do{if(hs&&(fs=null),Il=0,hs=!1,25<=h)throw Error(s(301));if(h+=1,Ce=ae=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=WE,d=n(a,l)}while(hs);return d}function QE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Vl(n):n,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(Ut.flags|=1024),n}function Ph(){var t=_u!==0;return _u=0,t}function Bh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function zh(t){if(yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}yu=!1}br=0,Ce=ae=Ut=null,hs=!1,Il=_u=0,fs=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Ut.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function De(){if(ae===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var n=Ce===null?Ut.memoizedState:Ce.next;if(n!==null)Ce=n,ae=t;else{if(t===null)throw Ut.alternate===null?Error(s(467)):Error(s(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ce===null?Ut.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(t){var n=Il;return Il+=1,fs===null&&(fs=[]),t=gp(fs,t,n),n=Ut,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?rg:ag),t}function vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===q)return nn(t)}throw Error(s(438,String(t)))}function Hh(t){var n=null,a=Ut.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qh(),Ut.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Ki(t,n){return typeof n=="function"?n(t):n}function Eu(t){var n=De();return Gh(n,ae,t)}function Gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var b=v=null,V=null,Y=n,et=!1;do{var rt=Y.lane&-536870913;if(rt!==Y.lane?(Ft&rt)===rt:(br&rt)===rt){var $=Y.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),rt===os&&(et=!0);else if((br&$)===$){Y=Y.next,$===os&&(et=!0);continue}else rt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(b=V=rt,v=d):V=V.next=rt,Ut.lanes|=$,Dr|=$;rt=Y.action,Aa&&a(d,rt),d=Y.hasEagerState?Y.eagerState:a(d,rt)}else $={lane:rt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(b=V=$,v=d):V=V.next=$,Ut.lanes|=rt,Dr|=rt;Y=Y.next}while(Y!==null&&Y!==n);if(V===null?v=d:V.next=b,!xn(d,t.memoizedState)&&(qe=!0,et&&(a=us,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=V,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fh(t){var n=De(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);xn(d,n.memoizedState)||(qe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Ap(t,n,a){var l=Ut,h=De(),d=Zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!xn((ae||h).memoizedState,a);v&&(h.memoizedState=a,qe=!0),h=h.queue;var b=wp.bind(null,l,h,t);if(Nl(2048,8,b,[t]),h.getSnapshot!==n||v||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,ds(9,Tu(),Rp.bind(null,l,h,a,n),null),he===null)throw Error(s(349));d||(br&124)!==0||xp(l,n,a)}return a}function xp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ut.updateQueue,n===null?(n=qh(),Ut.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rp(t,n,a,l){n.value=a,n.getSnapshot=l,Cp(n)&&Dp(t)}function wp(t,n,a){return a(function(){Cp(n)&&Dp(t)})}function Cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!xn(t,a)}catch{return!0}}function Dp(t){var n=rs(t,2);n!==null&&Vn(n,t,2)}function Qh(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Aa){Rt(!0);try{a()}finally{Rt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function Ip(t,n,a,l){return t.baseState=a,Gh(t,ae,typeof l=="function"?l:Ki)}function YE(t,n,a,l,h){if(Su(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Vp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Vp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=K.T,v={};K.T=v;try{var b=a(h,l),V=K.S;V!==null&&V(v,b),Np(t,n,b)}catch(Y){Yh(t,n,Y)}finally{K.T=d}}else try{d=a(h,l),Np(t,n,d)}catch(Y){Yh(t,n,Y)}}function Np(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Op(t,n,l)},function(l){return Yh(t,n,l)}):Op(t,n,a)}function Op(t,n,a){n.status="fulfilled",n.value=a,Mp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vp(t,a)))}function Yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Mp(n),n=n.next;while(n!==l)}t.action=null}function Mp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jp(t,n){return n}function Up(t,n){if(Zt){var a=he.formState;if(a!==null){t:{var l=Ut;if(Zt){if(Ee){e:{for(var h=Ee,d=gi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ee=Jn(h.nextSibling),l=h.data==="F!";break t}}Ea(l)}l=!1}l&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:n},a.queue=l,a=eg.bind(null,Ut,l),l.dispatch=a,l=Qh(!1),d=Wh.bind(null,Ut,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=YE.bind(null,Ut,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lp(t){var n=De();return kp(n,ae,t)}function kp(t,n,a){if(n=Gh(t,n,jp)[0],t=Eu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vl(n)}catch(v){throw v===xl?mu:v}else l=n;n=De();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Ut.flags|=2048,ds(9,Tu(),KE.bind(null,h,a),null)),[l,d,t]}function KE(t,n){t.action=n}function Pp(t){var n=De(),a=ae;if(a!==null)return kp(n,a,t);De(),n=n.memoizedState,a=De();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ds(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ut.updateQueue,n===null&&(n=qh(),Ut.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Tu(){return{destroy:void 0,resource:void 0}}function Bp(){return De().memoizedState}function bu(t,n,a,l){var h=_n();l=l===void 0?null:l,Ut.flags|=t,h.memoizedState=ds(1|n,Tu(),a,l)}function Nl(t,n,a,l){var h=De();l=l===void 0?null:l;var d=h.memoizedState.inst;ae!==null&&l!==null&&Lh(l,ae.memoizedState.deps)?h.memoizedState=ds(n,d,a,l):(Ut.flags|=t,h.memoizedState=ds(1|n,d,a,l))}function zp(t,n){bu(8390656,8,t,n)}function qp(t,n){Nl(2048,8,t,n)}function Hp(t,n){return Nl(4,2,t,n)}function Gp(t,n){return Nl(4,4,t,n)}function Fp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qp(t,n,a){a=a!=null?a.concat([t]):null,Nl(4,4,Fp.bind(null,n,t),a)}function Kh(){}function Yp(t,n){var a=De();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Kp(t,n){var a=De();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Lh(n,l[1]))return l[0];if(l=t(),Aa){Rt(!0);try{t()}finally{Rt(!1)}}return a.memoizedState=[l,n],l}function $h(t,n,a){return a===void 0||(br&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Zg(),Ut.lanes|=t,Dr|=t,a)}function $p(t,n,a,l){return xn(a,n)?a:cs.current!==null?(t=$h(t,a,l),xn(t,n)||(qe=!0),t):(br&42)===0?(qe=!0,t.memoizedState=a):(t=Zg(),Ut.lanes|=t,Dr|=t,n)}function Xp(t,n,a,l,h){var d=X.p;X.p=d!==0&&8>d?d:8;var v=K.T,b={};K.T=b,Wh(t,!1,n,a);try{var V=h(),Y=K.S;if(Y!==null&&Y(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var et=GE(V,l);Ol(t,n,et,In(t))}else Ol(t,n,l,In(t))}catch(rt){Ol(t,n,{then:function(){},status:"rejected",reason:rt},In())}finally{X.p=d,K.T=v}}function $E(){}function Xh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Zp(t).queue;Xp(t,h,n,ot,a===null?$E:function(){return Wp(t),a(l)})}function Zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wp(t){var n=Zp(t).next.queue;Ol(t,n,{},In())}function Zh(){return nn(Zl)}function Jp(){return De().memoizedState}function tg(){return De().memoizedState}function XE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=In();t=Er(a);var l=Tr(n,t,a);l!==null&&(Vn(l,n,a),wl(l,n,a)),n={cache:wh()},t.payload=n;return}n=n.return}}function ZE(t,n,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Su(t)?ng(n,a):(a=yh(t,n,a,l),a!==null&&(Vn(a,t,l),ig(a,n,l)))}function eg(t,n,a){var l=In();Ol(t,n,a,l)}function Ol(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Su(t))ng(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,xn(b,v))return su(t,n,h,0),he===null&&au(),!1}catch{}finally{}if(a=yh(t,n,h,l),a!==null)return Vn(a,t,l),ig(a,n,l),!0}return!1}function Wh(t,n,a,l){if(l={lane:2,revertLane:Vf(),action:l,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(s(479))}else n=yh(t,a,l,2),n!==null&&Vn(n,t,2)}function Su(t){var n=t.alternate;return t===Ut||n!==null&&n===Ut}function ng(t,n){hs=yu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ig(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,el(t,a)}}var Au={readContext:nn,use:vu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},rg={readContext:nn,use:vu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:zp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,bu(4194308,4,Fp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return bu(4194308,4,t,n)},useInsertionEffect:function(t,n){bu(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var l=t();if(Aa){Rt(!0);try{t()}finally{Rt(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=_n();if(a!==void 0){var h=a(n);if(Aa){Rt(!0);try{a(n)}finally{Rt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ZE.bind(null,Ut,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Qh(t);var n=t.queue,a=eg.bind(null,Ut,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Kh,useDeferredValue:function(t,n){var a=_n();return $h(a,t,n)},useTransition:function(){var t=Qh(!1);return t=Xp.bind(null,Ut,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ut,h=_n();if(Zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),he===null)throw Error(s(349));(Ft&124)!==0||xp(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,zp(wp.bind(null,l,d,t),[t]),l.flags|=2048,ds(9,Tu(),Rp.bind(null,l,d,a,n),null),a},useId:function(){var t=_n(),n=he.identifierPrefix;if(Zt){var a=Fi,l=Gi;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,n=""+n+"R"+a,a=_u++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=FE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Zh,useFormState:Up,useActionState:Up,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wh.bind(null,Ut,!0,a),a.dispatch=n,[t,n]},useMemoCache:Hh,useCacheRefresh:function(){return _n().memoizedState=XE.bind(null,Ut)}},ag={readContext:nn,use:vu,useCallback:Yp,useContext:nn,useEffect:qp,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Eu,useRef:Bp,useState:function(){return Eu(Ki)},useDebugValue:Kh,useDeferredValue:function(t,n){var a=De();return $p(a,ae.memoizedState,t,n)},useTransition:function(){var t=Eu(Ki)[0],n=De().memoizedState;return[typeof t=="boolean"?t:Vl(t),n]},useSyncExternalStore:Ap,useId:Jp,useHostTransitionStatus:Zh,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,n){var a=De();return Ip(a,ae,t,n)},useMemoCache:Hh,useCacheRefresh:tg},WE={readContext:nn,use:vu,useCallback:Yp,useContext:nn,useEffect:qp,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Fh,useRef:Bp,useState:function(){return Fh(Ki)},useDebugValue:Kh,useDeferredValue:function(t,n){var a=De();return ae===null?$h(a,t,n):$p(a,ae.memoizedState,t,n)},useTransition:function(){var t=Fh(Ki)[0],n=De().memoizedState;return[typeof t=="boolean"?t:Vl(t),n]},useSyncExternalStore:Ap,useId:Jp,useHostTransitionStatus:Zh,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,n){var a=De();return ae!==null?Ip(a,ae,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:tg},ms=null,Ml=0;function xu(t){var n=Ml;return Ml+=1,ms===null&&(ms=[]),gp(ms,t,n)}function jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ru(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function sg(t){var n=t._init;return n(t._payload)}function lg(t){function n(z,k){if(t){var Q=z.deletions;Q===null?(z.deletions=[k],z.flags|=16):Q.push(k)}}function a(z,k){if(!t)return null;for(;k!==null;)n(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=Hi(z,k),z.index=0,z.sibling=null,z}function d(z,k,Q){return z.index=Q,t?(Q=z.alternate,Q!==null?(Q=Q.index,Q<k?(z.flags|=67108866,k):Q):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,k,Q,it){return k===null||k.tag!==6?(k=vh(Q,z.mode,it),k.return=z,k):(k=h(k,Q),k.return=z,k)}function V(z,k,Q,it){var Et=Q.type;return Et===I?et(z,k,Q.props.children,it,Q.key):k!==null&&(k.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&sg(Et)===k.type)?(k=h(k,Q.props),jl(k,Q),k.return=z,k):(k=ou(Q.type,Q.key,Q.props,null,z.mode,it),jl(k,Q),k.return=z,k)}function Y(z,k,Q,it){return k===null||k.tag!==4||k.stateNode.containerInfo!==Q.containerInfo||k.stateNode.implementation!==Q.implementation?(k=Eh(Q,z.mode,it),k.return=z,k):(k=h(k,Q.children||[]),k.return=z,k)}function et(z,k,Q,it,Et){return k===null||k.tag!==7?(k=ga(Q,z.mode,it,Et),k.return=z,k):(k=h(k,Q),k.return=z,k)}function rt(z,k,Q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=vh(""+k,z.mode,Q),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return Q=ou(k.type,k.key,k.props,null,z.mode,Q),jl(Q,k),Q.return=z,Q;case D:return k=Eh(k,z.mode,Q),k.return=z,k;case R:var it=k._init;return k=it(k._payload),rt(z,k,Q)}if(Mt(k)||U(k))return k=ga(k,z.mode,Q,null),k.return=z,k;if(typeof k.then=="function")return rt(z,xu(k),Q);if(k.$$typeof===q)return rt(z,fu(z,k),Q);Ru(z,k)}return null}function $(z,k,Q,it){var Et=k!==null?k.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Et!==null?null:b(z,k,""+Q,it);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Et?V(z,k,Q,it):null;case D:return Q.key===Et?Y(z,k,Q,it):null;case R:return Et=Q._init,Q=Et(Q._payload),$(z,k,Q,it)}if(Mt(Q)||U(Q))return Et!==null?null:et(z,k,Q,it,null);if(typeof Q.then=="function")return $(z,k,xu(Q),it);if(Q.$$typeof===q)return $(z,k,fu(z,Q),it);Ru(z,Q)}return null}function Z(z,k,Q,it,Et){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return z=z.get(Q)||null,b(k,z,""+it,Et);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case x:return z=z.get(it.key===null?Q:it.key)||null,V(k,z,it,Et);case D:return z=z.get(it.key===null?Q:it.key)||null,Y(k,z,it,Et);case R:var kt=it._init;return it=kt(it._payload),Z(z,k,Q,it,Et)}if(Mt(it)||U(it))return z=z.get(Q)||null,et(k,z,it,Et,null);if(typeof it.then=="function")return Z(z,k,Q,xu(it),Et);if(it.$$typeof===q)return Z(z,k,Q,fu(k,it),Et);Ru(k,it)}return null}function Ct(z,k,Q,it){for(var Et=null,kt=null,Tt=k,wt=k=0,Ge=null;Tt!==null&&wt<Q.length;wt++){Tt.index>wt?(Ge=Tt,Tt=null):Ge=Tt.sibling;var Kt=$(z,Tt,Q[wt],it);if(Kt===null){Tt===null&&(Tt=Ge);break}t&&Tt&&Kt.alternate===null&&n(z,Tt),k=d(Kt,k,wt),kt===null?Et=Kt:kt.sibling=Kt,kt=Kt,Tt=Ge}if(wt===Q.length)return a(z,Tt),Zt&&_a(z,wt),Et;if(Tt===null){for(;wt<Q.length;wt++)Tt=rt(z,Q[wt],it),Tt!==null&&(k=d(Tt,k,wt),kt===null?Et=Tt:kt.sibling=Tt,kt=Tt);return Zt&&_a(z,wt),Et}for(Tt=l(Tt);wt<Q.length;wt++)Ge=Z(Tt,z,wt,Q[wt],it),Ge!==null&&(t&&Ge.alternate!==null&&Tt.delete(Ge.key===null?wt:Ge.key),k=d(Ge,k,wt),kt===null?Et=Ge:kt.sibling=Ge,kt=Ge);return t&&Tt.forEach(function(kr){return n(z,kr)}),Zt&&_a(z,wt),Et}function xt(z,k,Q,it){if(Q==null)throw Error(s(151));for(var Et=null,kt=null,Tt=k,wt=k=0,Ge=null,Kt=Q.next();Tt!==null&&!Kt.done;wt++,Kt=Q.next()){Tt.index>wt?(Ge=Tt,Tt=null):Ge=Tt.sibling;var kr=$(z,Tt,Kt.value,it);if(kr===null){Tt===null&&(Tt=Ge);break}t&&Tt&&kr.alternate===null&&n(z,Tt),k=d(kr,k,wt),kt===null?Et=kr:kt.sibling=kr,kt=kr,Tt=Ge}if(Kt.done)return a(z,Tt),Zt&&_a(z,wt),Et;if(Tt===null){for(;!Kt.done;wt++,Kt=Q.next())Kt=rt(z,Kt.value,it),Kt!==null&&(k=d(Kt,k,wt),kt===null?Et=Kt:kt.sibling=Kt,kt=Kt);return Zt&&_a(z,wt),Et}for(Tt=l(Tt);!Kt.done;wt++,Kt=Q.next())Kt=Z(Tt,z,wt,Kt.value,it),Kt!==null&&(t&&Kt.alternate!==null&&Tt.delete(Kt.key===null?wt:Kt.key),k=d(Kt,k,wt),kt===null?Et=Kt:kt.sibling=Kt,kt=Kt);return t&&Tt.forEach(function(JT){return n(z,JT)}),Zt&&_a(z,wt),Et}function le(z,k,Q,it){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:t:{for(var Et=Q.key;k!==null;){if(k.key===Et){if(Et=Q.type,Et===I){if(k.tag===7){a(z,k.sibling),it=h(k,Q.props.children),it.return=z,z=it;break t}}else if(k.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&sg(Et)===k.type){a(z,k.sibling),it=h(k,Q.props),jl(it,Q),it.return=z,z=it;break t}a(z,k);break}else n(z,k);k=k.sibling}Q.type===I?(it=ga(Q.props.children,z.mode,it,Q.key),it.return=z,z=it):(it=ou(Q.type,Q.key,Q.props,null,z.mode,it),jl(it,Q),it.return=z,z=it)}return v(z);case D:t:{for(Et=Q.key;k!==null;){if(k.key===Et)if(k.tag===4&&k.stateNode.containerInfo===Q.containerInfo&&k.stateNode.implementation===Q.implementation){a(z,k.sibling),it=h(k,Q.children||[]),it.return=z,z=it;break t}else{a(z,k);break}else n(z,k);k=k.sibling}it=Eh(Q,z.mode,it),it.return=z,z=it}return v(z);case R:return Et=Q._init,Q=Et(Q._payload),le(z,k,Q,it)}if(Mt(Q))return Ct(z,k,Q,it);if(U(Q)){if(Et=U(Q),typeof Et!="function")throw Error(s(150));return Q=Et.call(Q),xt(z,k,Q,it)}if(typeof Q.then=="function")return le(z,k,xu(Q),it);if(Q.$$typeof===q)return le(z,k,fu(z,Q),it);Ru(z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,k!==null&&k.tag===6?(a(z,k.sibling),it=h(k,Q),it.return=z,z=it):(a(z,k),it=vh(Q,z.mode,it),it.return=z,z=it),v(z)):a(z,k)}return function(z,k,Q,it){try{Ml=0;var Et=le(z,k,Q,it);return ms=null,Et}catch(Tt){if(Tt===xl||Tt===mu)throw Tt;var kt=Rn(29,Tt,null,z.mode);return kt.lanes=it,kt.return=z,kt}finally{}}}var ps=lg(!0),og=lg(!1),Hn=tt(null),yi=null;function Sr(t){var n=t.alternate;lt(Ue,Ue.current&1),lt(Hn,t),yi===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(yi=t)}function ug(t){if(t.tag===22){if(lt(Ue,Ue.current),lt(Hn,t),yi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(yi=t)}}else Ar()}function Ar(){lt(Ue,Ue.current),lt(Hn,Hn.current)}function $i(t){nt(Hn),yi===t&&(yi=null),nt(Ue)}var Ue=tt(0);function wu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Jh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=In(),h=Er(l);h.payload=n,a!=null&&(h.callback=a),n=Tr(t,h,l),n!==null&&(Vn(n,t,l),wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=In(),h=Er(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Tr(t,h,l),n!==null&&(Vn(n,t,l),wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=In(),l=Er(a);l.tag=2,n!=null&&(l.callback=n),n=Tr(t,l,a),n!==null&&(Vn(n,t,a),wl(n,t,a))}};function cg(t,n,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!yl(a,l)||!yl(h,d):!0}function hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&tf.enqueueReplaceState(n,n.state,null)}function xa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){Cu(t)}function dg(t){console.error(t)}function mg(t){Cu(t)}function Du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,n,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(t,n)},a}function gg(t){return t=Er(t),t.tag=3,t}function yg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){pg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pg(n,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function JE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&bl(n,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return yi===null?Rf():a.alternate===null&&Te===0&&(Te=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Cf(t,l,h)),!1;case 22:return a.flags|=65536,l===Ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Cf(t,l,h)),!1}throw Error(s(435,a.tag))}return Cf(t,l,h),Rf(),!1}if(Zt)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Sh&&(t=Error(s(422),{cause:l}),Tl(Pn(t,a)))):(l!==Sh&&(n=Error(s(423),{cause:l}),Tl(Pn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=ef(t.stateNode,l,h),Oh(t,h),Te!==4&&(Te=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),ql===null?ql=[d]:ql.push(d),Te!==4&&(Te=2),n===null)return!0;l=Pn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ef(a.stateNode,l,t),Oh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gg(h),yg(h,t,a,l),Oh(a,h),!1}a=a.return}while(a!==null);return!1}var _g=Error(s(461)),qe=!1;function Xe(t,n,a,l){n.child=t===null?og(n,null,a,l):ps(n,t.child,a,l)}function vg(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return ba(n),l=kh(t,n,a,v,d,h),b=Ph(),t!==null&&!qe?(Bh(t,n,h),Xi(t,n,h)):(Zt&&b&&Th(n),n.flags|=1,Xe(t,n,l,h),n.child)}function Eg(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!_h(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Tg(t,n,d,l,h)):(t=ou(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!cf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(v,l)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=Hi(d,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(yl(d,l)&&t.ref===n.ref)if(qe=!1,n.pendingProps=l=d,cf(t,h))(t.flags&131072)!==0&&(qe=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return nf(t,n,a,l,h)}function bg(t,n,a){var l=n.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Sg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(n,d!==null?d.cachePool:null),d!==null?Tp(n,d):jh(),ug(n);else return n.lanes=n.childLanes=536870912,Sg(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(du(n,d.cachePool),Tp(n,d),Ar(),n.memoizedState=null):(t!==null&&du(n,null),jh(),Ar());return Xe(t,n,h,a),n.child}function Sg(t,n,a,l){var h=Dh();return h=h===null?null:{parent:je._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&du(n,null),jh(),ug(n),t!==null&&bl(t,n,l,!0),null}function Iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function nf(t,n,a,l,h){return ba(n),a=kh(t,n,a,l,void 0,h),l=Ph(),t!==null&&!qe?(Bh(t,n,h),Xi(t,n,h)):(Zt&&l&&Th(n),n.flags|=1,Xe(t,n,a,h),n.child)}function Ag(t,n,a,l,h,d){return ba(n),n.updateQueue=null,a=Sp(n,l,a,h),bp(t),l=Ph(),t!==null&&!qe?(Bh(t,n,d),Xi(t,n,d)):(Zt&&l&&Th(n),n.flags|=1,Xe(t,n,a,d),n.child)}function xg(t,n,a,l,h){if(ba(n),n.stateNode===null){var d=as,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Vh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):as,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&tf.enqueueReplaceState(d,d.state,null),Dl(n,l,d,h),Cl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var b=n.memoizedProps,V=xa(a,b);d.props=V;var Y=d.context,et=a.contextType;v=as,typeof et=="object"&&et!==null&&(v=nn(et));var rt=a.getDerivedStateFromProps;et=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,et||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==v)&&hg(n,d,l,v),vr=!1;var $=n.memoizedState;d.state=$,Dl(n,l,d,h),Cl(),Y=n.memoizedState,b||$!==Y||vr?(typeof rt=="function"&&(Jh(n,a,rt,l),Y=n.memoizedState),(V=vr||cg(n,a,V,l,$,Y,v))?(et||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=V):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Nh(t,n),v=n.memoizedProps,et=xa(a,v),d.props=et,rt=n.pendingProps,$=d.context,Y=a.contextType,V=as,typeof Y=="object"&&Y!==null&&(V=nn(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==rt||$!==V)&&hg(n,d,l,V),vr=!1,$=n.memoizedState,d.state=$,Dl(n,l,d,h),Cl();var Z=n.memoizedState;v!==rt||$!==Z||vr||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof b=="function"&&(Jh(n,a,b,l),Z=n.memoizedState),(et=vr||cg(n,a,et,l,$,Z,V)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Z,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Z,V)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Z),d.props=l,d.state=Z,d.context=V,l=et):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Iu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=ps(n,t.child,null,h),n.child=ps(n,null,a,h)):Xe(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Xi(t,n,h),t}function Rg(t,n,a,l){return El(),n.flags|=256,Xe(t,n,a,l),n.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(t){return{baseLanes:t,cachePool:dp()}}function sf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Gn),t}function wg(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ue.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Zt){if(h?Sr(n):Ar(),Zt){var b=Ee,V;if(V=b){t:{for(V=b,b=gi;V.nodeType!==8;){if(!b){b=null;break t}if(V=Jn(V.nextSibling),V===null){b=null;break t}}b=V}b!==null?(n.memoizedState={dehydrated:b,treeContext:ya!==null?{id:Gi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},V=Rn(18,null,null,0),V.stateNode=b,V.return=n,n.child=V,dn=n,Ee=null,V=!0):V=!1}V||Ea(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Hf(b)?n.lanes=32:n.lanes=536870912,null;$i(n)}return b=l.children,l=l.fallback,h?(Ar(),h=n.mode,b=Vu({mode:"hidden",children:b},h),l=ga(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,h=n.child,h.memoizedState=af(a),h.childLanes=sf(t,v,a),n.memoizedState=rf,l):(Sr(n),lf(n,b))}if(V=t.memoizedState,V!==null&&(b=V.dehydrated,b!==null)){if(d)n.flags&256?(Sr(n),n.flags&=-257,n=of(t,n,a)):n.memoizedState!==null?(Ar(),n.child=t.child,n.flags|=128,n=null):(Ar(),h=l.fallback,b=n.mode,l=Vu({mode:"visible",children:l.children},b),h=ga(h,b,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ps(n,t.child,null,a),l=n.child,l.memoizedState=af(a),l.childLanes=sf(t,v,a),n.memoizedState=rf,n=h);else if(Sr(n),Hf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(s(419)),l.stack="",l.digest=v,Tl({value:l,source:null,stack:null}),n=of(t,n,a)}else if(qe||bl(t,n,a,!1),v=(a&t.childLanes)!==0,qe||v){if(v=he,v!==null&&(l=a&-a,l=(l&42)!==0?1:hr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==V.retryLane))throw V.retryLane=l,rs(t,l),Vn(v,t,l),_g;b.data==="$?"||Rf(),n=of(t,n,a)}else b.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=V.treeContext,Ee=Jn(b.nextSibling),dn=n,Zt=!0,va=null,gi=!1,t!==null&&(zn[qn++]=Gi,zn[qn++]=Fi,zn[qn++]=ya,Gi=t.id,Fi=t.overflow,ya=n),n=lf(n,l.children),n.flags|=4096);return n}return h?(Ar(),h=l.fallback,b=n.mode,V=t.child,Y=V.sibling,l=Hi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,Y!==null?h=Hi(Y,h):(h=ga(h,b,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,b=t.child.memoizedState,b===null?b=af(a):(V=b.cachePool,V!==null?(Y=je._currentValue,V=V.parent!==Y?{parent:Y,pool:Y}:V):V=dp(),b={baseLanes:b.baseLanes|a,cachePool:V}),h.memoizedState=b,h.childLanes=sf(t,v,a),n.memoizedState=rf,l):(Sr(n),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function lf(t,n){return n=Vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Vu(t,n){return t=Rn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function of(t,n,a){return ps(n,t.child,null,a),t=lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xh(t.return,n,a)}function uf(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Dg(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Xe(t,n,l.children,a),l=Ue.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cg(t,a,n);else if(t.tag===19)Cg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(lt(Ue,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),uf(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}uf(n,!0,a,null,d);break;case"together":uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Dr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(bl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Hi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function cf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function tT(t,n,a){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),_r(n,je,t.memoizedState.cache),El();break;case 27:case 5:Kn(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wg(t,n,a):(Sr(n),t=Xi(t,n,a),t!==null?t.sibling:null);Sr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(bl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Dg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Ue,Ue.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,a);case 24:_r(n,je,t.memoizedState.cache)}return Xi(t,n,a)}function Ig(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qe=!0;else{if(!cf(t,a)&&(n.flags&128)===0)return qe=!1,tT(t,n,a);qe=(t.flags&131072)!==0}else qe=!1,Zt&&(n.flags&1048576)!==0&&sp(n,cu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")_h(l)?(t=xa(l,t),n.tag=1,n=xg(null,n,l,t,a)):(n.tag=0,n=nf(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ht){n.tag=11,n=vg(null,n,l,t,a);break t}else if(h===M){n.tag=14,n=Eg(null,n,l,t,a);break t}}throw n=St(l)||l,Error(s(306,n,""))}}return n;case 0:return nf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=xa(l,n.pendingProps),xg(t,n,l,h,a);case 3:t:{if(qt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Nh(t,n),Dl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,_r(n,je,l),l!==d.cache&&Rh(n,[je],a,!0),Cl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Rg(t,n,l,a);break t}else if(l!==h){h=Pn(Error(s(424)),n),Tl(h),n=Rg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ee=Jn(t.firstChild),dn=n,Zt=!0,va=null,gi=!0,a=og(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(El(),l===h){n=Xi(t,n,a);break t}Xe(t,n,l,a)}n=n.child}return n;case 26:return Iu(t,n),t===null?(a=My(n.type,null,n.pendingProps,null))?n.memoizedState=a:Zt||(a=n.type,t=n.pendingProps,l=Fu(At.current).createElement(a),l[Ne]=n,l[Re]=t,We(l,a,t),be(l),n.stateNode=l):n.memoizedState=My(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Kn(n),t===null&&Zt&&(l=n.stateNode=Vy(n.type,n.pendingProps,At.current),dn=n,gi=!0,h=Ee,Or(n.type)?(Gf=h,Ee=Jn(l.firstChild)):Ee=h),Xe(t,n,n.pendingProps.children,a),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Zt&&((h=l=Ee)&&(l=CT(l,n.type,n.pendingProps,gi),l!==null?(n.stateNode=l,dn=n,Ee=Jn(l.firstChild),gi=!1,h=!0):h=!1),h||Ea(n)),Kn(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Bf(h,d)?l=null:v!==null&&Bf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(t,n,QE,null,null,a),Zl._currentValue=h),Iu(t,n),Xe(t,n,l,a),n.child;case 6:return t===null&&Zt&&((t=a=Ee)&&(a=DT(a,n.pendingProps,gi),a!==null?(n.stateNode=a,dn=n,Ee=null,t=!0):t=!1),t||Ea(n)),null;case 13:return wg(t,n,a);case 4:return qt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ps(n,null,l,a):Xe(t,n,l,a),n.child;case 11:return vg(t,n,n.type,n.pendingProps,a);case 7:return Xe(t,n,n.pendingProps,a),n.child;case 8:return Xe(t,n,n.pendingProps.children,a),n.child;case 12:return Xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,_r(n,n.type,l.value),Xe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ba(n),h=nn(h),l=l(h),n.flags|=1,Xe(t,n,l,a),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,a);case 15:return Tg(t,n,n.type,n.pendingProps,a);case 19:return Dg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Vu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Hi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bg(t,n,a);case 24:return ba(n),l=nn(je),t===null?(h=Dh(),h===null&&(h=he,d=wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Vh(n),_r(n,je,h)):((t.lanes&a)!==0&&(Nh(t,n),Dl(n,null,null,a),Cl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,je,l)):(l=d.cache,_r(n,je,l),l!==h.cache&&Rh(n,[je],a,!0))),Xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Zi(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Py(n)){if(n=Hn.current,n!==null&&((Ft&4194048)===Ft?yi!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||n!==yi))throw Rl=Ih,mp;t.flags|=8192}}function Nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Js():536870912,t.lanes|=n,vs|=n)}function Ul(t,n){if(!Zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ye(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function eT(t,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(n),null;case 1:return ye(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Yi(je),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(vl(n)?Zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,up())),ye(n),null;case 26:return a=n.memoizedState,t===null?(Zi(n),a!==null?(ye(n),Vg(n,a)):(ye(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Zi(n),ye(n),Vg(n,a)):(ye(n),n.flags&=-16777217):(t.memoizedProps!==l&&Zi(n),ye(n),n.flags&=-16777217),null;case 27:On(n),a=At.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ye(n),null}t=pt.current,vl(n)?lp(n):(t=Vy(h,l,a),n.stateNode=t,Zi(n))}return ye(n),null;case 5:if(On(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ye(n),null}if(t=pt.current,vl(n))lp(n);else{switch(h=Fu(At.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ne]=n,t[Re]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(We(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Zi(n)}}return ye(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,vl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ne]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ay(t.nodeValue,a)),t||Ea(n)}else t=Fu(t).createTextNode(l),t[Ne]=n,n.stateNode=t}return ye(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=vl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=n}else El(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ye(n),h=!1}else h=up(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?($i(n),n):($i(n),null)}if($i(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Nu(n,n.updateQueue),ye(n),null;case 4:return Ye(),t===null&&jf(n.stateNode.containerInfo),ye(n),null;case 10:return Yi(n.type),ye(n),null;case 19:if(nt(Ue),h=n.memoizedState,h===null)return ye(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ul(h,!1);else{if(Te!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=wu(t),d!==null){for(n.flags|=128,Ul(h,!1),t=d.updateQueue,n.updateQueue=t,Nu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ap(a,t),a=a.sibling;return lt(Ue,Ue.current&1|2),n.child}t=t.sibling}h.tail!==null&&yn()>ju&&(n.flags|=128,l=!0,Ul(h,!1),n.lanes=4194304)}else{if(!l)if(t=wu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Nu(n,t),Ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Zt)return ye(n),null}else 2*yn()-h.renderingStartTime>ju&&a!==536870912&&(n.flags|=128,l=!0,Ul(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=yn(),n.sibling=null,t=Ue.current,lt(Ue,l?t&1|2:t&1),n):(ye(n),null);case 22:case 23:return $i(n),Uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ye(n),n.subtreeFlags&6&&(n.flags|=8192)):ye(n),a=n.updateQueue,a!==null&&Nu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(Sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Yi(je),ye(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function nT(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Yi(je),Ye(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return On(n),null;case 13:if($i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));El()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ue),null;case 4:return Ye(),null;case 10:return Yi(n.type),null;case 22:case 23:return $i(n),Uh(),t!==null&&nt(Sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Yi(je),null;case 25:return null;default:return null}}function Ng(t,n){switch(bh(n),n.tag){case 3:Yi(je),Ye();break;case 26:case 27:case 5:On(n);break;case 4:Ye();break;case 13:$i(n);break;case 19:nt(Ue);break;case 10:Yi(n.type);break;case 22:case 23:$i(n),Uh(),t!==null&&nt(Sa);break;case 24:Yi(je)}}function Ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){ue(n,n.return,b)}}function xr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=n;var V=a,Y=b;try{Y()}catch(et){ue(h,V,et)}}}l=l.next}while(l!==d)}}catch(et){ue(n,n.return,et)}}function Og(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(l){ue(t,t.return,l)}}}function Mg(t,n,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ue(t,n,l)}}function kl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ue(t,n,h)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ue(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ue(t,n,h)}else a.current=null}function jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ue(t,t.return,h)}}function hf(t,n,a){try{var l=t.stateNode;ST(l,t.type,a,n),l[Re]=n}catch(h){ue(t,t.return,h)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Or(t.type)||t.tag===4}function ff(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Or(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gu));else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(df(t,n,a),t=t.sibling;t!==null;)df(t,n,a),t=t.sibling}function Ou(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ou(t,n,a),t=t.sibling;t!==null;)Ou(t,n,a),t=t.sibling}function Lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,l,a),n[Ne]=t,n[Re]=a}catch(d){ue(t,t.return,d)}}var Wi=!1,Ae=!1,mf=!1,kg=typeof WeakSet=="function"?WeakSet:Set,He=null;function iT(t,n){if(t=t.containerInfo,kf=Zu,t=$m(t),hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,b=-1,V=-1,Y=0,et=0,rt=t,$=null;e:for(;;){for(var Z;rt!==a||h!==0&&rt.nodeType!==3||(b=v+h),rt!==d||l!==0&&rt.nodeType!==3||(V=v+l),rt.nodeType===3&&(v+=rt.nodeValue.length),(Z=rt.firstChild)!==null;)$=rt,rt=Z;for(;;){if(rt===t)break e;if($===a&&++Y===h&&(b=v),$===d&&++et===l&&(V=v),(Z=rt.nextSibling)!==null)break;rt=$,$=rt.parentNode}rt=Z}a=b===-1||V===-1?null:{start:b,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pf={focusedElem:t,selectionRange:a},Zu=!1,He=n;He!==null;)if(n=He,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,He=t;else for(;He!==null;){switch(n=He,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ct=xa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ct,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(xt){ue(a,a.return,xt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,He=t;break}He=n.return}}function Pg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(t,a),l&4&&Ll(5,a);break;case 1:if(Rr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){ue(a,a.return,v)}else{var h=xa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ue(a,a.return,v)}}l&64&&Og(a),l&512&&kl(a,a.return);break;case 3:if(Rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(v){ue(a,a.return,v)}}break;case 27:n===null&&l&4&&Lg(a);case 26:case 5:Rr(t,a),n===null&&l&4&&jg(a),l&512&&kl(a,a.return);break;case 12:Rr(t,a);break;case 13:Rr(t,a),l&4&&qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fT.bind(null,a),IT(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Ae,h=Wi;var d=Ae;Wi=l,(Ae=n)&&!d?wr(t,a,(a.subtreeFlags&8772)!==0):Rr(t,a),Wi=h,Ae=d}break;case 30:break;default:Rr(t,a)}}function Bg(t){var n=t.alternate;n!==null&&(t.alternate=null,Bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,vn=!1;function Ji(t,n,a){for(a=a.child;a!==null;)zg(t,n,a),a=a.sibling}function zg(t,n,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:Ae||_i(a,n),Ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||_i(a,n);var l=me,h=vn;Or(a.type)&&(me=a.stateNode,vn=!1),Ji(t,n,a),Yl(a.stateNode),me=l,vn=h;break;case 5:Ae||_i(a,n);case 6:if(l=me,h=vn,me=null,Ji(t,n,a),me=l,vn=h,me!==null)if(vn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(d){ue(a,n,d)}else try{me.removeChild(a.stateNode)}catch(d){ue(a,n,d)}break;case 18:me!==null&&(vn?(t=me,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):Dy(me,a.stateNode));break;case 4:l=me,h=vn,me=a.stateNode.containerInfo,vn=!0,Ji(t,n,a),me=l,vn=h;break;case 0:case 11:case 14:case 15:Ae||xr(2,a,n),Ae||xr(4,a,n),Ji(t,n,a);break;case 1:Ae||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Mg(a,n,l)),Ji(t,n,a);break;case 21:Ji(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Ji(t,n,a),Ae=l;break;default:Ji(t,n,a)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){ue(n,n.return,a)}}function rT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function pf(t,n){var a=rT(t);n.forEach(function(l){var h=dT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function wn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=n,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(Or(b.type)){me=b.stateNode,vn=!1;break t}break;case 5:me=b.stateNode,vn=!1;break t;case 3:case 4:me=b.stateNode.containerInfo,vn=!0;break t}b=b.return}if(me===null)throw Error(s(160));zg(d,v,h),me=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var Wn=null;function Hg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Cn(t),l&4&&(xr(3,t,t.return),Ll(3,t),xr(5,t,t.return));break;case 1:wn(n,t),Cn(t),l&512&&(Ae||a===null||_i(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(wn(n,t),Cn(t),l&512&&(Ae||a===null||_i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ta]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),We(d,l,a),d[Ne]=t,be(d),l=d;break t;case"link":var v=Ly("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Ly("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=t,be(d),l=d}t.stateNode=l}else ky(h,t.type,t.stateNode);else t.stateNode=Uy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ky(h,t.type,t.stateNode):Uy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:wn(n,t),Cn(t),l&512&&(Ae||a===null||_i(a,a.return)),a!==null&&l&4&&hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wn(n,t),Cn(t),l&512&&(Ae||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{jn(h,"")}catch(Z){ue(t,t.return,Z)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(mf=!0);break;case 6:if(wn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Z){ue(t,t.return,Z)}}break;case 3:if(Ku=null,h=Wn,Wn=Qu(n.containerInfo),wn(n,t),Wn=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(Z){ue(t,t.return,Z)}mf&&(mf=!1,Gg(t));break;case 4:l=Wn,Wn=Qu(t.stateNode.containerInfo),wn(n,t),Cn(t),Wn=l;break;case 12:wn(n,t),Cn(t);break;case 13:wn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tf=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 22:h=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,Y=Wi,et=Ae;if(Wi=Y||h,Ae=et||V,wn(n,t),Ae=et,Wi=Y,Cn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||V||Wi||Ae||Ra(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){V=a=n;try{if(d=V.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=V.stateNode;var rt=V.memoizedProps.style,$=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Z){ue(V,V.return,Z)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(Z){ue(V,V.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pf(t,a))));break;case 19:wn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 30:break;case 21:break;default:wn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ug(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ff(t);Ou(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(jn(v,""),a.flags&=-33);var b=ff(t);Ou(t,b,v);break;case 3:case 4:var V=a.stateNode.containerInfo,Y=ff(t);df(t,Y,V);break;default:throw Error(s(161))}}catch(et){ue(t,t.return,et)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Rr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pg(t,n.alternate,n),n=n.sibling}function Ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Ra(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mg(n,n.return,a),Ra(n);break;case 27:Yl(n.stateNode);case 26:case 5:_i(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}t=t.sibling}}function wr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,a),Ll(4,d);break;case 1:if(wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){ue(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)vp(V[h],b)}catch(Y){ue(l,l.return,Y)}}a&&v&64&&Og(d),kl(d,d.return);break;case 27:Lg(d);case 26:case 5:wr(h,d,a),a&&l===null&&v&4&&jg(d),kl(d,d.return);break;case 12:wr(h,d,a);break;case 13:wr(h,d,a),a&&v&4&&qg(h,d);break;case 22:d.memoizedState===null&&wr(h,d,a),kl(d,d.return);break;case 30:break;default:wr(h,d,a)}n=n.sibling}}function gf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function vi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fg(t,n,a,l),n=n.sibling}function Fg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,a,l),h&2048&&Ll(9,n);break;case 1:vi(t,n,a,l);break;case 3:vi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){vi(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){ue(n,n.return,V)}}else vi(t,n,a,l);break;case 13:vi(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?vi(t,n,a,l):Pl(t,n):d._visibility&2?vi(t,n,a,l):(d._visibility|=2,gs(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&gf(v,n);break;case 24:vi(t,n,a,l),h&2048&&yf(n.alternate,n);break;default:vi(t,n,a,l)}}function gs(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,v=n,b=a,V=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:gs(d,v,b,V,h),Ll(8,v);break;case 23:break;case 22:var et=v.stateNode;v.memoizedState!==null?et._visibility&2?gs(d,v,b,V,h):Pl(d,v):(et._visibility|=2,gs(d,v,b,V,h)),h&&Y&2048&&gf(v.alternate,v);break;case 24:gs(d,v,b,V,h),h&&Y&2048&&yf(v.alternate,v);break;default:gs(d,v,b,V,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&gf(l.alternate,l);break;case 24:Pl(a,l),h&2048&&yf(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var Bl=8192;function ys(t){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 26:ys(t),t.flags&Bl&&t.memoizedState!==null&&HT(Wn,t.memoizedState,t.memoizedProps);break;case 5:ys(t);break;case 3:case 4:var n=Wn;Wn=Qu(t.stateNode.containerInfo),ys(t),Wn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Bl,Bl=16777216,ys(t),Bl=n):ys(t));break;default:ys(t)}}function Yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];He=l,$g(l,t)}Yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&xr(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):zl(t);break;default:zl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];He=l,$g(l,t)}Yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:xr(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function $g(t,n){for(;He!==null;){var a=He;switch(a.tag){case 0:case 11:case 15:xr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,He=l;else t:for(a=t;He!==null;){l=He;var h=l.sibling,d=l.return;if(Bg(l),l===a){He=null;break t}if(h!==null){h.return=d,He=h;break t}He=d}}}var aT={getCacheForType:function(t){var n=nn(je),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},sT=typeof WeakMap=="function"?WeakMap:Map,ne=0,he=null,Pt=null,Ft=0,ie=0,Dn=null,Cr=!1,_s=!1,_f=!1,tr=0,Te=0,Dr=0,wa=0,vf=0,Gn=0,vs=0,ql=null,En=null,Ef=!1,Tf=0,ju=1/0,Uu=null,Ir=null,Ze=0,Vr=null,Es=null,Ts=0,bf=0,Sf=null,Xg=null,Hl=0,Af=null;function In(){if((ne&2)!==0&&Ft!==0)return Ft&-Ft;if(K.T!==null){var t=os;return t!==0?t:Vf()}return fr()}function Zg(){Gn===0&&(Gn=(Ft&536870912)===0||Zt?Ws():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),Gn}function Vn(t,n,a){(t===he&&(ie===2||ie===9)||t.cancelPendingCommit!==null)&&(bs(t,0),Nr(t,Ft,Gn,!1)),Ni(t,a),((ne&2)===0||t!==he)&&(t===he&&((ne&2)===0&&(wa|=a),Te===4&&Nr(t,Ft,Gn,!1)),Ei(t))}function Wg(t,n,a){if((ne&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||un(t,n),h=l?uT(t,n):wf(t,n,!0),d=l;do{if(h===0){_s&&!l&&Nr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!lT(a)){h=wf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var b=t;h=ql;var V=b.current.memoizedState.isDehydrated;if(V&&(bs(b,v).flags|=256),v=wf(b,v,!1),v!==2){if(_f&&!V){b.errorRecoveryDisabledLanes|=d,wa|=d,h=4;break t}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){bs(t,0),Nr(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Nr(l,n,Gn,!Cr);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Tf+300-yn(),10<h)){if(Nr(l,n,Gn,!Cr),Sn(l,0,!0)!==0)break t;l.timeoutHandle=wy(Jg.bind(null,l,a,En,Uu,Ef,n,Gn,wa,vs,Cr,d,2,-0,0),h);break t}Jg(l,a,En,Uu,Ef,n,Gn,wa,vs,Cr,d,0,-0,0)}}break}while(!0);Ei(t)}function Jg(t,n,a,l,h,d,v,b,V,Y,et,rt,$,Z){if(t.timeoutHandle=-1,rt=n.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:qT},Qg(n),rt=GT(),rt!==null)){t.cancelPendingCommit=rt(sy.bind(null,t,n,d,a,l,h,v,b,V,et,1,$,Z)),Nr(t,d,v,!Y);return}sy(t,n,d,a,l,h,v,b,V)}function lT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(t,n,a,l){n&=~vf,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ai(t,a,n)}function Lu(){return(ne&6)===0?(Gl(0),!1):!0}function xf(){if(Pt!==null){if(ie===0)var t=Pt.return;else t=Pt,Qi=Ta=null,zh(t),ms=null,Ml=0,t=Pt;for(;t!==null;)Ng(t.alternate,t),t=t.return;Pt=null}}function bs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xf(),he=t,Pt=a=Hi(t.current,null),Ft=n,ie=0,Dn=null,Cr=!1,_s=un(t,n),_f=!1,vs=Gn=vf=wa=Dr=Te=0,En=ql=null,Ef=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Wt(l),d=1<<h;n|=t[h],l&=~d}return tr=n,au(),a}function ty(t,n){Ut=null,K.H=Au,n===xl||n===mu?(n=yp(),ie=3):n===mp?(n=yp(),ie=4):ie=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Pt===null&&(Te=1,Du(t,Pn(n,t.current)))}function ey(){var t=K.H;return K.H=Au,t===null?Au:t}function ny(){var t=K.A;return K.A=aT,t}function Rf(){Te=4,Cr||(Ft&4194048)!==Ft&&Hn.current!==null||(_s=!0),(Dr&134217727)===0&&(wa&134217727)===0||he===null||Nr(he,Ft,Gn,!1)}function wf(t,n,a){var l=ne;ne|=2;var h=ey(),d=ny();(he!==t||Ft!==n)&&(Uu=null,bs(t,n)),n=!1;var v=Te;t:do try{if(ie!==0&&Pt!==null){var b=Pt,V=Dn;switch(ie){case 8:xf(),v=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var Y=ie;if(ie=0,Dn=null,Ss(t,b,V,Y),a&&_s){v=0;break t}break;default:Y=ie,ie=0,Dn=null,Ss(t,b,V,Y)}}oT(),v=Te;break}catch(et){ty(t,et)}while(!0);return n&&t.shellSuspendCounter++,Qi=Ta=null,ne=l,K.H=h,K.A=d,Pt===null&&(he=null,Ft=0,au()),v}function oT(){for(;Pt!==null;)iy(Pt)}function uT(t,n){var a=ne;ne|=2;var l=ey(),h=ny();he!==t||Ft!==n?(Uu=null,ju=yn()+500,bs(t,n)):_s=un(t,n);t:do try{if(ie!==0&&Pt!==null){n=Pt;var d=Dn;e:switch(ie){case 1:ie=0,Dn=null,Ss(t,n,d,1);break;case 2:case 9:if(pp(d)){ie=0,Dn=null,ry(n);break}n=function(){ie!==2&&ie!==9||he!==t||(ie=7),Ei(t)},d.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:pp(d)?(ie=0,Dn=null,ry(n)):(ie=0,Dn=null,Ss(t,n,d,7));break;case 5:var v=null;switch(Pt.tag){case 26:v=Pt.memoizedState;case 5:case 27:var b=Pt;if(!v||Py(v)){ie=0,Dn=null;var V=b.sibling;if(V!==null)Pt=V;else{var Y=b.return;Y!==null?(Pt=Y,ku(Y)):Pt=null}break e}}ie=0,Dn=null,Ss(t,n,d,5);break;case 6:ie=0,Dn=null,Ss(t,n,d,6);break;case 8:xf(),Te=6;break t;default:throw Error(s(462))}}cT();break}catch(et){ty(t,et)}while(!0);return Qi=Ta=null,K.H=l,K.A=h,ne=a,Pt!==null?0:(he=null,Ft=0,au(),Te)}function cT(){for(;Pt!==null&&!Wr();)iy(Pt)}function iy(t){var n=Ig(t.alternate,t,tr);t.memoizedProps=t.pendingProps,n===null?ku(t):Pt=n}function ry(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ag(a,n,n.pendingProps,n.type,void 0,Ft);break;case 11:n=Ag(a,n,n.pendingProps,n.type.render,n.ref,Ft);break;case 5:zh(n);default:Ng(a,n),n=Pt=ap(n,tr),n=Ig(a,n,tr)}t.memoizedProps=t.pendingProps,n===null?ku(t):Pt=n}function Ss(t,n,a,l){Qi=Ta=null,zh(n),ms=null,Ml=0;var h=n.return;try{if(JE(t,h,n,a,Ft)){Te=1,Du(t,Pn(a,t.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;Te=1,Du(t,Pn(a,t.current)),Pt=null;return}n.flags&32768?(Zt||l===1?t=!0:_s||(Ft&536870912)!==0?t=!1:(Cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(n,t)):ku(n)}function ku(t){var n=t;do{if((n.flags&32768)!==0){ay(n,Cr);return}t=n.return;var a=eT(n.alternate,n,tr);if(a!==null){Pt=a;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=t}while(n!==null);Te===0&&(Te=5)}function ay(t,n){do{var a=nT(t.alternate,t);if(a!==null){a.flags&=32767,Pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=a}while(t!==null);Te=6,Pt=null}function sy(t,n,a,l,h,d,v,b,V){t.cancelPendingCommit=null;do Pu();while(Ze!==0);if((ne&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=gh,tl(t,a,d,v,b,V),t===he&&(Pt=he=null,Ft=0),Es=n,Vr=t,Ts=a,bf=d,Sf=h,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mT(Di,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=X.p,X.p=2,v=ne,ne|=4;try{iT(t,n,a)}finally{ne=v,X.p=h,K.T=l}}Ze=1,ly(),oy(),uy()}}function ly(){if(Ze===1){Ze=0;var t=Vr,n=Es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=X.p;X.p=2;var h=ne;ne|=4;try{Hg(n,t);var d=Pf,v=$m(t.containerInfo),b=d.focusedElem,V=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Km(b.ownerDocument.documentElement,b)){if(V!==null&&hh(b)){var Y=V.start,et=V.end;if(et===void 0&&(et=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(et,b.value.length);else{var rt=b.ownerDocument||document,$=rt&&rt.defaultView||window;if($.getSelection){var Z=$.getSelection(),Ct=b.textContent.length,xt=Math.min(V.start,Ct),le=V.end===void 0?xt:Math.min(V.end,Ct);!Z.extend&&xt>le&&(v=le,le=xt,xt=v);var z=Ym(b,xt),k=Ym(b,le);if(z&&k&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==k.node||Z.focusOffset!==k.offset)){var Q=rt.createRange();Q.setStart(z.node,z.offset),Z.removeAllRanges(),xt>le?(Z.addRange(Q),Z.extend(k.node,k.offset)):(Q.setEnd(k.node,k.offset),Z.addRange(Q))}}}}for(rt=[],Z=b;Z=Z.parentNode;)Z.nodeType===1&&rt.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<rt.length;b++){var it=rt[b];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Zu=!!kf,Pf=kf=null}finally{ne=h,X.p=l,K.T=a}}t.current=n,Ze=2}}function oy(){if(Ze===2){Ze=0;var t=Vr,n=Es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=X.p;X.p=2;var h=ne;ne|=4;try{Pg(t,n.alternate,n)}finally{ne=h,X.p=l,K.T=a}}Ze=3}}function uy(){if(Ze===4||Ze===3){Ze=0,Pa();var t=Vr,n=Es,a=Ts,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Es=Vr=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ir=null),Ba(a),n=n.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ct,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=X.p,X.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{K.T=n,X.p=h}}(Ts&3)!==0&&Pu(),Ei(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Af?Hl++:(Hl=0,Af=t):Hl=0,Gl(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function Pu(t){return ly(),oy(),uy(),hy()}function hy(){if(Ze!==5)return!1;var t=Vr,n=bf;bf=0;var a=Ba(Ts),l=K.T,h=X.p;try{X.p=32>a?32:a,K.T=null,a=Sf,Sf=null;var d=Vr,v=Ts;if(Ze=0,Es=Vr=null,Ts=0,(ne&6)!==0)throw Error(s(331));var b=ne;if(ne|=4,Kg(d.current),Fg(d,d.current,v,a),ne=b,Gl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{X.p=h,K.T=l,cy(t,n)}}function fy(t,n,a){n=Pn(a,n),n=ef(t.stateNode,n,2),t=Tr(t,n,2),t!==null&&(Ni(t,2),Ei(t))}function ue(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){t=Pn(a,t),a=gg(2),l=Tr(n,a,2),l!==null&&(yg(a,l,n,t),Ni(l,2),Ei(l));break}}n=n.return}}function Cf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new sT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(_f=!0,h.add(a),t=hT.bind(null,t,n,a),n.then(t,t))}function hT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,he===t&&(Ft&a)===a&&(Te===4||Te===3&&(Ft&62914560)===Ft&&300>yn()-Tf?(ne&2)===0&&bs(t,0):vf|=a,vs===Ft&&(vs=0)),Ei(t)}function dy(t,n){n===0&&(n=Js()),t=rs(t,n),t!==null&&(Ni(t,n),Ei(t))}function fT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function dT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),dy(t,a)}function mT(t,n){return wi(t,n)}var Bu=null,As=null,Df=!1,zu=!1,If=!1,Ca=0;function Ei(t){t!==As&&t.next===null&&(As===null?Bu=As=t:As=As.next=t),zu=!0,Df||(Df=!0,gT())}function Gl(t,n){if(!If&&zu){If=!0;do for(var a=!1,l=Bu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yy(l,d))}else d=Ft,d=Sn(l,l===he?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||un(l,d)||(a=!0,yy(l,d));l=l.next}while(a);If=!1}}function pT(){my()}function my(){zu=Df=!1;var t=0;Ca!==0&&(AT()&&(t=Ca),Ca=0);for(var n=yn(),a=null,l=Bu;l!==null;){var h=l.next,d=py(l,n);d===0?(l.next=null,a===null?Bu=h:a.next=h,h===null&&(As=a)):(a=l,(t!==0||(d&3)!==0)&&(zu=!0)),l=h}Gl(t)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),b=1<<v,V=h[v];V===-1?((b&a)===0||(b&l)!==0)&&(h[v]=ri(b,n)):V<=n&&(t.expiredLanes|=b),d&=~b}if(n=he,a=Ft,a=Sn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ie===2||ie===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ci(l),Ba(a)){case 2:case 8:a=cr;break;case 32:a=Di;break;case 268435456:a=Ii;break;default:a=Di}return l=gy.bind(null,t),a=wi(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ci(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=Ft;return l=Sn(t,t===he?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wg(t,l,n),py(t,yn()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(Pu())return null;Wg(t,n,!0)}function gT(){RT(function(){(ne&6)!==0?wi(Jr,pT):my()})}function Vf(){return Ca===0&&(Ca=Ws()),Ca}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qa(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function yT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=_y((h[Re]||null).action),v=l.submitter;v&&(n=(n=v[Re]||null)?_y(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var b=new Ya("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var V=v?vy(h,v):new FormData(h);Xh(a,{pending:!0,data:V,method:h.method,action:d},null,V)}}else typeof d=="function"&&(b.preventDefault(),V=v?vy(h,v):new FormData(h),Xh(a,{pending:!0,data:V,method:h.method,action:d},d,V))},currentTarget:h}]})}}for(var Nf=0;Nf<ph.length;Nf++){var Of=ph[Nf],_T=Of.toLowerCase(),vT=Of[0].toUpperCase()+Of.slice(1);Zn(_T,"on"+vT)}Zn(Wm,"onAnimationEnd"),Zn(Jm,"onAnimationIteration"),Zn(tp,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(UE,"onTransitionRun"),Zn(LE,"onTransitionStart"),Zn(kE,"onTransitionCancel"),Zn(ep,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var b=l[v],V=b.instance,Y=b.currentTarget;if(b=b.listener,V!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=Y;try{d(h)}catch(et){Cu(et)}h.currentTarget=null,d=V}else for(v=0;v<l.length;v++){if(b=l[v],V=b.instance,Y=b.currentTarget,b=b.listener,V!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=Y;try{d(h)}catch(et){Cu(et)}h.currentTarget=null,d=V}}}}function Bt(t,n){var a=n[nl];a===void 0&&(a=n[nl]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Mf(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function jf(t){if(!t[qu]){t[qu]=!0,il.forEach(function(a){a!=="selectionchange"&&(ET.has(a)||Mf(a,!1,t),Mf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qu]||(n[qu]=!0,Mf("selectionchange",!1,n))}}function Ty(t,n,a,l){switch(Fy(n)){case 2:var h=YT;break;case 8:h=KT;break;default:h=$f}a=h.bind(null,n,a,t),h=void 0,!Ln||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Uf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Oi(b),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){l=d=v;continue t}b=b.parentNode}}l=l.return}Go(function(){var Y=d,et=Un(a),rt=[];t:{var $=np.get(t);if($!==void 0){var Z=Ya,Ct=t;switch(t){case"keypress":if(hi(a)===0)break t;case"keydown":case"keyup":Z=Ja;break;case"focusin":Ct="focus",Z=Xa;break;case"focusout":Ct="blur",Z=Xa;break;case"beforeblur":case"afterblur":Z=Xa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Wo;break;case Wm:case Jm:case tp:Z=Za;break;case ep:Z=tu;break;case"scroll":case"scrollend":Z=Fo;break;case"wheel":Z=ts;break;case"copy":case"cut":case"paste":Z=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=pl;break;case"toggle":case"beforetoggle":Z=nu}var xt=(n&4)!==0,le=!xt&&(t==="scroll"||t==="scrollend"),z=xt?$!==null?$+"Capture":null:$;xt=[];for(var k=Y,Q;k!==null;){var it=k;if(Q=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Q===null||z===null||(it=la(k,z),it!=null&&xt.push(Ql(k,it,Q))),le)break;k=k.return}0<xt.length&&($=new Z($,Ct,null,a,et),rt.push({event:$,listeners:xt}))}}if((n&7)===0){t:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&a!==Li&&(Ct=a.relatedTarget||a.fromElement)&&(Oi(Ct)||Ct[Mn]))break t;if((Z||$)&&($=et.window===et?et:($=et.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(Ct=a.relatedTarget||a.toElement,Z=Y,Ct=Ct?Oi(Ct):null,Ct!==null&&(le=c(Ct),xt=Ct.tag,Ct!==le||xt!==5&&xt!==27&&xt!==6)&&(Ct=null)):(Z=null,Ct=Y),Z!==Ct)){if(xt=kn,it="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(xt=pl,it="onPointerLeave",z="onPointerEnter",k="pointer"),le=Z==null?$:li(Z),Q=Ct==null?$:li(Ct),$=new xt(it,k+"leave",Z,a,et),$.target=le,$.relatedTarget=Q,it=null,Oi(et)===Y&&(xt=new xt(z,k+"enter",Ct,a,et),xt.target=Q,xt.relatedTarget=le,it=xt),le=it,Z&&Ct)e:{for(xt=Z,z=Ct,k=0,Q=xt;Q;Q=xs(Q))k++;for(Q=0,it=z;it;it=xs(it))Q++;for(;0<k-Q;)xt=xs(xt),k--;for(;0<Q-k;)z=xs(z),Q--;for(;k--;){if(xt===z||z!==null&&xt===z.alternate)break e;xt=xs(xt),z=xs(z)}xt=null}else xt=null;Z!==null&&by(rt,$,Z,xt,!1),Ct!==null&&le!==null&&by(rt,le,Ct,xt,!0)}}t:{if($=Y?li(Y):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var Et=zm;else if(Me($))if(qm)Et=OE;else{Et=VE;var kt=IE}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&ol(Y.elementType)&&(Et=zm):Et=NE;if(Et&&(Et=Et(t,Y))){qi(rt,Et,a,et);break t}kt&&kt(t,$,Y),t==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&gr($,"number",$.value)}switch(kt=Y?li(Y):window,t){case"focusin":(Me(kt)||kt.contentEditable==="true")&&(es=kt,fh=Y,_l=null);break;case"focusout":_l=fh=es=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Xm(rt,a,et);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":Xm(rt,a,et)}var Tt;if(mi)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Ht?W(t,a)&&(wt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(_&&a.locale!=="ko"&&(Ht||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Ht&&(Tt=cl()):(ci=et,yr="value"in ci?ci.value:ci.textContent,Ht=!0)),kt=Hu(Y,wt),0<kt.length&&(wt=new dl(wt,t,null,a,et),rt.push({event:wt,listeners:kt}),Tt?wt.data=Tt:(Tt=mt(a),Tt!==null&&(wt.data=Tt)))),(Tt=p?Oe(t,a):Gt(t,a))&&(wt=Hu(Y,"onBeforeInput"),0<wt.length&&(kt=new dl("onBeforeInput","beforeinput",null,a,et),rt.push({event:kt,listeners:wt}),kt.data=Tt)),yT(rt,t,Y,a,et)}Ey(rt,n)})}function Ql(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Hu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=la(t,a),h!=null&&l.unshift(Ql(t,h,d)),h=la(t,n),h!=null&&l.push(Ql(t,h,d))),t.tag===3)return l;t=t.return}return[]}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var b=a,V=b.alternate,Y=b.stateNode;if(b=b.tag,V!==null&&V===l)break;b!==5&&b!==26&&b!==27||Y===null||(V=Y,h?(Y=la(a,d),Y!=null&&v.unshift(Ql(a,Y,V))):h||(Y=la(a,d),Y!=null&&v.push(Ql(a,Y,V)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var TT=/\r\n?/g,bT=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(TT,`
`).replace(bT,"")}function Ay(t,n){return n=Sy(n),Sy(t)===n}function Gu(){}function se(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||jn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&jn(t,""+l);break;case"className":oi(t,"class",l);break;case"tabIndex":oi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(t,a,l);break;case"style":ll(t,l,d);break;case"data":if(n!=="object"){oi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&se(t,n,"name",h.name,h,null),se(t,n,"formEncType",h.formEncType,h,null),se(t,n,"formMethod",h.formMethod,h,null),se(t,n,"formTarget",h.formTarget,h,null)):(se(t,n,"encType",h.encType,h,null),se(t,n,"method",h.method,h,null),se(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gu);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":Ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ah.get(a)||a,pr(t,a,l))}}function Lf(t,n,a,l,h,d){switch(a){case"style":ll(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?jn(t,l):(typeof l=="number"||typeof l=="bigint")&&jn(t,""+l);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Re]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function We(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:se(t,n,d,v,a,null)}}h&&se(t,n,"srcSet",a.srcSet,a,null),l&&se(t,n,"src",a.src,a,null);return;case"input":Bt("invalid",t);var b=d=v=h=null,V=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var et=a[l];if(et!=null)switch(l){case"name":h=et;break;case"type":v=et;break;case"checked":V=et;break;case"defaultChecked":Y=et;break;case"value":d=et;break;case"defaultValue":b=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,n));break;default:se(t,n,l,et,a,null)}}ra(t,d,b,V,Y,v,h,!1),Fa(t);return;case"select":Bt("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:se(t,n,h,b,a,null)}n=d,a=v,t.multiple=!!l,n!=null?Ui(t,!!l,n,!1):a!=null&&Ui(t,!!l,a,!0);return;case"textarea":Bt("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:se(t,n,v,b,a,null)}aa(t,l,h,d),Fa(t);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(t,n,V,l,a,null)}return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Bt(Fl[l],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:se(t,n,Y,l,a,null)}return;default:if(ol(n)){for(et in a)a.hasOwnProperty(et)&&(l=a[et],l!==void 0&&Lf(t,n,et,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&se(t,n,b,l,a,null))}function ST(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,V=null,Y=null,et=null;for(Z in a){var rt=a[Z];if(a.hasOwnProperty(Z)&&rt!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=rt;default:l.hasOwnProperty(Z)||se(t,n,Z,null,l,rt)}}for(var $ in l){var Z=l[$];if(rt=a[$],l.hasOwnProperty($)&&(Z!=null||rt!=null))switch($){case"type":d=Z;break;case"name":h=Z;break;case"checked":Y=Z;break;case"defaultChecked":et=Z;break;case"value":v=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Z!==rt&&se(t,n,$,Z,l,rt)}}An(t,v,b,V,Y,et,d,h);return;case"select":Z=v=b=$=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":Z=V;default:l.hasOwnProperty(d)||se(t,n,d,null,l,V)}for(h in l)if(d=l[h],V=a[h],l.hasOwnProperty(h)&&(d!=null||V!=null))switch(h){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==V&&se(t,n,h,d,l,V)}n=b,a=v,l=Z,$!=null?Ui(t,!!a,$,!1):!!l!=!!a&&(n!=null?Ui(t,!!a,n,!0):Ui(t,!!a,a?[]:"",!1));return;case"textarea":Z=$=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:se(t,n,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":$=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&se(t,n,v,h,l,d)}re(t,$,Z);return;case"option":for(var Ct in a)if($=a[Ct],a.hasOwnProperty(Ct)&&$!=null&&!l.hasOwnProperty(Ct))switch(Ct){case"selected":t.selected=!1;break;default:se(t,n,Ct,null,l,$)}for(V in l)if($=l[V],Z=a[V],l.hasOwnProperty(V)&&$!==Z&&($!=null||Z!=null))switch(V){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:se(t,n,V,$,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in a)$=a[xt],a.hasOwnProperty(xt)&&$!=null&&!l.hasOwnProperty(xt)&&se(t,n,xt,null,l,$);for(Y in l)if($=l[Y],Z=a[Y],l.hasOwnProperty(Y)&&$!==Z&&($!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:se(t,n,Y,$,l,Z)}return;default:if(ol(n)){for(var le in a)$=a[le],a.hasOwnProperty(le)&&$!==void 0&&!l.hasOwnProperty(le)&&Lf(t,n,le,void 0,l,$);for(et in l)$=l[et],Z=a[et],!l.hasOwnProperty(et)||$===Z||$===void 0&&Z===void 0||Lf(t,n,et,$,l,Z);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&se(t,n,z,null,l,$);for(rt in l)$=l[rt],Z=a[rt],!l.hasOwnProperty(rt)||$===Z||$==null&&Z==null||se(t,n,rt,$,l,Z)}var kf=null,Pf=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function AT(){var t=window.event;return t&&t.type==="popstate"?t===zf?!1:(zf=t,!0):(zf=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(wT)}:wy;function wT(t){setTimeout(function(){throw t})}function Or(t){return t==="head"}function Dy(t,n){var a=n,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Yl(v.documentElement),a&2&&Yl(v.body),a&4)for(a=v.head,Yl(a),v=a.firstChild;v;){var b=v.nextSibling,V=v.nodeName;v[ta]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),eo(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);eo(n)}function qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qf(a),mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function CT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ta])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function DT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function IT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Gf=null;function Iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Vy(t,n,a){switch(n=Fu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);mr(t)}var Fn=new Map,Ny=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=X.d;X.d={f:VT,r:NT,D:OT,C:MT,L:jT,m:UT,X:kT,S:LT,M:PT};function VT(){var t=er.f(),n=Lu();return t||n}function NT(t){var n=si(t);n!==null&&n.tag===5&&n.type==="form"?Wp(n):er.r(t)}var Rs=typeof document>"u"?null:document;function Oy(t,n,a){var l=Rs;if(l&&typeof n=="string"&&n){var h=we(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ny.has(h)||(Ny.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),We(n,"link",t),be(n),l.head.appendChild(n)))}}function OT(t){er.D(t),Oy("dns-prefetch",t,null)}function MT(t,n){er.C(t,n),Oy("preconnect",t,n)}function jT(t,n,a){er.L(t,n,a);var l=Rs;if(l&&t&&n){var h='link[rel="preload"][as="'+we(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+we(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+we(a.imageSizes)+'"]')):h+='[href="'+we(t)+'"]';var d=h;switch(n){case"style":d=ws(t);break;case"script":d=Cs(t)}Fn.has(d)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Fn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Kl(d))||n==="script"&&l.querySelector($l(d))||(n=l.createElement("link"),We(n,"link",t),be(n),l.head.appendChild(n)))}}function UT(t,n){er.m(t,n);var a=Rs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Cs(t)}if(!Fn.has(d)&&(t=T({rel:"modulepreload",href:t},n),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),We(l,"link",t),be(l),a.head.appendChild(l)}}}function LT(t,n,a){er.S(t,n,a);var l=Rs;if(l&&t){var h=cn(l).hoistableStyles,d=ws(t);n=n||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Kl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Fn.get(d))&&Ff(t,a);var V=v=l.createElement("link");be(V),We(V,"link",t),V._p=new Promise(function(Y,et){V.onload=Y,V.onerror=et}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function kT(t,n){er.X(t,n);var a=Rs;if(a&&t){var l=cn(a).hoistableScripts,h=Cs(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=T({src:t,async:!0},n),(n=Fn.get(h))&&Qf(t,n),d=a.createElement("script"),be(d),We(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PT(t,n){er.M(t,n);var a=Rs;if(a&&t){var l=cn(a).hoistableScripts,h=Cs(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Fn.get(h))&&Qf(t,n),d=a.createElement("script"),be(d),We(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function My(t,n,a,l){var h=(h=At.current)?Qu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ws(a.href),a=cn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ws(a.href);var d=cn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Kl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||BT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cs(a),a=cn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ws(t){return'href="'+we(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function BT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),We(n,"link",a),be(n),t.head.appendChild(n))}function Cs(t){return'[src="'+we(t)+'"]'}function $l(t){return"script[async]"+t}function Uy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+we(a.href)+'"]');if(l)return n.instance=l,be(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),be(l),We(l,"style",h),Yu(l,a.precedence,t),n.instance=l;case"stylesheet":h=ws(a.href);var d=t.querySelector(Kl(h));if(d)return n.state.loading|=4,n.instance=d,be(d),d;l=jy(a),(h=Fn.get(h))&&Ff(l,h),d=(t.ownerDocument||t).createElement("link"),be(d);var v=d;return v._p=new Promise(function(b,V){v.onload=b,v.onerror=V}),We(d,"link",l),n.state.loading|=4,Yu(d,a.precedence,t),n.instance=d;case"script":return d=Cs(a.src),(h=t.querySelector($l(d)))?(n.instance=h,be(h),h):(l=a,(h=Fn.get(d))&&(l=T({},a),Qf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),be(h),We(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Yu(l,a.precedence,t));return n.instance}function Yu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===n)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ku=null;function Ly(t,n,a){if(Ku===null){var l=new Map,h=Ku=new Map;h.set(a,l)}else h=Ku,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ta]||d[Ne]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function ky(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function zT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Xl=null;function qT(){}function HT(t,n,a){if(Xl===null)throw Error(s(475));var l=Xl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ws(a.href),d=t.querySelector(Kl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$u.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,be(d);return}d=t.ownerDocument||t,a=jy(a),(h=Fn.get(h))&&Ff(a,h),d=d.createElement("link"),be(d);var v=d;v._p=new Promise(function(b,V){v.onload=b,v.onerror=V}),We(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=$u.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function GT(){if(Xl===null)throw Error(s(475));var t=Xl;return t.stylesheets&&t.count===0&&Yf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Yf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(FT,t),Xu=null,$u.call(t))}function FT(t,n){if(!(n.state.loading&4)){var a=Xu.get(t);if(a)var l=a.get(null);else{a=new Map,Xu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=$u.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Zl={$$typeof:q,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function QT(t,n,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function By(t,n,a,l,h,d,v,b,V,Y,et,rt){return t=new QT(t,n,a,v,b,V,Y,rt),n=1,d===!0&&(n|=24),d=Rn(3,null,null,n),t.current=d,d.stateNode=t,n=wh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Vh(d),t}function zy(t){return t?(t=as,t):as}function qy(t,n,a,l,h,d){h=zy(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(t,l,n),a!==null&&(Vn(a,t,n),wl(a,t,n))}function Hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Kf(t,n){Hy(t,n),(t=t.alternate)&&Hy(t,n)}function Gy(t){if(t.tag===13){var n=rs(t,67108864);n!==null&&Vn(n,t,67108864),Kf(t,67108864)}}var Zu=!0;function YT(t,n,a,l){var h=K.T;K.T=null;var d=X.p;try{X.p=2,$f(t,n,a,l)}finally{X.p=d,K.T=h}}function KT(t,n,a,l){var h=K.T;K.T=null;var d=X.p;try{X.p=8,$f(t,n,a,l)}finally{X.p=d,K.T=h}}function $f(t,n,a,l){if(Zu){var h=Xf(l);if(h===null)Uf(t,n,l,Wu,a),Qy(t,l);else if(XT(h,t,n,a,l))l.stopPropagation();else if(Qy(t,l),n&4&&-1<$T.indexOf(t)){for(;h!==null;){var d=si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pe(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var V=1<<31-Wt(v);b.entanglements[1]|=V,v&=~V}Ei(d),(ne&6)===0&&(ju=yn()+500,Gl(0))}}break;case 13:b=rs(d,2),b!==null&&Vn(b,d,2),Lu(),Kf(d,2)}if(d=Xf(l),d===null&&Uf(t,n,l,Wu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Uf(t,n,l,null,a)}}function Xf(t){return t=Un(t),Zf(t)}var Wu=null;function Zf(t){if(Wu=null,t=Oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wu=t,null}function Fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case Jr:return 2;case cr:return 8;case Di:case Zs:return 32;case Ii:return 268435456;default:return 32}default:return 32}}var Wf=!1,Mr=null,jr=null,Ur=null,Wl=new Map,Jl=new Map,Lr=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,n){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function to(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=si(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function XT(t,n,a,l,h){switch(n){case"focusin":return Mr=to(Mr,t,n,a,l,h),!0;case"dragenter":return jr=to(jr,t,n,a,l,h),!0;case"mouseover":return Ur=to(Ur,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Wl.set(d,to(Wl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Jl.set(d,to(Jl.get(d)||null,t,n,a,l,h)),!0}return!1}function Yy(t){var n=Oi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,Lo(t.priority,function(){if(a.tag===13){var l=In();l=hr(l);var h=rs(a,l);h!==null&&Vn(h,a,l),Kf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Xf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Li=l,a.target.dispatchEvent(l),Li=null}else return n=si(a),n!==null&&Gy(n),t.blockedOn=a,!1;n.shift()}return!0}function Ky(t,n,a){Ju(t)&&a.delete(n)}function ZT(){Wf=!1,Mr!==null&&Ju(Mr)&&(Mr=null),jr!==null&&Ju(jr)&&(jr=null),Ur!==null&&Ju(Ur)&&(Ur=null),Wl.forEach(Ky),Jl.forEach(Ky)}function tc(t,n){t.blockedOn===n&&(t.blockedOn=null,Wf||(Wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZT)))}var ec=null;function $y(t){ec!==t&&(ec=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ec===t&&(ec=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Zf(l||a)===null)continue;break}var d=si(a);d!==null&&(t.splice(n,3),n-=3,Xh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function n(V){return tc(V,t)}Mr!==null&&tc(Mr,t),jr!==null&&tc(jr,t),Ur!==null&&tc(Ur,t),Wl.forEach(n),Jl.forEach(n);for(var a=0;a<Lr.length;a++){var l=Lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)Yy(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Re]||null;if(typeof d=="function")v||$y(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Re]||null)b=v.formAction;else if(Zf(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$y(a)}}}function Jf(t){this._internalRoot=t}nc.prototype.render=Jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=In();qy(a,l,t,n,null,null)},nc.prototype.unmount=Jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qy(t.current,2,null,t,null,null),Lu(),n[Mn]=null}};function nc(t){this._internalRoot=t}nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Lr.length&&n!==0&&n<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&Yy(t)}};var Xy=e.version;if(Xy!=="19.1.0")throw Error(s(527,Xy,"19.1.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var WT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ct=ic.inject(WT),dt=ic}catch{}}return io.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=fg,d=dg,v=mg,b=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=By(t,1,!1,null,null,a,l,h,d,v,b,null),t[Mn]=n.current,jf(t),new Jf(n)},io.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=fg,v=dg,b=mg,V=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),n=By(t,1,!0,n,a??null,l,h,d,v,b,V,Y),n.context=zy(null),a=n.current,l=In(),l=hr(l),h=Er(l),h.callback=null,Tr(a,h,l),a=l,n.current.lanes=a,Ni(n,a),Ei(n),t[Mn]=n.current,jf(t),new nc(n)},io.version="19.1.0",io}var s_;function cb(){if(s_)return nd.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nd.exports=ub(),nd.exports}var hb=cb(),ro={},l_;function fb(){if(l_)return ro;l_=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.parse=f,ro.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,D){const I=new c,F=x.length;if(F<2)return I;const N=(D==null?void 0:D.decode)||T;let P=0;do{const H=x.indexOf("=",P);if(H===-1)break;const q=x.indexOf(";",P),ht=q===-1?F:q;if(H>ht){P=x.lastIndexOf(";",H-1)+1;continue}const ut=m(x,P,H),yt=y(x,H,ut),M=x.slice(ut,yt);if(I[M]===void 0){let R=m(x,H+1,ht),w=y(x,ht,R);const j=N(x.slice(R,w));I[M]=j}P=ht+1}while(P<F);return I}function m(x,D,I){do{const F=x.charCodeAt(D);if(F!==32&&F!==9)return D}while(++D<I);return I}function y(x,D,I){for(;D>I;){const F=x.charCodeAt(--D);if(F!==32&&F!==9)return D+1}return I}function g(x,D,I){const F=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=F(D);if(!e.test(N))throw new TypeError(`argument val is invalid: ${D}`);let P=x+"="+N;if(!I)return P;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);P+="; Max-Age="+I.maxAge}if(I.domain){if(!i.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);P+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);P+="; Path="+I.path}if(I.expires){if(!S(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);P+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(P+="; HttpOnly"),I.secure&&(P+="; Secure"),I.partitioned&&(P+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return P}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return ro}fb();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function db(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:y=""}=ja(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),yd("",{pathname:f,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");m=g===-1?y:y.slice(0,g)}return m+"#"+(typeof c=="string"?c:po(c))}function s(o,c){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return pb(e,i,s,r)}function pe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mb(){return Math.random().toString(36).substring(2,10)}function u_(r,e){return{usr:r.state,key:r.key,idx:e}}function yd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:i,key:e&&e.key||s||mb()}}function po({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function ja(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function pb(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",y=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let N=T(),P=N==null?null:N-g;g=N,y&&y({action:m,location:F.location,delta:P})}function x(N,P){m="PUSH";let H=yd(F.location,N,P);i&&i(H,N),g=T()+1;let q=u_(H,g),ht=F.createHref(H);try{f.pushState(q,"",ht)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(ht)}c&&y&&y({action:m,location:F.location,delta:1})}function D(N,P){m="REPLACE";let H=yd(F.location,N,P);i&&i(H,N),g=T();let q=u_(H,g),ht=F.createHref(H);f.replaceState(q,"",ht),c&&y&&y({action:m,location:F.location,delta:0})}function I(N){let P=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof N=="string"?N:po(N);return H=H.replace(/ $/,"%20"),pe(P,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,P)}let F={get action(){return m},get location(){return r(o,f)},listen(N){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,S),y=N,()=>{o.removeEventListener(o_,S),y=null}},createHref(N){return e(o,N)},createURL:I,encodeLocation(N){let P=I(N);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:D,go(N){return f.go(N)}};return F}function xv(r,e,i="/"){return gb(r,e,i,!1)}function gb(r,e,i,s){let o=typeof e=="string"?ja(e):e,c=ar(o.pathname||"/",i);if(c==null)return null;let f=Rv(r);yb(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=Cb(c);m=Rb(f[y],g,s)}return m}function Rv(r,e=[],i=[],s=""){let o=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(pe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=ir([s,y.relativePath]),T=i.concat(y);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Rv(c.children,e,T,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:Ab(g,c.index),routesMeta:T})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let y of wv(c.path))o(c,f,y)}),e}function wv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=wv(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function yb(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:xb(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var _b=/^:[\w-]+$/,vb=3,Eb=2,Tb=1,bb=10,Sb=-2,c_=r=>r==="*";function Ab(r,e){let i=r.split("/"),s=i.length;return i.some(c_)&&(s+=Sb),e&&(s+=Eb),i.filter(o=>!c_(o)).reduce((o,c)=>o+(_b.test(c)?vb:c===""?Tb:bb),s)}function xb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Rb(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",S=vc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},T),x=y.route;if(!S&&g&&i&&!s[s.length-1].route.index&&(S=vc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ir([c,S.pathname]),pathnameBase:Nb(ir([c,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(c=ir([c,S.pathnameBase]))}return f}function vc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=wb(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:S},x)=>{if(T==="*"){let I=m[x]||"";f=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const D=m[x];return S&&!D?g[T]=void 0:g[T]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:r}}function wb(r,e=!1,i=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Cb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ar(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function Db(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?ja(r):r;return{pathname:i?i.startsWith("/")?i:Ib(i,e):e,search:Ob(s),hash:Mb(o)}}function Ib(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function sd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vb(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Fd(r){let e=Vb(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Qd(r,e,i,s=!1){let o;typeof r=="string"?o=ja(r):(o={...r},pe(!o.pathname||!o.pathname.includes("?"),sd("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),sd("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),sd("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let y=Db(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(c||f===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||T)&&(y.pathname+="/"),y}var ir=r=>r.join("/").replace(/\/\/+/g,"/"),Nb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ob=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Cv=["POST","PUT","PATCH","DELETE"];new Set(Cv);var Ub=["GET",...Cv];new Set(Ub);var Hs=L.createContext(null);Hs.displayName="DataRouter";var Uc=L.createContext(null);Uc.displayName="DataRouterState";var Dv=L.createContext({isTransitioning:!1});Dv.displayName="ViewTransition";var Lb=L.createContext(new Map);Lb.displayName="Fetchers";var kb=L.createContext(null);kb.displayName="Await";var ni=L.createContext(null);ni.displayName="Navigation";var xo=L.createContext(null);xo.displayName="Location";var ii=L.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Yd=L.createContext(null);Yd.displayName="RouteError";function Pb(r,{relative:e}={}){pe(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(ni),{hash:o,pathname:c,search:f}=Ro(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:ir([i,c])),s.createHref({pathname:m,search:f,hash:o})}function Gs(){return L.useContext(xo)!=null}function ur(){return pe(Gs(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xo).location}var Iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vv(r){L.useContext(ni).static||L.useLayoutEffect(r)}function Kd(){let{isDataRoute:r}=L.useContext(ii);return r?Jb():Bb()}function Bb(){pe(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Hs),{basename:e,navigator:i}=L.useContext(ni),{matches:s}=L.useContext(ii),{pathname:o}=ur(),c=JSON.stringify(Fd(s)),f=L.useRef(!1);return Vv(()=>{f.current=!0}),L.useCallback((y,g={})=>{if(Qn(f.current,Iv),!f.current)return;if(typeof y=="number"){i.go(y);return}let T=Qd(y,JSON.parse(c),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ir([e,T.pathname])),(g.replace?i.replace:i.push)(T,g.state,g)},[e,i,c,o,r])}L.createContext(null);function zb(){let{matches:r}=L.useContext(ii),e=r[r.length-1];return e?e.params:{}}function Ro(r,{relative:e}={}){let{matches:i}=L.useContext(ii),{pathname:s}=ur(),o=JSON.stringify(Fd(i));return L.useMemo(()=>Qd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function qb(r,e){return Nv(r,e)}function Nv(r,e,i,s){var H;pe(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=L.useContext(ni),{matches:f}=L.useContext(ii),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let q=S&&S.path||"";Ov(g,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let x=ur(),D;if(e){let q=typeof e=="string"?ja(e):e;pe(T==="/"||((H=q.pathname)==null?void 0:H.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${q.pathname}" was given in the \`location\` prop.`),D=q}else D=x;let I=D.pathname||"/",F=I;if(T!=="/"){let q=T.replace(/^\//,"").split("/");F="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let N=!c&&i&&i.matches&&i.matches.length>0?i.matches:xv(r,{pathname:F});Qn(S||N!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Qn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Yb(N&&N.map(q=>Object.assign({},q,{params:Object.assign({},y,q.params),pathname:ir([T,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?T:ir([T,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,i,s);return e&&P?L.createElement(xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},P):P}function Hb(){let r=Wb(),e=jb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),i?L.createElement("pre",{style:o},i):null,f)}var Gb=L.createElement(Hb,null),Fb=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(ii.Provider,{value:this.props.routeContext},L.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qb({routeContext:r,match:e,children:i}){let s=L.useContext(Hs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ii.Provider,{value:r},i)}function Yb(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let y=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);pe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(i)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:T,errors:S}=i,x=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,T)=>{let S,x=!1,D=null,I=null;i&&(S=c&&g.route.id?c[g.route.id]:void 0,D=g.route.errorElement||Gb,f&&(m<0&&T===0?(Ov("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):m===T&&(x=!0,I=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,T+1)),N=()=>{let P;return S?P=D:x?P=I:g.route.Component?P=L.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=y,L.createElement(Qb,{match:g,routeContext:{outlet:y,matches:F,isDataRoute:i!=null},children:P})};return i&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?L.createElement(Fb,{location:i.location,revalidation:i.revalidation,component:D,error:S,children:N(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):N()},null)}function $d(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(r){let e=L.useContext(Hs);return pe(e,$d(r)),e}function $b(r){let e=L.useContext(Uc);return pe(e,$d(r)),e}function Xb(r){let e=L.useContext(ii);return pe(e,$d(r)),e}function Xd(r){let e=Xb(r),i=e.matches[e.matches.length-1];return pe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Zb(){return Xd("useRouteId")}function Wb(){var s;let r=L.useContext(Yd),e=$b("useRouteError"),i=Xd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function Jb(){let{router:r}=Kb("useNavigate"),e=Xd("useNavigate"),i=L.useRef(!1);return Vv(()=>{i.current=!0}),L.useCallback(async(o,c={})=>{Qn(i.current,Iv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var h_={};function Ov(r,e,i){!e&&!h_[r]&&(h_[r]=!0,Qn(!1,i))}L.memo(t1);function t1({routes:r,future:e,state:i}){return Nv(r,void 0,i,e)}function nr({to:r,replace:e,state:i,relative:s}){pe(Gs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(ni);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(ii),{pathname:f}=ur(),m=Kd(),y=Qd(r,Fd(c),f,s==="path"),g=JSON.stringify(y);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:i,relative:s})},[m,g,s,e,i]),null}function ti(r){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e1({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){pe(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=ja(i));let{pathname:y="/",search:g="",hash:T="",state:S=null,key:x="default"}=i,D=L.useMemo(()=>{let I=ar(y,f);return I==null?null:{location:{pathname:I,search:g,hash:T,state:S,key:x},navigationType:s}},[f,y,g,T,S,x,s]);return Qn(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:L.createElement(ni.Provider,{value:m},L.createElement(xo.Provider,{children:e,value:D}))}function n1({children:r,location:e}){return qb(_d(r),e)}function _d(r,e=[]){let i=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let c=[...e,o];if(s.type===L.Fragment){i.push.apply(i,_d(s.props.children,c));return}pe(s.type===ti,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_d(s.props.children,c)),i.push(f)}),i}var hc="get",fc="application/x-www-form-urlencoded";function Lc(r){return r!=null&&typeof r.tagName=="string"}function i1(r){return Lc(r)&&r.tagName.toLowerCase()==="button"}function r1(r){return Lc(r)&&r.tagName.toLowerCase()==="form"}function a1(r){return Lc(r)&&r.tagName.toLowerCase()==="input"}function s1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function l1(r,e){return r.button===0&&(!e||e==="_self")&&!s1(r)}var rc=null;function o1(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var u1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ld(r){return r!=null&&!u1.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):r}function c1(r,e){let i,s,o,c,f;if(r1(r)){let m=r.getAttribute("action");s=m?ar(m,e):null,i=r.getAttribute("method")||hc,o=ld(r.getAttribute("enctype"))||fc,c=new FormData(r)}else if(i1(r)||a1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?ar(y,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||hc,o=ld(r.getAttribute("formenctype"))||ld(m.getAttribute("enctype"))||fc,c=new FormData(m,r),!o1()){let{name:g,type:T,value:S}=r;if(T==="image"){let x=g?`${g}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else g&&c.append(g,S)}}else{if(Lc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=hc,s=null,o=fc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Zd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function h1(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function d1(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await h1(c,i);return f.links?f.links():[]}return[]}));return y1(s.flat(1).filter(f1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(r,e,i,s,o,c){let f=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,m=(y,g)=>{var T;return i[g].pathname!==y.pathname||((T=i[g].route.path)==null?void 0:T.endsWith("*"))&&i[g].params["*"]!==y.params["*"]};return c==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):c==="data"?e.filter((y,g)=>{var S;let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function m1(r,e,{includeHydrateFallback:i}={}){return p1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function p1(r){return[...new Set(r)]}function g1(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function y1(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(g1(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}var _1=new Set([100,101,204,205]);function v1(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&ar(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Mv(){let r=L.useContext(Hs);return Zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function E1(){let r=L.useContext(Uc);return Zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Wd=L.createContext(void 0);Wd.displayName="FrameworkContext";function jv(){let r=L.useContext(Wd);return Zd(r,"You must render this element inside a <HydratedRouter> element"),r}function T1(r,e){let i=L.useContext(Wd),[s,o]=L.useState(!1),[c,f]=L.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:T,onTouchStart:S}=e,x=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=P=>{P.forEach(H=>{f(H.isIntersecting)})},N=new IntersectionObserver(F,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[r]),L.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let D=()=>{o(!0)},I=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,x,{}]:[c,x,{onFocus:ao(m,D),onBlur:ao(y,I),onMouseEnter:ao(g,D),onMouseLeave:ao(T,I),onTouchStart:ao(S,D)}]:[!1,x,{}]}function ao(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function b1({page:r,...e}){let{router:i}=Mv(),s=L.useMemo(()=>xv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?L.createElement(A1,{page:r,matches:s,...e}):null}function S1(r){let{manifest:e,routeModules:i}=jv(),[s,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return d1(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),s}function A1({page:r,matches:e,...i}){let s=ur(),{manifest:o,routeModules:c}=jv(),{basename:f}=Mv(),{loaderData:m,matches:y}=E1(),g=L.useMemo(()=>f_(r,e,y,o,s,"data"),[r,e,y,o,s]),T=L.useMemo(()=>f_(r,e,y,o,s,"assets"),[r,e,y,o,s]),S=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,F=!1;if(e.forEach(P=>{var q;let H=o.routes[P.route.id];!H||!H.hasLoader||(!g.some(ht=>ht.route.id===P.route.id)&&P.route.id in m&&((q=c[P.route.id])!=null&&q.shouldRevalidate)||H.hasClientLoader?F=!0:I.add(P.route.id))}),I.size===0)return[];let N=v1(r,f);return F&&I.size>0&&N.searchParams.set("_routes",e.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[N.pathname+N.search]},[f,m,s,o,g,e,r,c]),x=L.useMemo(()=>m1(T,o),[T,o]),D=S1(T);return L.createElement(L.Fragment,null,S.map(I=>L.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...i})),x.map(I=>L.createElement("link",{key:I,rel:"modulepreload",href:I,...i})),D.map(({key:I,link:F})=>L.createElement("link",{key:I,...F})))}function x1(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uv&&(window.__reactRouterVersion="7.5.1")}catch{}function R1({basename:r,children:e,window:i}){let s=L.useRef();s.current==null&&(s.current=db({window:i,v5Compat:!0}));let o=s.current,[c,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(y=>{L.startTransition(()=>f(y))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(e1,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jd=L.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:y,to:g,preventScrollReset:T,viewTransition:S,...x},D){let{basename:I}=L.useContext(ni),F=typeof g=="string"&&Lv.test(g),N,P=!1;if(typeof g=="string"&&F&&(N=g,Uv))try{let w=new URL(window.location.href),j=g.startsWith("//")?new URL(w.protocol+g):new URL(g),B=ar(j.pathname,I);j.origin===w.origin&&B!=null?g=B+j.search+j.hash:P=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Pb(g,{relative:o}),[q,ht,ut]=T1(s,x),yt=D1(g,{replace:f,state:m,target:y,preventScrollReset:T,relative:o,viewTransition:S});function M(w){e&&e(w),w.defaultPrevented||yt(w)}let R=L.createElement("a",{...x,...ut,href:N||H,onClick:P||c?e:M,ref:x1(D,ht),target:y,"data-discover":!F&&i==="render"?"true":void 0});return q&&!F?L.createElement(L.Fragment,null,R,L.createElement(b1,{page:H})):R});Jd.displayName="Link";var kv=L.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:y,...g},T){let S=Ro(f,{relative:g.relative}),x=ur(),D=L.useContext(Uc),{navigator:I,basename:F}=L.useContext(ni),N=D!=null&&M1(S)&&m===!0,P=I.encodeLocation?I.encodeLocation(S).pathname:S.pathname,H=x.pathname,q=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(H=H.toLowerCase(),q=q?q.toLowerCase():null,P=P.toLowerCase()),q&&F&&(q=ar(q,F)||q);const ht=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let ut=H===P||!o&&H.startsWith(P)&&H.charAt(ht)==="/",yt=q!=null&&(q===P||!o&&q.startsWith(P)&&q.charAt(P.length)==="/"),M={isActive:ut,isPending:yt,isTransitioning:N},R=ut?e:void 0,w;typeof s=="function"?w=s(M):w=[s,ut?"active":null,yt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(M):c;return L.createElement(Jd,{...g,"aria-current":R,className:w,ref:T,style:j,to:f,viewTransition:m},typeof y=="function"?y(M):y)});kv.displayName="NavLink";var w1=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:f=hc,action:m,onSubmit:y,relative:g,preventScrollReset:T,viewTransition:S,...x},D)=>{let I=N1(),F=O1(m,{relative:g}),N=f.toLowerCase()==="get"?"get":"post",P=typeof m=="string"&&Lv.test(m),H=q=>{if(y&&y(q),q.defaultPrevented)return;q.preventDefault();let ht=q.nativeEvent.submitter,ut=(ht==null?void 0:ht.getAttribute("formmethod"))||f;I(ht||q.currentTarget,{fetcherKey:e,method:ut,navigate:i,replace:o,state:c,relative:g,preventScrollReset:T,viewTransition:S})};return L.createElement("form",{ref:D,method:N,action:F,onSubmit:s?y:H,...x,"data-discover":!P&&r==="render"?"true":void 0})});w1.displayName="Form";function C1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pv(r){let e=L.useContext(Hs);return pe(e,C1(r)),e}function D1(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=Kd(),y=ur(),g=Ro(r,{relative:c});return L.useCallback(T=>{if(l1(T,e)){T.preventDefault();let S=i!==void 0?i:po(y)===po(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[y,m,g,i,s,e,r,o,c,f])}var I1=0,V1=()=>`__${String(++I1)}__`;function N1(){let{router:r}=Pv("useSubmit"),{basename:e}=L.useContext(ni),i=Zb();return L.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:y,body:g}=c1(s,e);if(o.navigate===!1){let T=o.fetcherKey||V1();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function O1(r,{relative:e}={}){let{basename:i}=L.useContext(ni),s=L.useContext(ii);pe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Ro(r||".",{relative:e})},f=ur();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(T=>T==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ir([i,c.pathname])),po(c)}function M1(r,e={}){let i=L.useContext(Dv);pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pv("useViewTransitionState"),o=Ro(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=ar(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=ar(i.nextLocation.pathname,s)||i.nextLocation.pathname;return vc(o.pathname,f)!=null||vc(o.pathname,c)!=null}new TextEncoder;[..._1];const j1=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},U1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,T=c>>2,S=(c&3)<<4|m>>4;let x=(m&15)<<2|g>>6,D=g&63;y||(D=64,f||(x=64)),s.push(i[T],i[S],i[x],i[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Bv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):U1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const g=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||g==null||S==null)throw new L1;const x=c<<2|m>>4;if(s.push(x),g!==64){const D=m<<4&240|g>>2;if(s.push(D),S!==64){const I=g<<6&192|S;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class L1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(r){const e=Bv(r);return zv.encodeByteArray(e,!0)},Ec=function(r){return k1(r).replace(/\./g,"")},P1=function(r){try{return zv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=()=>B1().__FIREBASE_DEFAULTS__,q1=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},H1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P1(r[1]);return e&&JSON.parse(e)},tm=()=>{try{return j1()||z1()||q1()||H1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},G1=r=>{var e,i;return(i=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},F1=r=>{const e=G1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},qv=()=>{var r;return(r=tm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ec(JSON.stringify(i)),Ec(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){var r;const e=(r=tm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="FirebaseError";class Fs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=J1,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hv.prototype.create)}}class Hv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?tS(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Fs(o,m,s)}}function tS(r,e){return r.replace(eS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eS=/\{\$([^}]+)}/g;function Tc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(m_(c)&&m_(f)){if(!Tc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function m_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r){return r&&r._delegate?r._delegate:r}class go{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Q1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(r){return r===Da?void 0:r}function rS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new nS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Yt||(Yt={}));const sS={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},lS=Yt.INFO,oS={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},uS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=oS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=lS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const cS=(r,e)=>e.some(i=>r instanceof i);let p_,g_;function hS(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,vd=new WeakMap,Qv=new WeakMap,od=new WeakMap,em=new WeakMap;function dS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Fv.set(i,r)}).catch(()=>{}),em.set(e,r),e}function mS(r){if(vd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});vd.set(r,e)}let Ed={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return vd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Qv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function pS(r){Ed=r(Ed)}function gS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ud(this),e,...i);return Qv.set(s,e.sort?e.sort():[e]),Br(s)}:fS().includes(r)?function(...e){return r.apply(ud(this),e),Br(Fv.get(this))}:function(...e){return Br(r.apply(ud(this),e))}}function yS(r){return typeof r=="function"?gS(r):(r instanceof IDBTransaction&&mS(r),cS(r,hS())?new Proxy(r,Ed):r)}function Br(r){if(r instanceof IDBRequest)return dS(r);if(od.has(r))return od.get(r);const e=yS(r);return e!==r&&(od.set(r,e),em.set(e,r)),e}const ud=r=>em.get(r);function _S(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=Br(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Br(f.result),y.oldVersion,y.newVersion,Br(f.transaction),y)}),i&&f.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],cd=new Map;function y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=ES.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vS.includes(i)))return;const c=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&y.done]))[0]};return cd.set(e,c),c}pS(r=>({...r,get:(e,i,s)=>y_(e,i)||r.get(e,i,s),has:(e,i)=>!!y_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function bS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",__="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Gv("@firebase/app"),SS="@firebase/app-compat",AS="@firebase/analytics-compat",xS="@firebase/analytics",RS="@firebase/app-check-compat",wS="@firebase/app-check",CS="@firebase/auth",DS="@firebase/auth-compat",IS="@firebase/database",VS="@firebase/data-connect",NS="@firebase/database-compat",OS="@firebase/functions",MS="@firebase/functions-compat",jS="@firebase/installations",US="@firebase/installations-compat",LS="@firebase/messaging",kS="@firebase/messaging-compat",PS="@firebase/performance",BS="@firebase/performance-compat",zS="@firebase/remote-config",qS="@firebase/remote-config-compat",HS="@firebase/storage",GS="@firebase/storage-compat",FS="@firebase/firestore",QS="@firebase/vertexai",YS="@firebase/firestore-compat",KS="firebase",$S="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",XS={[Td]:"fire-core",[SS]:"fire-core-compat",[xS]:"fire-analytics",[AS]:"fire-analytics-compat",[wS]:"fire-app-check",[RS]:"fire-app-check-compat",[CS]:"fire-auth",[DS]:"fire-auth-compat",[IS]:"fire-rtdb",[VS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[OS]:"fire-fn",[MS]:"fire-fn-compat",[jS]:"fire-iid",[US]:"fire-iid-compat",[LS]:"fire-fcm",[kS]:"fire-fcm-compat",[PS]:"fire-perf",[BS]:"fire-perf-compat",[zS]:"fire-rc",[qS]:"fire-rc-compat",[HS]:"fire-gcs",[GS]:"fire-gcs-compat",[FS]:"fire-fst",[YS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[KS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,ZS=new Map,Sd=new Map;function v_(r,e){try{r.container.addComponent(e)}catch(i){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Sc(r){const e=r.name;if(Sd.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,r);for(const i of bc.values())v_(i,r);for(const i of ZS.values())v_(i,r);return!0}function WS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function JS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Hv("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=$S;function Yv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(i||(i=qv()),!i)throw zr.create("no-options");const c=bc.get(o);if(c){if(Tc(i,c.options)&&Tc(s,c.config))return c;throw zr.create("duplicate-app",{appName:o})}const f=new aS(o);for(const y of Sd.values())f.addComponent(y);const m=new eA(i,s,f);return bc.set(o,m),m}function iA(r=bd){const e=bc.get(r);if(!e&&r===bd&&qv())return Yv();if(!e)throw zr.create("no-app",{appName:r});return e}function Os(r,e,i){var s;let o=(s=XS[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(m.join(" "));return}Sc(new go(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebase-heartbeat-database",aA=1,yo="firebase-heartbeat-store";let hd=null;function Kv(){return hd||(hd=_S(rA,aA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(yo)}catch(i){console.warn(i)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),hd}async function sA(r){try{const i=(await Kv()).transaction(yo),s=await i.objectStore(yo).get($v(r));return await i.done,s}catch(e){if(e instanceof Fs)sr.warn(e.message);else{const i=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(i.message)}}}async function E_(r,e){try{const s=(await Kv()).transaction(yo,"readwrite");await s.objectStore(yo).put(e,$v(r)),await s.done}catch(i){if(i instanceof Fs)sr.warn(i.message);else{const s=zr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});sr.warn(s.message)}}}function $v(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=1024,oA=30;class uA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>oA){const f=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=T_(),{heartbeatsToSend:s,unsentEntries:o}=cA(this._heartbeatsCache.heartbeats),c=Ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return sr.warn(i),""}}}function T_(){return new Date().toISOString().substring(0,10)}function cA(r,e=lA){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),b_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class hA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b_(r){return Ec(JSON.stringify({version:2,heartbeats:r})).length}function fA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r){Sc(new go("platform-logger",e=>new TS(e),"PRIVATE")),Sc(new go("heartbeat",e=>new uA(e),"PRIVATE")),Os(Td,__,r),Os(Td,__,"esm2017"),Os("fire-js","")}dA("");var mA="firebase",pA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(mA,pA,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,Xv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function w(){}w.prototype=R.prototype,M.D=R.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(j,B,U){for(var C=Array(arguments.length-2),St=2;St<arguments.length;St++)C[St-2]=arguments[St];return R.prototype[B].apply(j,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,w){w||(w=0);var j=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)j[B]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(B=0;16>B;++B)j[B]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=M.g[0],w=M.g[1],B=M.g[2];var U=M.g[3],C=R+(U^w&(B^U))+j[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=U+(B^R&(w^B))+j[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=B+(w^U&(R^w))+j[2]+606105819&4294967295,B=U+(C<<17&4294967295|C>>>15),C=w+(R^B&(U^R))+j[3]+3250441966&4294967295,w=B+(C<<22&4294967295|C>>>10),C=R+(U^w&(B^U))+j[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(B^R&(w^B))+j[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=B+(w^U&(R^w))+j[6]+2821735955&4294967295,B=U+(C<<17&4294967295|C>>>15),C=w+(R^B&(U^R))+j[7]+4249261313&4294967295,w=B+(C<<22&4294967295|C>>>10),C=R+(U^w&(B^U))+j[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(B^R&(w^B))+j[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=B+(w^U&(R^w))+j[10]+4294925233&4294967295,B=U+(C<<17&4294967295|C>>>15),C=w+(R^B&(U^R))+j[11]+2304563134&4294967295,w=B+(C<<22&4294967295|C>>>10),C=R+(U^w&(B^U))+j[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(B^R&(w^B))+j[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=B+(w^U&(R^w))+j[14]+2792965006&4294967295,B=U+(C<<17&4294967295|C>>>15),C=w+(R^B&(U^R))+j[15]+1236535329&4294967295,w=B+(C<<22&4294967295|C>>>10),C=R+(B^U&(w^B))+j[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^B&(R^w))+j[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=B+(R^w&(U^R))+j[11]+643717713&4294967295,B=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(B^U))+j[0]+3921069994&4294967295,w=B+(C<<20&4294967295|C>>>12),C=R+(B^U&(w^B))+j[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^B&(R^w))+j[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=B+(R^w&(U^R))+j[15]+3634488961&4294967295,B=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(B^U))+j[4]+3889429448&4294967295,w=B+(C<<20&4294967295|C>>>12),C=R+(B^U&(w^B))+j[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^B&(R^w))+j[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=B+(R^w&(U^R))+j[3]+4107603335&4294967295,B=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(B^U))+j[8]+1163531501&4294967295,w=B+(C<<20&4294967295|C>>>12),C=R+(B^U&(w^B))+j[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^B&(R^w))+j[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=B+(R^w&(U^R))+j[7]+1735328473&4294967295,B=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(B^U))+j[12]+2368359562&4294967295,w=B+(C<<20&4294967295|C>>>12),C=R+(w^B^U)+j[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^B)+j[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=B+(U^R^w)+j[11]+1839030562&4294967295,B=U+(C<<16&4294967295|C>>>16),C=w+(B^U^R)+j[14]+4259657740&4294967295,w=B+(C<<23&4294967295|C>>>9),C=R+(w^B^U)+j[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^B)+j[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=B+(U^R^w)+j[7]+4139469664&4294967295,B=U+(C<<16&4294967295|C>>>16),C=w+(B^U^R)+j[10]+3200236656&4294967295,w=B+(C<<23&4294967295|C>>>9),C=R+(w^B^U)+j[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^B)+j[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=B+(U^R^w)+j[3]+3572445317&4294967295,B=U+(C<<16&4294967295|C>>>16),C=w+(B^U^R)+j[6]+76029189&4294967295,w=B+(C<<23&4294967295|C>>>9),C=R+(w^B^U)+j[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^B)+j[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=B+(U^R^w)+j[15]+530742520&4294967295,B=U+(C<<16&4294967295|C>>>16),C=w+(B^U^R)+j[2]+3299628645&4294967295,w=B+(C<<23&4294967295|C>>>9),C=R+(B^(w|~U))+j[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~B))+j[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=B+(R^(U|~w))+j[14]+2878612391&4294967295,B=U+(C<<15&4294967295|C>>>17),C=w+(U^(B|~R))+j[5]+4237533241&4294967295,w=B+(C<<21&4294967295|C>>>11),C=R+(B^(w|~U))+j[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~B))+j[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=B+(R^(U|~w))+j[10]+4293915773&4294967295,B=U+(C<<15&4294967295|C>>>17),C=w+(U^(B|~R))+j[1]+2240044497&4294967295,w=B+(C<<21&4294967295|C>>>11),C=R+(B^(w|~U))+j[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~B))+j[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=B+(R^(U|~w))+j[6]+2734768916&4294967295,B=U+(C<<15&4294967295|C>>>17),C=w+(U^(B|~R))+j[13]+1309151649&4294967295,w=B+(C<<21&4294967295|C>>>11),C=R+(B^(w|~U))+j[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~B))+j[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=B+(R^(U|~w))+j[2]+718787259&4294967295,B=U+(C<<15&4294967295|C>>>17),C=w+(U^(B|~R))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(B+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var w=R-this.blockSize,j=this.B,B=this.h,U=0;U<R;){if(B==0)for(;U<=w;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<R;)if(j[B++]=M.charCodeAt(U++),B==this.blockSize){o(this,j),B=0;break}}else for(;U<R;)if(j[B++]=M[U++],B==this.blockSize){o(this,j),B=0;break}}this.h=B,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var w=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=w&255,w/=256;for(this.u(M),M=Array(16),R=w=0;4>R;++R)for(var j=0;32>j;j+=8)M[w++]=this.g[R]>>>j&255;return M};function c(M,R){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=R(M)}function f(M,R){this.h=R;for(var w=[],j=!0,B=M.length-1;0<=B;B--){var U=M[B]|0;j&&U==R||(w[B]=U,j=!1)}this.g=w}var m={};function y(M){return-128<=M&&128>M?c(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return N(g(-M));for(var R=[],w=1,j=0;M>=w;j++)R[j]=M/w|0,w*=4294967296;return new f(R,0)}function T(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return N(T(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),j=S,B=0;B<M.length;B+=8){var U=Math.min(8,M.length-B),C=parseInt(M.substring(B,B+U),R);8>U?(U=g(Math.pow(R,U)),j=j.j(U).add(g(C))):(j=j.j(w),j=j.add(g(C)))}return j}var S=y(0),x=y(1),D=y(16777216);r=f.prototype,r.m=function(){if(F(this))return-N(this).m();for(var M=0,R=1,w=0;w<this.g.length;w++){var j=this.i(w);M+=(0<=j?j:4294967296+j)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(F(this))return"-"+N(this).toString(M);for(var R=g(Math.pow(M,6)),w=this,j="";;){var B=ht(w,R).g;w=P(w,B.j(R));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=B,I(w))return U+j;for(;6>U.length;)U="0"+U;j=U+j}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function F(M){return M.h==-1}r.l=function(M){return M=P(this,M),F(M)?-1:I(M)?0:1};function N(M){for(var R=M.g.length,w=[],j=0;j<R;j++)w[j]=~M.g[j];return new f(w,~M.h).add(x)}r.abs=function(){return F(this)?N(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],j=0,B=0;B<=R;B++){var U=j+(this.i(B)&65535)+(M.i(B)&65535),C=(U>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);j=C>>>16,U&=65535,C&=65535,w[B]=C<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function P(M,R){return M.add(N(R))}r.j=function(M){if(I(this)||I(M))return S;if(F(this))return F(M)?N(this).j(N(M)):N(N(this).j(M));if(F(M))return N(this.j(N(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,w=[],j=0;j<2*R;j++)w[j]=0;for(j=0;j<this.g.length;j++)for(var B=0;B<M.g.length;B++){var U=this.i(j)>>>16,C=this.i(j)&65535,St=M.i(B)>>>16,Mt=M.i(B)&65535;w[2*j+2*B]+=C*Mt,H(w,2*j+2*B),w[2*j+2*B+1]+=U*Mt,H(w,2*j+2*B+1),w[2*j+2*B+1]+=C*St,H(w,2*j+2*B+1),w[2*j+2*B+2]+=U*St,H(w,2*j+2*B+2)}for(j=0;j<R;j++)w[j]=w[2*j+1]<<16|w[2*j];for(j=R;j<2*R;j++)w[j]=0;return new f(w,0)};function H(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function q(M,R){this.g=M,this.h=R}function ht(M,R){if(I(R))throw Error("division by zero");if(I(M))return new q(S,S);if(F(M))return R=ht(N(M),R),new q(N(R.g),N(R.h));if(F(R))return R=ht(M,N(R)),new q(N(R.g),R.h);if(30<M.g.length){if(F(M)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var w=x,j=R;0>=j.l(M);)w=ut(w),j=ut(j);var B=yt(w,1),U=yt(j,1);for(j=yt(j,2),w=yt(w,2);!I(j);){var C=U.add(j);0>=C.l(M)&&(B=B.add(w),U=C),j=yt(j,1),w=yt(w,1)}return R=P(M,B.j(R)),new q(B,R)}for(B=S;0<=M.l(R);){for(w=Math.max(1,Math.floor(M.m()/R.m())),j=Math.ceil(Math.log(w)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),U=g(w),C=U.j(R);F(C)||0<C.l(M);)w-=j,U=g(w),C=U.j(R);I(U)&&(U=x),B=B.add(U),M=P(M,C)}return new q(B,M)}r.A=function(M){return ht(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],j=0;j<R;j++)w[j]=this.i(j)&M.i(j);return new f(w,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],j=0;j<R;j++)w[j]=this.i(j)|M.i(j);return new f(w,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],j=0;j<R;j++)w[j]=this.i(j)^M.i(j);return new f(w,this.h^M.h)};function ut(M){for(var R=M.g.length+1,w=[],j=0;j<R;j++)w[j]=M.i(j)<<1|M.i(j-1)>>>31;return new f(w,M.h)}function yt(M,R){var w=R>>5;R%=32;for(var j=M.g.length-w,B=[],U=0;U<j;U++)B[U]=0<R?M.i(U+w)>>>R|M.i(U+w+1)<<32-R:M.i(U+w);return new f(B,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Xv=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,qr=f}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zv,so,Wv,dc,Ad,Jv,t0,e0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,p){if(p)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var G=u[A];if(!(G in _))break t;_=_[G]}u=u[u.length-1],A=_[u],p=p(A),p!=A&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,A=!1,G={next:function(){if(!A&&_<u.length){var W=_++;return{value:p(W,u[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function T(u,p,_){return u.call.apply(u.bind,arguments)}function S(u,p,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),u.apply(p,G)}}return function(){return u.apply(p,arguments)}}function x(u,p,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,x.apply(null,arguments)}function D(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function I(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,G,W){for(var mt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)mt[Ht-2]=arguments[Ht];return p.prototype[G].apply(A,mt)}}function F(u){const p=u.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=u[A];return _}return[]}function N(u,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const G=u.length||0,W=A.length||0;u.length=G+W;for(let mt=0;mt<W;mt++)u[G+mt]=A[mt]}else u.push(A)}}class P{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ht(u){return ht[" "](u),u}ht[" "]=function(){};var ut=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function yt(u,p,_){for(const A in u)p.call(_,u[A],A,u)}function M(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function R(u){const p={};for(const _ in u)p[_]=u[_];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,p){let _,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(_ in A)u[_]=A[_];for(let W=0;W<w.length;W++)_=w[W],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function B(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function U(u){m.setTimeout(()=>{throw u},0)}function C(){var u=gt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class St{constructor(){this.h=this.g=null}add(p,_){const A=Mt.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Mt=new P(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ot=!1,gt=new St,O=()=>{const u=m.Promise.resolve(void 0);X=()=>{u.then(tt)}};var tt=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){U(_)}var p=Mt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function Vt(u,p){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ut){t:{try{ht(p.nodeName);var G=!0;break t}catch{}G=!1}G||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Vt.aa.h.call(this)}}I(Vt,lt);var At={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ye(u,p,_,A,G){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=G,this.key=++qt,this.da=this.fa=!1}function Kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function On(u){this.src=u,this.g={},this.h=0}On.prototype.add=function(u,p,_,A,G){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var mt=wi(u,p,A,G);return-1<mt?(p=u[mt],_||(p.fa=!1)):(p=new Ye(p,this.src,W,!!A,G),p.fa=_,u.push(p)),p};function Ri(u,p){var _=p.type;if(_ in u.g){var A=u.g[_],G=Array.prototype.indexOf.call(A,p,void 0),W;(W=0<=G)&&Array.prototype.splice.call(A,G,1),W&&(Kn(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wi(u,p,_,A){for(var G=0;G<u.length;++G){var W=u[G];if(!W.da&&W.listener==p&&W.capture==!!_&&W.ha==A)return G}return-1}var Ci="closure_lm_"+(1e6*Math.random()|0),Wr={};function Pa(u,p,_,A,G){if(Array.isArray(p)){for(var W=0;W<p.length;W++)Pa(u,p[W],_,A,G);return null}return _=ft(_),u&&u[ce]?u.K(p,_,g(A)?!!A.capture:!1,G):yn(u,p,_,!1,A,G)}function yn(u,p,_,A,G,W){if(!p)throw Error("Invalid event type");var mt=g(G)?!!G.capture:!!G,Ht=Ii(u);if(Ht||(u[Ci]=Ht=new On(u)),_=Ht.add(p,_,A,mt,W),_.proxy)return _;if(A=Xs(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(G=mt),G===void 0&&(G=!1),u.addEventListener(p.toString(),A,G);else if(u.attachEvent)u.attachEvent(Di(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xs(){function u(_){return p.call(u.src,u.listener,_)}const p=Zs;return u}function Jr(u,p,_,A,G){if(Array.isArray(p))for(var W=0;W<p.length;W++)Jr(u,p[W],_,A,G);else A=g(A)?!!A.capture:!!A,_=ft(_),u&&u[ce]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],_=wi(W,_,A,G),-1<_&&(Kn(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=Ii(u))&&(p=u.g[p.toString()],u=-1,p&&(u=wi(p,_,A,G)),(_=-1<u?p[u]:null)&&cr(_))}function cr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ce])Ri(p.i,u);else{var _=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(_,A,u.capture):p.detachEvent?p.detachEvent(Di(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=Ii(p))?(Ri(_,u),_.h==0&&(_.src=null,p[Ci]=null)):Kn(u)}}}function Di(u){return u in Wr?Wr[u]:Wr[u]="on"+u}function Zs(u,p){if(u.da)u=!0;else{p=new Vt(p,this);var _=u.listener,A=u.ha||u.src;u.fa&&cr(u),u=_.call(A,p)}return u}function Ii(u){return u=u[Ci],u instanceof On?u:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(u){return typeof u=="function"?u:(u[J]||(u[J]=function(p){return u.handleEvent(p)}),u[J])}function ct(){nt.call(this),this.i=new On(this),this.M=this,this.F=null}I(ct,nt),ct.prototype[ce]=!0,ct.prototype.removeEventListener=function(u,p,_,A){Jr(this,u,p,_,A)};function dt(u,p){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new lt(p,u);else if(p instanceof lt)p.target=p.target||u;else{var G=p;p=new lt(A,u),j(p,G)}if(G=!0,_)for(var W=_.length-1;0<=W;W--){var mt=p.g=_[W];G=Rt(mt,A,!0,p)&&G}if(mt=p.g=u,G=Rt(mt,A,!0,p)&&G,G=Rt(mt,A,!1,p)&&G,_)for(W=0;W<_.length;W++)mt=p.g=_[W],G=Rt(mt,A,!1,p)&&G}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],A=0;A<_.length;A++)Kn(_[A]);delete u.g[p],u.h--}}this.F=null},ct.prototype.K=function(u,p,_,A){return this.i.add(String(u),p,!1,_,A)},ct.prototype.L=function(u,p,_,A){return this.i.add(String(u),p,!0,_,A)};function Rt(u,p,_,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var G=!0,W=0;W<p.length;++W){var mt=p[W];if(mt&&!mt.da&&mt.capture==_){var Ht=mt.listener,Oe=mt.ha||mt.src;mt.fa&&Ri(u.i,mt),G=Ht.call(Oe,A)!==!1&&G}}return G&&!A.defaultPrevented}function Wt(u,p,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function ee(u){u.g=Wt(()=>{u.g=null,u.i&&(u.i=!1,ee(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class $t extends nt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(u){nt.call(this),this.h=u,this.g={}}I(oe,nt);var Xt=[];function ge(u){yt(u.g,function(p,_){this.g.hasOwnProperty(_)&&cr(p)},u),u.g={}}oe.prototype.N=function(){oe.aa.N.call(this),ge(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=m.JSON.stringify,Sn=m.JSON.parse,un=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ri(){}ri.prototype.h=null;function Ws(u){return u.h||(u.h=u.i())}function Js(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){lt.call(this,"d")}I(Ni,lt);function tl(){lt.call(this,"c")}I(tl,lt);var ai={},el=null;function hr(){return el=el||new ct}ai.La="serverreachability";function Ba(u){lt.call(this,ai.La,u)}I(Ba,lt);function fr(u){const p=hr();dt(p,new Ba(p))}ai.STAT_EVENT="statevent";function Lo(u,p){lt.call(this,ai.STAT_EVENT,u),this.stat=p}I(Lo,lt);function de(u){const p=hr();dt(p,new Lo(p,u))}ai.Ma="timingevent";function Ne(u,p){lt.call(this,ai.Ma,u),this.size=p}I(Ne,lt);function Re(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function nl(u,p,_,A,G,W){u.info(function(){if(u.g)if(W)for(var mt="",Ht=W.split("&"),Oe=0;Oe<Ht.length;Oe++){var Gt=Ht[Oe].split("=");if(1<Gt.length){var ze=Gt[0];Gt=Gt[1];var Me=ze.split("_");mt=2<=Me.length&&Me[1]=="type"?mt+(ze+"="+Gt+"&"):mt+(ze+"=redacted&")}}else mt=null;else mt=W;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+p+`
`+_+`
`+mt})}function nh(u,p,_,A,G,W,mt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+p+`
`+_+`
`+W+" "+mt})}function dr(u,p,_,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ta(u,_)+(A?" "+A:"")})}function ko(u,p){u.info(function(){return"TIMEOUT: "+p})}Mn.prototype.info=function(){};function ta(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var W=G[0];if(W!="noop"&&W!="stop"&&W!="close")for(var mt=1;mt<G.length;mt++)G[mt]=""}}}}return Pe(_)}catch{return p}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function li(){}I(li,ri),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},si=new li;function cn(u,p,_,A){this.j=u,this.i=p,this.l=_,this.R=A||1,this.U=new oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var il={},za={};function $n(u,p,_){u.L=1,u.v=aa(An(p)),u.m=_,u.P=!0,Mi(u,null)}function Mi(u,p){u.F=Date.now(),ea(u),u.A=An(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ul(_.i,"t",A),u.C=0,_=u.j.J,u.h=new be,u.g=tu(u.j,_?p:null,!u.m),0<u.O&&(u.M=new $t(x(u.Y,u,u.g),u.O)),p=u.U,_=u.g,A=u.ca;var G="readystatechange";Array.isArray(G)||(G&&(Xt[0]=G.toString()),G=Xt);for(var W=0;W<G.length;W++){var mt=Pa(_,G[W],A||p.handleEvent,!1,p.h||p);if(!mt)break;p.g[mt.key]=mt}p=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),fr(),nl(u.i,u.u,u.A,u.l,u.R,u.m)}cn.prototype.ca=function(u){u=u.target;const p=this.M;p&&kn(u)==3?p.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)t:{const Me=kn(this.g);var p=this.g.Ba();const qi=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Qo(this.g)))){this.J||Me!=4||p==7||(p==8||0>=qi?fr(3):fr(2)),pr(this);var _=this.g.Z();this.X=_;e:if(Po(this)){var A=Qo(this.g);u="";var G=A.length,W=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),oi(this);var mt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<G;p++)this.h.h=!0,u+=this.h.i.decode(A[p],{stream:!(W&&p==G-1)});A.length=0,this.h.g+=u,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=_==200,nh(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ht,Oe=this.g;if((Ht=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ht)){var Gt=Ht;break e}}Gt=null}if(_=Gt)dr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,_);else{this.o=!1,this.s=3,de(12),Ke(this),oi(this);break t}}if(this.P){_=!0;let $e;for(;!this.J&&this.C<mt.length;)if($e=Bo(this,mt),$e==za){Me==4&&(this.s=4,de(14),_=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if($e==il){this.s=4,de(15),dr(this.i,this.l,mt,"[Invalid Chunk]"),_=!1;break}else dr(this.i,this.l,$e,null),na(this,$e);if(Po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||mt.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)dr(this.i,this.l,mt,"[Invalid Chunked Response]"),Ke(this),oi(this);else if(0<mt.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),da(ze),ze.M=!0,de(11))}}else dr(this.i,this.l,mt,null),na(this,mt);Me==4&&Ke(this),this.o&&!this.J&&(Me==4?Zo(this.j,this):(this.o=!1,ea(this)))}else lh(this.g),_==400&&0<mt.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Ke(this),oi(this)}}}catch{}finally{}};function Po(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Bo(u,p){var _=u.C,A=p.indexOf(`
`,_);return A==-1?za:(_=Number(p.substring(_,A)),isNaN(_)?il:(A+=1,A+_>p.length?za:(p=p.slice(A,A+_),u.C=A+_,p)))}cn.prototype.cancel=function(){this.J=!0,Ke(this)};function ea(u){u.S=Date.now()+u.I,zo(u,u.I)}function zo(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Re(x(u.ba,u),p)}function pr(u){u.B&&(m.clearTimeout(u.B),u.B=null)}cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ko(this.i,this.A),this.L!=2&&(fr(),de(17)),Ke(this),this.s=2,oi(this)):zo(this,this.S-u)};function oi(u){u.j.G==0||u.J||Zo(u.j,u)}function Ke(u){pr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ge(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function na(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||rl(_.h,u))){if(!u.K&&rl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ja(_),Za(_);else break t;ml(_),de(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=Re(x(_.Za,_),6e3));if(1>=Ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zi(_,11)}else if((u.K||_.g==u)&&Ja(_),!H(p))for(G=_.Da.g.parse(p),p=0;p<G.length;p++){let Gt=G[p];if(_.T=Gt[0],Gt=Gt[1],_.G==2)if(Gt[0]=="c"){_.K=Gt[1],_.ia=Gt[2];const ze=Gt[3];ze!=null&&(_.la=ze,_.j.info("VER="+_.la));const Me=Gt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const qi=Gt[5];qi!=null&&typeof qi=="number"&&0<qi&&(A=1.5*qi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const $e=u.g;if($e){const pi=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var W=A.h;W.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ga(W,W.h),W.h=null))}if(A.D){const gl=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(A.ya=gl,re(A.I,A.D,gl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var mt=u;if(A.qa=Jo(A,A.J?A.ia:null,A.W),mt.K){hn(A.h,mt);var Ht=mt,Oe=A.L;Oe&&(Ht.I=Oe),Ht.B&&(pr(Ht),ea(Ht)),A.g=mt}else $o(A);0<_.i.length&&Wa(_)}else Gt[0]!="stop"&&Gt[0]!="close"||zi(_,7);else _.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?zi(_,7):fl(_):Gt[0]!="noop"&&_.l&&_.l.ta(Gt),_.v=0)}}fr(4)}catch{}}var qo=class{constructor(u,p){this.g=u,this.map=p}};function ji(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ha(u){return u.h?1:u.g?u.g.size:0}function rl(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ga(u,p){u.g?u.g.add(p):u.h=p}function hn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ji.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function al(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return F(u.i)}function ih(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],_=u.length,A=0;A<_;A++)p.push(u[A]);return p}p=[],_=0;for(A in u)p[_++]=u[A];return p}function Fa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const A in u)p[_++]=A;return p}}}function sl(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Fa(u),A=ih(u),G=A.length,W=0;W<G;W++)p.call(void 0,A[W],_&&_[W],u)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),G=null;if(0<=A){var W=u[_].substring(0,A);G=u[_].substring(A+1)}else W=u[_];p(W,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function we(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof we){this.h=u.h,ra(this,u.j),this.o=u.o,this.g=u.g,gr(this,u.s),this.l=u.l;var p=u.i,_=new Li;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ui(this,_),this.m=u.m}else u&&(p=String(u).match(ia))?(this.h=!1,ra(this,p[1]||"",!0),this.o=jn(p[2]||""),this.g=jn(p[3]||"",!0),gr(this,p[4]),this.l=jn(p[5]||"",!0),Ui(this,p[6]||"",!0),this.m=jn(p[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}we.prototype.toString=function(){var u=[],p=this.j;p&&u.push(sa(p,ll,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(sa(p,ll,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(sa(_,_.charAt(0)=="/"?ah:ol,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",sa(_,Qa)),u.join("")};function An(u){return new we(u)}function ra(u,p,_){u.j=_?jn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function gr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ui(u,p,_){p instanceof Li?(u.i=p,Go(u.i,u.h)):(_||(p=sa(p,sh)),u.i=new Li(p,u.h))}function re(u,p,_){u.i.set(p,_)}function aa(u){return re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function jn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sa(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Ho),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ho(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ll=/[#\/\?@]/g,ol=/[#\?:]/g,ah=/[#\?]/g,sh=/[#\?@]/g,Qa=/#/g;function Li(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Un(u){u.g||(u.g=new Map,u.h=0,u.i&&rh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Li.prototype,r.add=function(u,p){Un(this),this.i=null,u=ui(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function ki(u,p){Un(u),p=ui(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Pi(u,p){return Un(u),p=ui(u,p),u.g.has(p)}r.forEach=function(u,p){Un(this),this.g.forEach(function(_,A){_.forEach(function(G){u.call(p,G,A,this)},this)},this)},r.na=function(){Un(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const G=u[A];for(let W=0;W<G.length;W++)_.push(p[A])}return _},r.V=function(u){Un(this);let p=[];if(typeof u=="string")Pi(this,u)&&(p=p.concat(this.g.get(ui(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return Un(this),this.i=null,u=ui(this,u),Pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ul(u,p,_){ki(u,p),0<_.length&&(u.i=null,u.g.set(ui(u,p),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const W=encodeURIComponent(String(A)),mt=this.V(A);for(A=0;A<mt.length;A++){var G=W;mt[A]!==""&&(G+="="+encodeURIComponent(String(mt[A]))),u.push(G)}}return this.i=u.join("&")};function ui(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Go(u,p){p&&!u.j&&(Un(u),u.i=null,u.g.forEach(function(_,A){var G=A.toLowerCase();A!=G&&(ki(this,A),ul(this,G,_))},u)),u.j=p}function la(u,p){const _=new Mn;if(m.Image){const A=new Image;A.onload=D(Ln,_,"TestLoadImage: loaded",!0,p,A),A.onerror=D(Ln,_,"TestLoadImage: error",!1,p,A),A.onabort=D(Ln,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=D(Ln,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Xn(u,p){const _=new Mn,A=new AbortController,G=setTimeout(()=>{A.abort(),Ln(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(W=>{clearTimeout(G),W.ok?Ln(_,"TestPingServer: ok",!0,p):Ln(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(G),Ln(_,"TestPingServer: error",!1,p)})}function Ln(u,p,_,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(_)}catch{}}function oa(){this.g=new un}function ci(u,p,_){const A=_||"";try{sl(u,function(G,W){let mt=G;g(G)&&(mt=Pe(G)),p.push(A+W+"="+encodeURIComponent(mt))})}catch(G){throw p.push(A+"type="+encodeURIComponent("_badmap")),G}}function yr(u){this.l=u.Ub||null,this.j=u.eb||!1}I(yr,ri),yr.prototype.g=function(){return new Bi(this.l,this.j)},yr.prototype.i=function(u){return function(){return u}}({});function Bi(u,p){ct.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Bi,ct),r=Bi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,fi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?hi(this):fi(this),this.readyState==3&&cl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,hi(this))},r.Qa=function(u){this.g&&(this.response=u,hi(this))},r.ga=function(){this.g&&hi(this)};function hi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fi(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hl(u){let p="";return yt(u,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function Be(u,p,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=hl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):re(u,p,_))}function Jt(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Jt,ct);var Ya=/^https?$/i,ua=["POST","PUT"];r=Jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?Ws(this.o):Ws(si),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){Fo(this,W);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)_.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())_.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),G=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ua,p,void 0))||A||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,mt]of _)this.g.setRequestHeader(W,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Fo(this,W)}};function Fo(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Ka(u),di(u)}function Ka(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},r.bb=function(){$a(this)};function $a(u){if(u.h&&typeof f<"u"&&(!u.v[1]||kn(u)!=4||u.Z()!=2)){if(u.u&&kn(u)==4)Wt(u.Ea,0,u);else if(dt(u,"readystatechange"),kn(u)==4){u.h=!1;try{const mt=u.Z();t:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var A;if(A=mt===0){var G=String(u.D).match(ia)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),A=!Ya.test(G?G.toLowerCase():"")}_=A}if(_)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var W=2<kn(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Ka(u)}}finally{di(u)}}}}function di(u,p){if(u.g){ca(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||dt(u,"ready");try{_.onreadystatechange=A}catch{}}}function ca(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Sn(p)}};function Qo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lh(u){const p={};u=(u.g&&2<=kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(H(u[A]))continue;var _=B(u[A]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=p[G]||[];p[G]=W,W.push(_)}M(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Xa(u){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,u),this.cb=ha("retryDelaySeedMs",1e4,u),this.Wa=ha("forwardChannelMaxRetries",2,u),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new oa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xa.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,A){de(0),this.W=u,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Jo(this,null,this.W),Wa(this)};function fl(u){if(Yo(u),u.G==3){var p=u.U++,_=An(u.I);if(re(_,"SID",u.K),re(_,"RID",p),re(_,"TYPE","terminate"),fa(u,_),p=new cn(u,u.j,p),p.L=2,p.v=aa(An(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=tu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ea(p)}Wo(u)}function Za(u){u.g&&(da(u),u.g.cancel(),u.g=null)}function Yo(u){Za(u),u.u&&(m.clearTimeout(u.u),u.u=null),Ja(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Wa(u){if(!qa(u.h)&&!u.s){u.s=!0;var p=u.Ga;X||O(),ot||(X(),ot=!0),gt.add(p,u),u.B=0}}function oh(u,p){return Ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Re(x(u.Ga,u,p),pl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const G=new cn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=R(W),j(W,this.S)):W=this.S),this.m!==null||this.O||(G.H=W,W=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Ko(this,G,p),_=An(this.I),re(_,"RID",u),re(_,"CVER",22),this.D&&re(_,"X-HTTP-Session-Id",this.D),fa(this,_),W&&(this.O?p="headers="+encodeURIComponent(String(hl(W)))+"&"+p:this.m&&Be(_,this.m,W)),Ga(this.h,G),this.Ua&&re(_,"TYPE","init"),this.P?(re(_,"$req",p),re(_,"SID","null"),G.T=!0,$n(G,_,null)):$n(G,_,p),this.G=2}}else this.G==3&&(u?dl(this,u):this.i.length==0||qa(this.h)||dl(this))};function dl(u,p){var _;p?_=p.l:_=u.U++;const A=An(u.I);re(A,"SID",u.K),re(A,"RID",_),re(A,"AID",u.T),fa(u,A),u.m&&u.o&&Be(A,u.m,u.o),_=new cn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ko(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ga(u.h,_),$n(_,A,p)}function fa(u,p){u.H&&yt(u.H,function(_,A){re(p,A,_)}),u.l&&sl({},function(_,A){re(p,A,_)})}function Ko(u,p,_){_=Math.min(u.i.length,_);var A=u.l?x(u.l.Na,u.l,u):null;t:{var G=u.i;let W=-1;for(;;){const mt=["count="+_];W==-1?0<_?(W=G[0].g,mt.push("ofs="+W)):W=0:mt.push("ofs="+W);let Ht=!0;for(let Oe=0;Oe<_;Oe++){let Gt=G[Oe].g;const ze=G[Oe].map;if(Gt-=W,0>Gt)W=Math.max(0,G[Oe].g-100),Ht=!1;else try{ci(ze,mt,"req"+Gt+"_")}catch{A&&A(ze)}}if(Ht){A=mt.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,A}function $o(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;X||O(),ot||(X(),ot=!0),gt.add(p,u),u.v=0}}function ml(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Re(x(u.Fa,u),pl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Re(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Za(this),Xo(this))};function da(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Xo(u){u.g=new cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=An(u.qa);re(p,"RID","rpc"),re(p,"SID",u.K),re(p,"AID",u.T),re(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&re(p,"TO",u.ja),re(p,"TYPE","xmlhttp"),fa(u,p),u.m&&u.o&&Be(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=aa(An(p)),_.m=null,_.P=!0,Mi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Za(this),ml(this),de(19))};function Ja(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Zo(u,p){var _=null;if(u.g==p){Ja(u),da(u),u.g=null;var A=2}else if(rl(u.h,p))_=p.D,hn(u.h,p),A=1;else return;if(u.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var G=u.B;A=hr(),dt(A,new Ne(A,_)),Wa(u)}else $o(u);else if(G=p.s,G==3||G==0&&0<p.X||!(A==1&&oh(u,p)||A==2&&ml(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),G){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function pl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function zi(u,p){if(u.j.info("Error code "+p),p==2){var _=x(u.fb,u),A=u.Xa;const G=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ra(A,"https"),aa(A),G?la(A.toString(),_):Xn(A.toString(),_)}else de(2);u.G=0,u.l&&u.l.sa(p),Wo(u),Yo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Wo(u){if(u.G=0,u.ka=[],u.l){const p=al(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Jo(u,p,_){var A=_ instanceof we?An(_):new we(_);if(A.g!="")p&&(A.g=p+"."+A.g),gr(A,A.s);else{var G=m.location;A=G.protocol,p=p?p+"."+G.hostname:G.hostname,G=+G.port;var W=new we(null);A&&ra(W,A),p&&(W.g=p),G&&gr(W,G),_&&(W.l=_),A=W}return _=u.D,p=u.ya,_&&p&&re(A,_,p),re(A,"VER",u.la),fa(u,A),A}function tu(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Jt(new yr({eb:_})):new Jt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ts(){}ts.prototype.g=function(u,p){return new fn(u,p)};function fn(u,p){ct.call(this),this.g=new Xa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!H(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!H(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new mi(this)}I(fn,ct),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){fl(this.g)},fn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Pe(u),u=_);p.i.push(new qo(p.Ya++,u)),p.G==3&&Wa(p)},fn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,fn.aa.N.call(this)};function nu(u){Ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}I(nu,Ni);function iu(){tl.call(this),this.status=1}I(iu,tl);function mi(u){this.g=u}I(mi,eu),mi.prototype.ua=function(){dt(this.g,"a")},mi.prototype.ta=function(u){dt(this.g,new nu(u))},mi.prototype.sa=function(u){dt(this.g,new iu)},mi.prototype.ra=function(){dt(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,e0=function(){return new ts},t0=function(){return hr()},Jv=ai,Ad={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,dc=mr,Oi.COMPLETE="complete",Wv=Oi,Js.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,so=Js,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,Zv=Jt}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",x_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Gv("@firebase/firestore");function Ds(){return Na.logLevel}function _t(r,...e){if(Na.logLevel<=Yt.DEBUG){const i=e.map(nm);Na.debug(`Firestore (${Qs}): ${r}`,...i)}}function lr(r,...e){if(Na.logLevel<=Yt.ERROR){const i=e.map(nm);Na.error(`Firestore (${Qs}): ${r}`,...i)}}function js(r,...e){if(Na.logLevel<=Yt.WARN){const i=e.map(nm);Na.warn(`Firestore (${Qs}): ${r}`,...i)}}function nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+r;throw lr(e),new Error(e)}function te(r,e){r||Dt()}function Ot(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(sn.UNAUTHENTICATED))}shutdown(){}}class yA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class _A{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){te(this.o===void 0);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new rr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new rr)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string"),new n0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new sn(e)}}class vA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new vA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,JS(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){te(this.o===void 0);const s=c=>{c.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,_t("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new R_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(te(typeof i.token=="string"),this.R=i.token,new R_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Lt(r,e){return r<e?-1:r>e?1:0}function xd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Lt(s,o);{const c=i0(),f=SA(c.encode(w_(r,i)),c.encode(w_(e,i)));return f!==0?f:Lt(s,o)}}i+=s>65535?2:1}return Lt(r.length,e.length)}function w_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function SA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Lt(r[i],e[i]);return Lt(r.length,e.length)}function Us(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,D_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*D_);return new Le(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new vt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C_)throw new vt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new Le(0,0))}static max(){return new It(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&Dt(),s===void 0?s=e.length-i:s>e.length-i&&Dt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Lt(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):xd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class fe extends Ti{construct(e,i,s){return new fe(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new vt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new fe(i)}static emptyPath(){return new fe([])}}const AA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ti{construct(e,i,s){return new tn(e,i,s)}static isValidIdentifier(e){return AA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new tn([I_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new vt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new vt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new vt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new vt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(fe.fromString(e))}static fromName(e){return new bt(fe.fromString(e).popFirst(5))}static empty(){return new bt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return fe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=-1;function xA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new Le(i+1,0):new Le(i,s));return new Gr(o,bt.empty(),e)}function RA(r){return new Gr(r.readTime,r.key,_o)}class Gr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Gr(It.min(),bt.empty(),_o)}static max(){return new Gr(It.max(),bt.empty(),_o)}}function wA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=bt.comparator(r.documentKey,e.documentKey),i!==0?i:Lt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==CA)throw r;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new st((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof st?i:st.resolve(i)}catch(i){return st.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):st.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):st.reject(i)}static resolve(e){return new st((i,s)=>{i(e)})}static reject(e){return new st((i,s)=>{s(e)})}static waitFor(e){return new st((i,s)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},y=>s(y))}),f=!0,c===o&&i()})}static or(e){let i=st.resolve(!1);for(const s of e)i=i.next(o=>o?st.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new st((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const g=y;i(e[g]).next(T=>{f[g]=T,++m,m===c&&s(f)},T=>o(T))}})}static doWhile(e,i){return new st((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function IA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ks(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function Pc(r){return r==null}function Ac(r){return r===0&&1/r==-1/0}function VA(r){return typeof r=="number"&&Number.isInteger(r)&&!Ac(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="";function NA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=V_(e)),e=OA(r.get(i),e);return V_(e)}function OA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case a0:i+="";break;default:i+=c}}return i}function V_(r){return r+a0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function s0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new ve(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}}class sc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Je(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new ke(this.comparator);return i.data=e,i}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new ke(tn.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new l0("Invalid base64 string: "+c):c}}(e);return new en(i)}static fromUint8Array(e){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const MA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(te(!!r),typeof r=="string"){let e=0;const i=MA.exec(r);if(te(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xe(r.seconds),nanos:xe(r.nanos)}}function xe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="server_timestamp",u0="__type__",c0="__previous_value__",h0="__local_write_time__";function rm(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[u0])===null||i===void 0?void 0:i.stringValue)===o0}function Bc(r){const e=r.mapValue.fields[c0];return rm(e)?Bc(e):e}function vo(r){const e=Fr(r.mapValue.fields[h0].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,s,o,c,f,m,y,g){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g}}const xc="(default)";class Eo{constructor(e,i){this.projectId=e,this.database=i||xc}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database===xc}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__type__",UA="__max__",lc={mapValue:{}},d0="__vector__",Rc="value";function Yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rm(r)?4:kA(r)?9007199254740991:LA(r)?10:11:Dt()}function Ai(r,e){if(r===e)return!0;const i=Yr(r);if(i!==Yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vo(r).isEqual(vo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Fr(o.timestampValue),m=Fr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Qr(o.bytesValue).isEqual(Qr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return xe(o.geoPointValue.latitude)===xe(c.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return xe(o.integerValue)===xe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=xe(o.doubleValue),m=xe(c.doubleValue);return f===m?Ac(f)===Ac(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Us(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(N_(f)!==N_(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Ai(f[y],m[y])))return!1;return!0}(r,e);default:return Dt()}}function To(r,e){return(r.values||[]).find(i=>Ai(i,e))!==void 0}function Ls(r,e){if(r===e)return 0;const i=Yr(r),s=Yr(e);if(i!==s)return Lt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,e.booleanValue);case 2:return function(c,f){const m=xe(c.integerValue||c.doubleValue),y=xe(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,e);case 3:return M_(r.timestampValue,e.timestampValue);case 4:return M_(vo(r),vo(e));case 5:return xd(r.stringValue,e.stringValue);case 6:return function(c,f){const m=Qr(c),y=Qr(f);return m.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const T=Lt(m[g],y[g]);if(T!==0)return T}return Lt(m.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Lt(xe(c.latitude),xe(f.latitude));return m!==0?m:Lt(xe(c.longitude),xe(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return j_(r.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,g,T;const S=c.fields||{},x=f.fields||{},D=(m=S[Rc])===null||m===void 0?void 0:m.arrayValue,I=(y=x[Rc])===null||y===void 0?void 0:y.arrayValue,F=Lt(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((T=I==null?void 0:I.values)===null||T===void 0?void 0:T.length)||0);return F!==0?F:j_(D,I)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===lc.mapValue&&f===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(f===lc.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),g=f.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const x=xd(y[S],T[S]);if(x!==0)return x;const D=Ls(m[y[S]],g[T[S]]);if(D!==0)return D}return Lt(y.length,T.length)}(r.mapValue,e.mapValue);default:throw Dt()}}function M_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Lt(r,e);const i=Fr(r),s=Fr(e),o=Lt(i.seconds,s.seconds);return o!==0?o:Lt(i.nanos,s.nanos)}function j_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ls(i[o],s[o]);if(c)return c}return Lt(i.length,s.length)}function ks(r){return Rd(r)}function Rd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Fr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Qr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return bt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Rd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Rd(i.fields[f])}`;return o+"}"}(r.mapValue):Dt()}function mc(r){switch(Yr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bc(r);return e?16+mc(e):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+mc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Xr(s.fields,(c,f)=>{o+=c.length+mc(f)}),o}(r.mapValue);default:throw Dt()}}function U_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wd(r){return!!r&&"integerValue"in r}function am(r){return!!r&&"arrayValue"in r}function L_(r){return!!r&&"nullValue"in r}function k_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function pc(r){return!!r&&"mapValue"in r}function LA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[f0])===null||i===void 0?void 0:i.stringValue)===d0}function co(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=co(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=co(r.arrayValue.values[i]);return e}return Object.assign({},r)}function kA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(i)}setAll(e){let i=tn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=co(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Xr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new bn(co(this.value))}}function m0(r){const e=[];return Xr(r.fields,(i,s)=>{const o=new tn([i]);if(pc(s)){const c=m0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i,s,o,c,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,It.min(),It.min(),It.min(),bn.empty(),0)}static newFoundDocument(e,i,s,o){return new ln(e,1,i,It.min(),s,o,0)}static newNoDocument(e,i){return new ln(e,2,i,It.min(),It.min(),bn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,It.min(),It.min(),bn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i){this.position=e,this.inclusive=i}}function P_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=bt.comparator(bt.fromName(f.referenceValue),i.key):s=Ls(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function B_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i="asc"){this.field=e,this.dir=i}}function PA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{}class Ve extends p0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new zA(e,i,s):i==="array-contains"?new GA(e,s):i==="in"?new FA(e,s):i==="not-in"?new QA(e,s):i==="array-contains-any"?new YA(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new qA(e,s):new HA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ls(i,this.value)):i!==null&&Yr(this.value)===Yr(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends p0{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ei(e,i)}matches(e){return g0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function g0(r){return r.op==="and"}function y0(r){return BA(r)&&g0(r)}function BA(r){for(const e of r.filters)if(e instanceof ei)return!1;return!0}function Cd(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+ks(r.value);if(y0(r))return r.filters.map(e=>Cd(e)).join(",");{const e=r.filters.map(i=>Cd(i)).join(",");return`${r.op}(${e})`}}function _0(r,e){return r instanceof Ve?function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(r,e):r instanceof ei?function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&_0(f,o.filters[m]),!0):!1}(r,e):void Dt()}function v0(r){return r instanceof Ve?function(i){return`${i.field.canonicalString()} ${i.op} ${ks(i.value)}`}(r):r instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(v0).join(" ,")+"}"}(r):"Filter"}class zA extends Ve{constructor(e,i,s){super(e,i,s),this.key=bt.fromName(s.referenceValue)}matches(e){const i=bt.comparator(e.key,this.key);return this.matchesComparison(i)}}class qA extends Ve{constructor(e,i){super(e,"in",i),this.keys=E0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class HA extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=E0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function E0(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>bt.fromName(s.referenceValue))}class GA extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return am(i)&&To(i.arrayValue,this.value)}}class FA extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&To(this.value.arrayValue,i)}}class QA extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!To(this.value.arrayValue,i)}}class YA extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!am(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>To(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function z_(r,e=null,i=[],s=[],o=null,c=null,f=null){return new KA(r,e,i,s,o,c,f)}function sm(r){const e=Ot(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Cd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ks(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ks(s)).join(",")),e.le=i}return e.le}function lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!PA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!_0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!B_(r.startAt,e.startAt)&&B_(r.endAt,e.endAt)}function Dd(r){return bt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,i=null,s=[],o=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $A(r,e,i,s,o,c,f,m){return new wo(r,e,i,s,o,c,f,m)}function zc(r){return new wo(r)}function q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function T0(r){return r.collectionGroup!==null}function ho(r){const e=Ot(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ke(tn.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new Cc(c,s))}),i.has(tn.keyField().canonicalString())||e.he.push(new Cc(tn.keyField(),s))}return e.he}function bi(r){const e=Ot(r);return e.Pe||(e.Pe=XA(e,ho(r))),e.Pe}function XA(r,e){if(r.limitType==="F")return z_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Cc(o.field,c)});const i=r.endAt?new wc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wc(r.startAt.position,r.startAt.inclusive):null;return z_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Id(r,e){const i=r.filters.concat([e]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Vd(r,e,i){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function qc(r,e){return lm(bi(r),bi(e))&&r.limitType===e.limitType}function b0(r){return`${sm(bi(r))}|lt:${r.limitType}`}function Is(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>v0(o)).join(", ")}]`),Pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>ks(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>ks(o)).join(",")),`Target(${s})`}(bi(r))}; limitType=${r.limitType})`}function Hc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):bt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of ho(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,y){const g=P_(f,m,y);return f.inclusive?g<=0:g<0}(s.startAt,ho(s),o)||s.endAt&&!function(f,m,y){const g=P_(f,m,y);return f.inclusive?g>=0:g>0}(s.endAt,ho(s),o))}(r,e)}function ZA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function S0(r){return(e,i)=>{let s=!1;for(const o of ho(r)){const c=WA(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function WA(r,e,i){const s=r.field.isKeyField()?bt.comparator(e.key,i.key):function(c,f,m){const y=f.data.field(c),g=m.data.field(c);return y!==null&&g!==null?Ls(y,g):Dt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return s0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new ve(bt.comparator);function or(){return JA}const A0=new ve(bt.comparator);function lo(...r){let e=A0;for(const i of r)e=e.insert(i.key,i);return e}function x0(r){let e=A0;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Va(){return fo()}function R0(){return fo()}function fo(){return new Ua(r=>r.toString(),(r,e)=>r.isEqual(e))}const tx=new ve(bt.comparator),ex=new ke(bt.comparator);function zt(...r){let e=ex;for(const i of r)e=e.add(i);return e}const nx=new ke(Lt);function ix(){return nx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function w0(r){return{integerValue:""+r}}function rx(r,e){return VA(e)?w0(e):om(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function ax(r,e,i){return r instanceof bo?function(o,c){const f={fields:{[u0]:{stringValue:o0},[h0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&rm(c)&&(c=Bc(c)),c&&(f.fields[c0]=c),{mapValue:f}}(i,e):r instanceof So?D0(r,e):r instanceof Ao?I0(r,e):function(o,c){const f=C0(o,c),m=H_(f)+H_(o.Ie);return wd(f)&&wd(o.Ie)?w0(m):om(o.serializer,m)}(r,e)}function sx(r,e,i){return r instanceof So?D0(r,e):r instanceof Ao?I0(r,e):i}function C0(r,e){return r instanceof Dc?function(s){return wd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class bo extends Gc{}class So extends Gc{constructor(e){super(),this.elements=e}}function D0(r,e){const i=V0(e);for(const s of r.elements)i.some(o=>Ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class Ao extends Gc{constructor(e){super(),this.elements=e}}function I0(r,e){let i=V0(e);for(const s of r.elements)i=i.filter(o=>!Ai(o,s));return{arrayValue:{values:i}}}class Dc extends Gc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function H_(r){return xe(r.integerValue||r.doubleValue)}function V0(r){return am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,i){this.field=e,this.transform=i}}function ox(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof So&&o instanceof So||s instanceof Ao&&o instanceof Ao?Us(s.elements,o.elements,Ai):s instanceof Dc&&o instanceof Dc?Ai(s.Ie,o.Ie):s instanceof bo&&o instanceof bo}(r.transform,e.transform)}class ux{constructor(e,i){this.version=e,this.transformResults=i}}class pn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fc{}function N0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qc(r.key,pn.none()):new Co(r.key,r.data,pn.none());{const i=r.data,s=bn.empty();let o=new ke(tn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Zr(r.key,s,new Nn(o.toArray()),pn.none())}}function cx(r,e,i){r instanceof Co?function(o,c,f){const m=o.value.clone(),y=F_(o.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Zr?function(o,c,f){if(!gc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=F_(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(O0(o)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(r,e,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function mo(r,e,i,s){return r instanceof Co?function(c,f,m,y){if(!gc(c.precondition,f))return m;const g=c.value.clone(),T=Q_(c.fieldTransforms,y,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,i,s):r instanceof Zr?function(c,f,m,y){if(!gc(c.precondition,f))return m;const g=Q_(c.fieldTransforms,y,f),T=f.data;return T.setAll(O0(c)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,f,m){return gc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,i)}function hx(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=C0(s.transform,o||null);c!=null&&(i===null&&(i=bn.empty()),i.set(s.field,c))}return i||null}function G_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Us(s,o,(c,f)=>ox(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Co extends Fc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zr extends Fc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function O0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function F_(r,e,i){const s=new Map;te(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,sx(f,m,i[o]))}return s}function Q_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,ax(c,f,e))}return s}class Qc extends Fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends Fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&cx(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=mo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=mo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=R0();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const y=N0(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),zt())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(i,s)=>G_(i,s))&&Us(this.baseMutations,e.baseMutations,(i,s)=>G_(i,s))}}class um{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){te(e.mutations.length===s.length);let o=function(){return tx}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new um(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Qt;function gx(r){switch(r){case at.OK:return Dt();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Dt()}}function M0(r){if(r===void 0)return lr("GRPC error has no .code"),at.UNKNOWN;switch(r){case Ie.OK:return at.OK;case Ie.CANCELLED:return at.CANCELLED;case Ie.UNKNOWN:return at.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return at.INTERNAL;case Ie.UNAVAILABLE:return at.UNAVAILABLE;case Ie.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ie.NOT_FOUND:return at.NOT_FOUND;case Ie.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ie.ABORTED:return at.ABORTED;case Ie.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ie.DATA_LOSS:return at.DATA_LOSS;default:return Dt()}}(Qt=Ie||(Ie={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new qr([4294967295,4294967295],0);function Y_(r){const e=i0().encode(r),i=new Xv;return i.update(e),new Uint8Array(i.digest())}function K_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qr([i,s],0),new qr([o,c],0)]}class cm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new oo(`Invalid padding: ${i}`);if(s<0)throw new oo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new oo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=qr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(qr.fromNumber(s)));return o.compare(yx)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new cm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const i=Y_(e),[s,o]=K_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Do.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Yc(It.min(),o,new ve(Lt),or(),zt())}}class Do{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Do(s,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class j0{constructor(e,i){this.targetId=e,this.ge=i}}class U0{constructor(e,i,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class $_{constructor(){this.pe=0,this.ye=X_(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=zt(),i=zt(),s=zt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Dt()}}),new Do(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=X_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _x{constructor(e){this.ke=e,this.qe=new Map,this.Qe=or(),this.$e=oc(),this.Ue=oc(),this.Ke=new ve(Lt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Dd(c))if(s===0){const f=new bt(c.path);this.ze(i,f,ln.newNoDocument(f,It.min()))}else te(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(e),y=m?this.nt(m,e,f):1;if(y!==0){this.Ye(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=Qr(s).toUint8Array()}catch(y){if(y instanceof l0)return js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new cm(f,o,c)}catch(y){return js(y instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&Dd(m.target)){const y=new bt(m.target.path);this._t(y).has(f)||this.ut(f,y)||this.ze(f,y,ln.newNoDocument(y,e))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=zt();this.Ue.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const g=this.Xe(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(e));const o=new Yc(e,i,this.Ke,this.Qe,s);return this.Qe=or(),this.$e=oc(),this.Ue=oc(),this.Ke=new ve(Lt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new $_,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new ke(Lt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new ke(Lt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||_t("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function oc(){return new ve(bt.comparator)}function X_(){return new ve(bt.comparator)}const vx={asc:"ASCENDING",desc:"DESCENDING"},Ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tx={and:"AND",or:"OR"};class bx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nd(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function Ic(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Sx(r,e){return Ic(r,e.toTimestamp())}function Si(r){return te(!!r),It.fromTimestamp(function(i){const s=Fr(i);return new Le(s.seconds,s.nanos)}(r))}function hm(r,e){return Od(r,e).canonicalString()}function Od(r,e){const i=function(o){return new fe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function k0(r){const e=fe.fromString(r);return te(H0(e)),e}function Md(r,e){return hm(r.databaseId,e.path)}function fd(r,e){const i=k0(e);if(i.get(1)!==r.databaseId.projectId)throw new vt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new vt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new bt(B0(i))}function P0(r,e){return hm(r.databaseId,e)}function Ax(r){const e=k0(r);return e.length===4?fe.emptyPath():B0(e)}function jd(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B0(r){return te(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Z_(r,e,i){return{name:Md(r,e),fields:i.value.mapValue.fields}}function xx(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,T){return g.useProto3Json?(te(T===void 0||typeof T=="string"),en.fromBase64String(T||"")):(te(T===void 0||T instanceof Buffer||T instanceof Uint8Array),en.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?at.UNKNOWN:M0(g.code);return new vt(T,g.message||"")}(f);i=new U0(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fd(r,s.document.name),c=Si(s.document.updateTime),f=s.document.createTime?Si(s.document.createTime):It.min(),m=new bn({mapValue:{fields:s.document.fields}}),y=ln.newFoundDocument(o,c,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];i=new yc(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fd(r,s.document),c=s.readTime?Si(s.readTime):It.min(),f=ln.newNoDocument(o,c),m=s.removedTargetIds||[];i=new yc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fd(r,s.document),c=s.removedTargetIds||[];i=new yc([],c,o,null)}else{if(!("filter"in e))return Dt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new px(o,c),m=s.targetId;i=new j0(m,f)}}return i}function Rx(r,e){let i;if(e instanceof Co)i={update:Z_(r,e.key,e.value)};else if(e instanceof Qc)i={delete:Md(r,e.key)};else if(e instanceof Zr)i={update:Z_(r,e.key,e.data),updateMask:jx(e.fieldMask)};else{if(!(e instanceof fx))return Dt();i={verify:Md(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof bo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof So)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ao)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Dt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Sx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Dt()}(r,e.precondition)),i}function wx(r,e){return r&&r.length>0?(te(e!==void 0),r.map(i=>function(o,c){let f=o.updateTime?Si(o.updateTime):Si(c);return f.isEqual(It.min())&&(f=Si(c)),new ux(f,o.transformResults||[])}(i,e))):[]}function Cx(r,e){return{documents:[P0(r,e.path)]}}function Dx(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=P0(r,o);const c=function(g){if(g.length!==0)return q0(ei.create(g,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const f=function(g){if(g.length!==0)return g.map(T=>function(x){return{field:Vs(x.field),direction:Nx(x.dir)}}(T))}(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Nd(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:i,parent:o}}function Ix(r){let e=Ax(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){te(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=function(S){const x=z0(S);return x instanceof ei&&y0(x)?x.getFilters():[x]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(x=>function(I){return new Cc(Ns(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(x))}(i.orderBy));let m=null;i.limit&&(m=function(S){let x;return x=typeof S=="object"?S.value:S,Pc(x)?null:x}(i.limit));let y=null;i.startAt&&(y=function(S){const x=!!S.before,D=S.values||[];return new wc(D,x)}(i.startAt));let g=null;return i.endAt&&(g=function(S){const x=!S.before,D=S.values||[];return new wc(D,x)}(i.endAt)),$A(e,o,f,c,m,"F",y,g)}function Vx(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function z0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ns(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ns(i.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(r):r.fieldFilter!==void 0?function(i){return Ve.create(Ns(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(s=>z0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt()}}(i.compositeFilter.op))}(r):Dt()}function Nx(r){return vx[r]}function Ox(r){return Ex[r]}function Mx(r){return Tx[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function Ns(r){return tn.fromServerFormat(r.fieldPath)}function q0(r){return r instanceof Ve?function(i){if(i.op==="=="){if(k_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(L_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(L_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:Ox(i.op),value:i.value}}}(r):r instanceof ei?function(i){const s=i.getFilters().map(o=>q0(o));return s.length===1?s[0]:{compositeFilter:{op:Mx(i.op),filters:s}}}(r):Dt()}function jx(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function H0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,i,s,o,c=It.min(),f=It.min(),m=en.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.Tt=e}}function Lx(r){const e=Ix({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Tn=new Px}addToCollectionParentIndex(e,i){return this.Tn.add(i),st.resolve()}getCollectionParents(e,i){return st.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return st.resolve()}deleteFieldIndex(e,i){return st.resolve()}deleteAllFieldIndexes(e){return st.resolve()}createTargetIndexes(e,i){return st.resolve()}getDocumentsMatchingTarget(e,i){return st.resolve(null)}getIndexType(e,i){return st.resolve(0)}getFieldIndexes(e,i){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}getMinOffset(e,i){return st.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,i){return st.resolve(Gr.min())}updateCollectionGroup(e,i,s){return st.resolve()}updateIndexEntries(e,i){return st.resolve()}}class Px{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new ke(fe.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new ke(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G0=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(G0,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ps(0)}static Kn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",Bx=1048576;function tv([r,e],[i,s]){const o=Lt(r,i);return o===0?Lt(e,s):o}class zx{constructor(e){this.Hn=e,this.buffer=new ke(tv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qx{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_t(J_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ks(i)?_t(J_,"Ignoring IndexedDB error during garbage collection: ",i):await Ys(i)}await this.er(3e5)})}}class Hx{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return st.resolve(kc.ae);const s=new zx(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(W_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,f,m,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Ds()<=Yt.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function Gx(r,e){return new Hx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.changes=new Ua(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?st.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&mo(s.mutation,o,Nn.empty(),Le.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,zt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=zt()){const o=Va();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let f=lo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,i){const s=Va();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,zt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(e,i,s,o){let c=or();const f=fo(),m=function(){return fo()}();return i.forEach((y,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Zr)?c=c.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),mo(T.mutation,g,T.mutation.getFieldMask(),Le.now())):f.set(g.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((g,T)=>f.set(g,T)),i.forEach((g,T)=>{var S;return m.set(g,new Qx(T,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,i){const s=fo();let o=new ve((f,m)=>f-m),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(f=>{for(const m of f)m.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let T=s.get(y)||Nn.empty();T=m.applyToLocalView(g,T),s.set(y,T);const S=(o.get(m.batchId)||zt()).add(y);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,T=y.value,S=R0();T.forEach(x=>{if(!c.has(x)){const D=N0(i.get(x),s.get(x));D!==null&&S.set(x,D),c=c.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return st.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(f){return bt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):T0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):st.resolve(Va());let m=_o,y=c;return f.next(g=>st.forEach(g,(T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(T)?st.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{y=y.insert(T,x)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,y,g,zt())).next(T=>({batchId:m,changes:x0(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new bt(i)).next(s=>{let o=lo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let f=lo();return this.indexManager.getCollectionParents(e,c).next(m=>st.forEach(m,y=>{const g=function(S,x){return new wo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((S,x)=>{f=f.insert(S,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(f=>{c.forEach((y,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,ln.newInvalidDocument(T)))});let m=lo();return f.forEach((y,g)=>{const T=c.get(y);T!==void 0&&mo(T.mutation,g,Nn.empty(),Le.now()),Hc(i,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return st.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}}(i)),st.resolve()}getNamedQuery(e,i){return st.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Lx(o.bundledQuery),readTime:Si(o.readTime)}}(i)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.overlays=new ve(bt.comparator),this.Rr=new Map}getOverlay(e,i){return st.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Va();return st.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),st.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),st.resolve()}getOverlaysForCollection(e,i,s){const o=Va(),c=i.length+1,f=new bt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return st.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ve((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let T=c.get(g.largestBatchId);T===null&&(T=Va(),c=c.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Va(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return st.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mx(i,s));let c=this.Rr.get(i);c===void 0&&(c=zt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return st.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Vr=new ke(Fe.mr),this.gr=new ke(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Fe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Fe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new bt(new fe([])),s=new Fe(i,e),o=new Fe(i,e+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new bt(new fe([])),s=new Fe(i,e),o=new Fe(i,e+1);let c=zt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const i=new Fe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Fe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return bt.comparator(e.key,i.key)||Lt(e.Cr,i.Cr)}static pr(e,i){return Lt(e.Cr,i.Cr)||bt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Fe.mr)}checkEmpty(e){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dx(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Fe(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(e,i){return st.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return st.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?im:this.Fr-1)}getAllMutationBatches(e){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);c.push(m)}),st.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new ke(Lt);return i.forEach(o=>{const c=new Fe(o,0),f=new Fe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),st.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;bt.isDocumentKey(c)||(c=c.child(""));const f=new Fe(new bt(c),0);let m=new ke(Lt);return this.Mr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Cr)),!0)},f),st.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){te(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return st.forEach(i.mutations,o=>{const c=new Fe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Fe(i,0),o=this.Mr.firstAfterOrEqual(s);return st.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,st.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.kr=e,this.docs=function(){return new ve(bt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return st.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let s=or();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))}),st.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=or();const f=i.path,m=new bt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||wA(RA(T),s)<=0||(o.has(T.key)||Hc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return st.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Dt()}qr(e,i){return st.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Jx(this)}getSize(e){return st.resolve(this.size)}}class Jx extends Fx{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),st.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.persistence=e,this.Qr=new Ua(i=>sm(i),lm),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.$r=0,this.Ur=new fm,this.targetCount=0,this.Kr=Ps.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),st.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Ps(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,st.resolve()}updateTargetData(e,i){return this.zn(i),st.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),st.waitFor(c).next(()=>o)}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return st.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),st.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),st.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),st.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return st.resolve(s)}containsKey(e,i){return st.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new kc(0),this.zr=!1,this.zr=!0,this.jr=new Xx,this.referenceDelegate=e(this),this.Hr=new tR(this),this.indexManager=new kx,this.remoteDocumentCache=function(o){return new Wx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Ux(i),this.Yr=new Kx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $x,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new Zx(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){_t("MemoryPersistence","Starting transaction:",e);const o=new eR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return st.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class eR extends DA{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.ti=new fm,this.ni=null}static ri(e){return new dm(e)}get ii(){if(this.ni)return this.ni;throw Dt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),st.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),st.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),st.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.ii,s=>{const o=bt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,It.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return st.or([()=>st.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Vc{constructor(e,i){this.persistence=e,this.oi=new Ua(s=>NA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Gx(this,i)}static ri(e,i){return new Vc(e,i)}Zr(){}Xr(e){return st.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return st.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?st.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,i).next(m=>{m||(s++,c.removeEntry(f,It.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),st.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),st.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),st.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),st.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=mc(e.data.value)),i}ar(e,i,s){return st.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return X1()?8:IA(K1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new nR;return this._s(e,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,f,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(Ds()<=Yt.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",Is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),st.resolve()):(Ds()<=Yt.DEBUG&&_t("QueryEngine","Query:",Is(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ds()<=Yt.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",Is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):st.resolve())}rs(e,i){if(q_(i))return st.resolve(null);let s=bi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Vd(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=zt(...c);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.cs(i,m);return this.ls(i,g,f,y.readTime)?this.rs(e,Vd(i,null,"F")):this.hs(e,g,i,y)}))})))}ss(e,i,s,o){return q_(i)||o.isEqual(It.min())?st.resolve(null):this.ns.getDocuments(e,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,o)?st.resolve(null):(Ds()<=Yt.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Is(i)),this.hs(e,f,i,xA(o,_o)).next(m=>m))})}cs(e,i){let s=new ke(S0(e));return i.forEach((o,c)=>{Hc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return Ds()<=Yt.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",Is(i)),this.ns.getDocumentsMatchingQuery(e,i,Gr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="LocalStore",rR=3e8;class aR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ve(Lt),this.Is=new Ua(c=>sm(c),lm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function sR(r,e,i,s){return new aR(r,e,i,s)}async function Q0(r,e){const i=Ot(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=zt();for(const g of o){f.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of c){m.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function lR(r,e){const i=Ot(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,y,g,T){const S=g.batch,x=S.keys();let D=st.resolve();return x.forEach(I=>{D=D.next(()=>T.getEntry(y,I)).next(F=>{const N=g.docVersions.get(I);te(N!==null),F.version.compareTo(N)<0&&(S.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),T.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(y,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Y0(r){const e=Ot(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function oR(r,e){const i=Ot(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((T,S)=>{const x=o.get(S);if(!x)return;m.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,S)));let D=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(en.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(S,D),function(F,N,P){return F.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=rR?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(x,D,T)&&m.push(i.Hr.updateTargetData(c,D))});let y=or(),g=zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(uR(c,f,e.documentUpdates).next(T=>{y=T.Vs,g=T.fs})),!s.isEqual(It.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return st.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,g)).next(()=>y)}).then(c=>(i.Ts=o,c))}function uR(r,e,i){let s=zt(),o=zt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=or();return i.forEach((m,y)=>{const g=c.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(It.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):_t(pm,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{Vs:f,fs:o}})}function cR(r,e){const i=Ot(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hR(r,e){const i=Ot(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,st.resolve(o)):i.Hr.allocateTargetId(s).next(f=>(o=new Pr(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ud(r,e,i){const s=Ot(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ks(f))throw f;_t(pm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function ev(r,e,i){const s=Ot(r);let o=It.min(),c=zt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,g,T){const S=Ot(y),x=S.Is.get(T);return x!==void 0?st.resolve(S.Ts.get(x)):S.Hr.getTargetData(g,T)}(s,f,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,i?o:It.min(),i?c:zt())).next(m=>(fR(s,ZA(e),m),{documents:m,gs:c})))}function fR(r,e,i){let s=r.Es.get(e)||It.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class nv{constructor(){this.activeTargetIds=ix()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dR{constructor(){this.ho=new nv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class rv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_t(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_t(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Ld(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===xc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const f=Ld(),m=this.bo(e,i.toUriEncodedString());_t(dd,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,c),this.vo(e,m,y,s).then(g=>(_t(dd,`Received RPC '${e}' ${f}: `,g),g),g=>{throw js(dd,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,i,s,o,c,f){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=pR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class _R extends gR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Ld();return new Promise((f,m)=>{const y=new Zv;y.setWithCredentials(!0),y.listenOnce(Wv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case dc.NO_ERROR:const T=y.getResponseJson();_t(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case dc.TIMEOUT:_t(an,`RPC '${e}' ${c} timed out`),m(new vt(at.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const S=y.getStatus();if(_t(an,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const I=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(P)>=0?P:at.UNKNOWN}(D.status);m(new vt(I,D.message))}else m(new vt(at.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new vt(at.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{_t(an,`RPC '${e}' ${c} completed.`)}});const g=JSON.stringify(o);_t(an,`RPC '${e}' ${c} sending request:`,o),y.send(i,"POST",g,s,15)})}Wo(e,i,s){const o=Ld(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=e0(),m=t0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=c.join("");_t(an,`Creating RPC '${e}' stream ${o}: ${T}`,y);const S=f.createWebChannel(T,y);let x=!1,D=!1;const I=new yR({Fo:N=>{D?_t(an,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(x||(_t(an,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),_t(an,`RPC '${e}' stream ${o} sending:`,N),S.send(N))},Mo:()=>S.close()}),F=(N,P,H)=>{N.listen(P,q=>{try{H(q)}catch(ht){setTimeout(()=>{throw ht},0)}})};return F(S,so.EventType.OPEN,()=>{D||(_t(an,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),F(S,so.EventType.CLOSE,()=>{D||(D=!0,_t(an,`RPC '${e}' stream ${o} transport closed`),I.Uo())}),F(S,so.EventType.ERROR,N=>{D||(D=!0,js(an,`RPC '${e}' stream ${o} transport errored:`,N),I.Uo(new vt(at.UNAVAILABLE,"The operation could not be completed")))}),F(S,so.EventType.MESSAGE,N=>{var P;if(!D){const H=N.data[0];te(!!H);const q=H,ht=(q==null?void 0:q.error)||((P=q[0])===null||P===void 0?void 0:P.error);if(ht){_t(an,`RPC '${e}' stream ${o} received error:`,ht);const ut=ht.status;let yt=function(w){const j=Ie[w];if(j!==void 0)return M0(j)}(ut),M=ht.message;yt===void 0&&(yt=at.INTERNAL,M="Unknown error status: "+ut+" with message "+ht.message),D=!0,I.Uo(new vt(yt,M)),S.close()}else _t(an,`RPC '${e}' stream ${o} received:`,H),I.Ko(H)}}),F(m,Jv.STAT_EVENT,N=>{N.stat===Ad.PROXY?_t(an,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Ad.NOPROXY&&_t(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r){return new bx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&_t("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class $0{constructor(e,i,s,o,c,f,m,y){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new K0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===at.RESOURCE_EXHAUSTED?(lr(i.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new vt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _t(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(_t(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vR extends $0{constructor(e,i,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=xx(this.serializer,e),s=function(c){if(!("targetChange"in c))return It.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?Si(f.readTime):It.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=jd(this.serializer),i.addTarget=function(c,f){let m;const y=f.target;if(m=Dd(y)?{documents:Cx(c,y)}:{query:Dx(c,y).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=L0(c,f.resumeToken);const g=Nd(c,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(It.min())>0){m.readTime=Ic(c,f.snapshotVersion.toTimestamp());const g=Nd(c,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Vx(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=jd(this.serializer),i.removeTarget=e,this.I_(i)}}class ER extends $0{constructor(e,i,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=wx(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=jd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Rx(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{}class bR extends TR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new vt(at.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,Od(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(at.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Od(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new vt(at.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class SR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(lr(i),this.N_=!1):_t("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class AR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{La(this)&&(_t(Oa,"Restarting streams for network reachability change."),await async function(y){const g=Ot(y);g.W_.add(4),await Io(g),g.j_.set("Unknown"),g.W_.delete(4),await $c(g)}(this))})}),this.j_=new SR(s,o)}}async function $c(r){if(La(r))for(const e of r.G_)await e(!0)}async function Io(r){for(const e of r.G_)await e(!1)}function X0(r,e){const i=Ot(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),vm(i)?_m(i):$s(i).c_()&&ym(i,e))}function gm(r,e){const i=Ot(r),s=$s(i);i.K_.delete(e),s.c_()&&Z0(i,e),i.K_.size===0&&(s.c_()?s.P_():La(i)&&i.j_.set("Unknown"))}function ym(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}$s(r).y_(e)}function Z0(r,e){r.H_.Ne(e),$s(r).w_(e)}function _m(r){r.H_=new _x({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),$s(r).start(),r.j_.B_()}function vm(r){return La(r)&&!$s(r).u_()&&r.K_.size>0}function La(r){return Ot(r).W_.size===0}function W0(r){r.H_=void 0}async function xR(r){r.j_.set("Online")}async function RR(r){r.K_.forEach((e,i)=>{ym(r,e)})}async function wR(r,e){W0(r),vm(r)?(r.j_.q_(e),_m(r)):r.j_.set("Unknown")}async function CR(r,e,i){if(r.j_.set("Online"),e instanceof U0&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){_t(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nc(r,s)}else if(e instanceof yc?r.H_.We(e):e instanceof j0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(It.min()))try{const s=await Y0(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.K_.get(g);T&&c.K_.set(g,T.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,g)=>{const T=c.K_.get(y);if(!T)return;c.K_.set(y,T.withResumeToken(en.EMPTY_BYTE_STRING,T.snapshotVersion)),Z0(c,y);const S=new Pr(T.target,y,g,T.sequenceNumber);ym(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){_t(Oa,"Failed to raise snapshot:",s),await Nc(r,s)}}async function Nc(r,e,i){if(!Ks(e))throw e;r.W_.add(1),await Io(r),r.j_.set("Offline"),i||(i=()=>Y0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{_t(Oa,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await $c(r)})}function J0(r,e){return e().catch(i=>Nc(r,i,e))}async function Xc(r){const e=Ot(r),i=Kr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:im;for(;DR(e);)try{const o=await cR(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,IR(e,o)}catch(o){await Nc(e,o)}tE(e)&&eE(e)}function DR(r){return La(r)&&r.U_.length<10}function IR(r,e){r.U_.push(e);const i=Kr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function tE(r){return La(r)&&!Kr(r).u_()&&r.U_.length>0}function eE(r){Kr(r).start()}async function VR(r){Kr(r).C_()}async function NR(r){const e=Kr(r);for(const i of r.U_)e.b_(i.mutations)}async function OR(r,e,i){const s=r.U_.shift(),o=um.from(s,e,i);await J0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xc(r)}async function MR(r,e){e&&Kr(r).S_&&await async function(s,o){if(function(f){return gx(f)&&f!==at.ABORTED}(o.code)){const c=s.U_.shift();Kr(s).h_(),await J0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Xc(s)}}(r,e),tE(r)&&eE(r)}async function sv(r,e){const i=Ot(r);i.asyncQueue.verifyOperationInProgress(),_t(Oa,"RemoteStore received new credentials");const s=La(i);i.W_.add(3),await Io(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await $c(i)}async function jR(r,e){const i=Ot(r);e?(i.W_.delete(2),await $c(i)):e||(i.W_.add(2),await Io(i),i.j_.set("Unknown"))}function $s(r){return r.J_||(r.J_=function(i,s,o){const c=Ot(i);return c.M_(),new vR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:xR.bind(null,r),No:RR.bind(null,r),Lo:wR.bind(null,r),p_:CR.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),vm(r)?_m(r):r.j_.set("Unknown")):(await r.J_.stop(),W0(r))})),r.J_}function Kr(r){return r.Y_||(r.Y_=function(i,s,o){const c=Ot(i);return c.M_(),new ER(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:VR.bind(null,r),Lo:MR.bind(null,r),D_:NR.bind(null,r),v_:OR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Xc(r)):(await r.Y_.stop(),r.U_.length>0&&(_t(Oa,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const f=Date.now()+s,m=new Em(e,i,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Ks(r))return new vt(at.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||bt.comparator(i.key,s.key):(i,s)=>bt.comparator(i.key,s.key),this.keyedMap=lo(),this.sortedSet=new ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Z_=new ve(bt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):Dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Bs{constructor(e,i,s,o,c,f,m,y,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new Bs(e,i,Ms.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LR{constructor(){this.queries=ov(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=Ot(i),c=o.queries;o.queries=ov(),c.forEach((f,m)=>{for(const y of m.ta)y.onError(s)})})(this,new vt(at.ABORTED,"Firestore shutting down"))}}function ov(){return new Ua(r=>b0(r),qc)}async function bm(r,e){const i=Ot(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new UR,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Tm(f,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&Am(i)}async function Sm(r,e){const i=Ot(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(e);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function kR(r,e){const i=Ot(r);let s=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Am(i)}function PR(r,e,i){const s=Ot(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function Am(r){r.ia.forEach(e=>{e.next()})}var kd,uv;(uv=kd||(kd={}))._a="default",uv.Cache="cache";class xm{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.key=e}}class iE{constructor(e){this.key=e}}class BR{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=S0(e),this.wa=new Ms(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new lv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const x=o.get(T),D=Hc(this.query,S)?S:null,I=!!x&&this.mutatedKeys.has(x.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let N=!1;x&&D?x.data.isEqual(D.data)?I!==F&&(s.track({type:3,doc:D}),N=!0):this.va(x,D)||(s.track({type:2,doc:D}),N=!0,(y&&this.ya(D,y)>0||g&&this.ya(D,g)<0)&&(m=!0)):!x&&D?(s.track({type:0,doc:D}),N=!0):x&&!D&&(s.track({type:1,doc:x}),N=!0,(y||g)&&(m=!0)),N&&(D?(f=f.add(D),c=F?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,S)=>function(D,I){const F=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return F(D)-F(I)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,g=y!==this.ga;return this.ga=y,f.length!==0||g?{snapshot:new Bs(this.query,e.wa,c,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=zt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new iE(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new nE(s))}),i}Oa(e){this.fa=e.gs,this.pa=zt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Bs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rm="SyncEngine";class zR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class qR{constructor(e){this.key=e,this.Ba=!1}}class HR{constructor(e,i,s,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ua(m=>b0(m),qc),this.qa=new Map,this.Qa=new Set,this.$a=new ve(bt.comparator),this.Ua=new Map,this.Ka=new fm,this.Wa={},this.Ga=new Map,this.za=Ps.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GR(r,e,i=!0){const s=uE(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await rE(s,e,i,!0),o}async function FR(r,e){const i=uE(r);await rE(i,e,!0,!1)}async function rE(r,e,i,s){const o=await hR(r.localStore,bi(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await QR(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&X0(r.remoteStore,o),m}async function QR(r,e,i,s,o){r.Ha=(S,x,D)=>async function(F,N,P,H){let q=N.view.ba(P);q.ls&&(q=await ev(F.localStore,N.query,!1).then(({documents:M})=>N.view.ba(M,q)));const ht=H&&H.targetChanges.get(N.targetId),ut=H&&H.targetMismatches.get(N.targetId)!=null,yt=N.view.applyChanges(q,F.isPrimaryClient,ht,ut);return hv(F,N.targetId,yt.Ma),yt.snapshot}(r,S,x,D);const c=await ev(r.localStore,e,!0),f=new BR(e,c.gs),m=f.ba(c.documents),y=Do.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);hv(r,i,g.Ma);const T=new zR(e,i,f);return r.ka.set(e,T),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),g.snapshot}async function YR(r,e,i){const s=Ot(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!qc(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&gm(s.remoteStore,o.targetId),Pd(s,o.targetId)}).catch(Ys)):(Pd(s,o.targetId),await Ud(s.localStore,o.targetId,!0))}async function KR(r,e){const i=Ot(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),gm(i.remoteStore,s.targetId))}async function $R(r,e,i){const s=nw(r);try{const o=await function(f,m){const y=Ot(f),g=Le.now(),T=m.reduce((D,I)=>D.add(I.key),zt());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",D=>{let I=or(),F=zt();return y.ds.getEntries(D,T).next(N=>{I=N,I.forEach((P,H)=>{H.isValidDocument()||(F=F.add(P))})}).next(()=>y.localDocuments.getOverlayedDocuments(D,I)).next(N=>{S=N;const P=[];for(const H of m){const q=hx(H,S.get(H.key).overlayedDocument);q!=null&&P.push(new Zr(H.key,q,m0(q.value.mapValue),pn.exists(!0)))}return y.mutationQueue.addMutationBatch(D,g,P,m)}).next(N=>{x=N;const P=N.applyToLocalDocumentSet(S,F);return y.documentOverlayCache.saveOverlays(D,N.batchId,P)})}).then(()=>({batchId:x.batchId,changes:x0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let g=f.Wa[f.currentUser.toKey()];g||(g=new ve(Lt)),g=g.insert(m,y),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,i),await Vo(s,o.changes),await Xc(s.remoteStore)}catch(o){const c=Tm(o,"Failed to persist write");i.reject(c)}}async function aE(r,e){const i=Ot(r);try{const s=await oR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const f=i.Ua.get(c);f&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?te(f.Ba):o.removedDocuments.size>0&&(te(f.Ba),f.Ba=!1))}),await Vo(i,s,e)}catch(s){await Ys(s)}}function cv(r,e,i){const s=Ot(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Ot(f);y.onlineState=m;let g=!1;y.queries.forEach((T,S)=>{for(const x of S.ta)x.sa(m)&&(g=!0)}),g&&Am(y)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XR(r,e,i){const s=Ot(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let f=new ve(bt.comparator);f=f.insert(c,ln.newNoDocument(c,It.min()));const m=zt().add(c),y=new Yc(It.min(),new Map,new ve(Lt),f,m);await aE(s,y),s.$a=s.$a.remove(c),s.Ua.delete(e),wm(s)}else await Ud(s.localStore,e,!1).then(()=>Pd(s,e,i)).catch(Ys)}async function ZR(r,e){const i=Ot(r),s=e.batch.batchId;try{const o=await lR(i.localStore,e);lE(i,s,null),sE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Vo(i,o)}catch(o){await Ys(o)}}async function WR(r,e,i){const s=Ot(r);try{const o=await function(f,m){const y=Ot(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,m).next(S=>(te(S!==null),T=S.keys(),y.mutationQueue.removeMutationBatch(g,S))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(s.localStore,e);lE(s,e,i),sE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Vo(s,o)}catch(o){await Ys(o)}}function sE(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function lE(r,e,i){const s=Ot(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Pd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||oE(r,s)})}function oE(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(gm(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),wm(r))}function hv(r,e,i){for(const s of i)s instanceof nE?(r.Ka.addReference(s.key,e),JR(r,s)):s instanceof iE?(_t(Rm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||oE(r,s.key)):Dt()}function JR(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(_t(Rm,"New document in limbo: "+i),r.Qa.add(s),wm(r))}function wm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new bt(fe.fromString(e)),s=r.za.next();r.Ua.set(s,new qR(i)),r.$a=r.$a.insert(i,s),X0(r.remoteStore,new Pr(bi(zc(i.path)),s,"TargetPurposeLimboResolution",kc.ae))}}async function Vo(r,e,i){const s=Ot(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,y)=>{f.push(s.Ha(y,e,i).then(g=>{var T;if((g||i)&&s.isPrimaryClient){const S=g?!g.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(g){o.push(g);const S=mm.Yi(y.targetId,g);c.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(y,g){const T=Ot(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>st.forEach(g,x=>st.forEach(x.Hi,D=>T.persistence.referenceDelegate.addReference(S,x.targetId,D)).next(()=>st.forEach(x.Ji,D=>T.persistence.referenceDelegate.removeReference(S,x.targetId,D)))))}catch(S){if(!Ks(S))throw S;_t(pm,"Failed to update sequence numbers: "+S)}for(const S of g){const x=S.targetId;if(!S.fromCache){const D=T.Ts.get(x),I=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(I);T.Ts=T.Ts.insert(x,F)}}}(s.localStore,c))}async function tw(r,e){const i=Ot(r);if(!i.currentUser.isEqual(e)){_t(Rm,"User change. New user:",e.toKey());const s=await Q0(i.localStore,e);i.currentUser=e,function(c,f){c.Ga.forEach(m=>{m.forEach(y=>{y.reject(new vt(at.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vo(i,s.Rs)}}function ew(r,e){const i=Ot(r),s=i.Ua.get(e);if(s&&s.Ba)return zt().add(s.key);{let o=zt();const c=i.qa.get(e);if(!c)return o;for(const f of c){const m=i.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function uE(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ew.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.La.p_=kR.bind(null,e.eventManager),e.La.Ja=PR.bind(null,e.eventManager),e}function nw(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WR.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return sR(this.persistence,new iR,e.initialUser,this.serializer)}Xa(e){return new F0(dm.ri,this.serializer)}Za(e){return new dR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class iw extends Oc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){te(this.persistence.referenceDelegate instanceof Vc);const s=this.persistence.referenceDelegate.garbageCollector;return new qx(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new F0(s=>Vc.ri(s,i),this.serializer)}}class Bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tw.bind(null,this.syncEngine),await jR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LR}()}createDatastore(e){const i=Kc(e.databaseInfo.databaseId),s=function(c){return new _R(c)}(e.databaseInfo);return function(c,f,m,y){return new bR(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,f,m){return new AR(s,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,i=>cv(this.syncEngine,i,0),function(){return rv.D()?new rv:new mR}())}createSyncEngine(e,i){return function(o,c,f,m,y,g,T){const S=new HR(o,c,f,m,y,g);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=Ot(o);_t(Oa,"RemoteStore shutting down."),c.W_.add(5),await Io(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Bd.provider={build:()=>new Bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class rw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=r0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{_t($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(_t($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Tm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pd(r,e){r.asyncQueue.verifyOperationInProgress(),_t($r,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Q0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function fv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await aw(r);_t($r,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>sv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>sv(e.remoteStore,o)),r._onlineComponents=e}async function aw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_t($r,"Using user provided OfflineComponentProvider");try{await pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;js("Error using user provided cache. Falling back to memory cache: "+i),await pd(r,new Oc)}}else _t($r,"Using default OfflineComponentProvider"),await pd(r,new iw(void 0));return r._offlineComponents}async function cE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_t($r,"Using user provided OnlineComponentProvider"),await fv(r,r._uninitializedComponentsProvider._online)):(_t($r,"Using default OnlineComponentProvider"),await fv(r,new Bd))),r._onlineComponents}function sw(r){return cE(r).then(e=>e.syncEngine)}async function Mc(r){const e=await cE(r),i=e.eventManager;return i.onListen=GR.bind(null,e.syncEngine),i.onUnlisten=YR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=FR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KR.bind(null,e.syncEngine),i}function lw(r,e,i={}){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,g){const T=new Cm({next:x=>{T.su(),f.enqueueAndForget(()=>Sm(c,S));const D=x.docs.has(m);!D&&x.fromCache?g.reject(new vt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&x.fromCache&&y&&y.source==="server"?g.reject(new vt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new xm(zc(m.path),T,{includeMetadataChanges:!0,Ta:!0});return bm(c,S)}(await Mc(r),r.asyncQueue,e,i,s)),s.promise}function ow(r,e,i={}){const s=new rr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,g){const T=new Cm({next:x=>{T.su(),f.enqueueAndForget(()=>Sm(c,S)),x.fromCache&&y.source==="server"?g.reject(new vt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new xm(m,T,{includeMetadataChanges:!0,Ta:!0});return bm(c,S)}(await Mc(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r,e,i){if(!i)throw new vt(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function uw(r,e,i,s){if(e===!0&&s===!0)throw new vt(at.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function mv(r){if(!bt.isDocumentKey(r))throw new vt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pv(r){if(bt.isDocumentKey(r))throw new vt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Zc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Dt()}function gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new vt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zc(r);throw new vt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firestore.googleapis.com",gv=!0;class yv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new vt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dE,this.ssl=gv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:gv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bx)throw new vt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new vt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new vt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new vt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new gA;switch(s.type){case"firstParty":return new EA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new vt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=dv.get(i);s&&(_t("ComponentProvider","Removing Datastore"),dv.delete(i),s.terminate())}(this),Promise.resolve()}}function cw(r,e,i,s={}){var o;const c=(r=gn(r,Wc))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==dE&&c.host!==m&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!Tc(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=sn.MOCK_USER;else{g=Y1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new vt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(S)}r._authCredentials=new yA(new n0(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class on{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Hr extends ka{constructor(e,i,s){super(e,i,zc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new bt(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Qe(r,e,...i){if(r=Yn(r),fE("collection","path",e),r instanceof Wc){const s=fe.fromString(e,...i);return pv(s),new Hr(r,null,s)}{if(!(r instanceof on||r instanceof Hr))throw new vt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(e,...i));return pv(s),new Hr(r.firestore,null,s)}}function _e(r,e,...i){if(r=Yn(r),arguments.length===1&&(e=r0.newId()),fE("doc","path",e),r instanceof Wc){const s=fe.fromString(e,...i);return mv(s),new on(r,null,new bt(s))}{if(!(r instanceof on||r instanceof Hr))throw new vt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(e,...i));return mv(s),new on(r.firestore,r instanceof Hr?r.converter:null,new bt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new K0(this,"async_queue_retry"),this.Su=()=>{const s=md();s&&_t(_v,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new rr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ks(e))throw e;_t(_v,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw lr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Em.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function Ev(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class xi extends Wc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function hw(r,e){const i=typeof r=="object"?r:iA(),s=typeof r=="string"?r:xc,o=WS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=F1("firestore");c&&cw(o,...c)}return o}function No(r){if(r._terminated)throw new vt(at.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fw(r),r._firestoreClient}function fw(r){var e,i,s;const o=r._freezeSettings(),c=function(m,y,g,T){return new jA(m,y,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,hE(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(en.fromBase64String(e))}catch(i){throw new vt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zs(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new vt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new vt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new vt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=/^__.*__$/;class mw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Co(e,this.data,i,this.fieldTransforms)}}class mE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Zr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function pE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class Vm{constructor(e,i,s,o,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(pE(this.Lu)&&dw.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Kc(e)}ju(e,i,s,o=!1){return new Vm({Lu:e,methodName:i,zu:s,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mo(r){const e=r._freezeSettings(),i=Kc(r._databaseId);return new pw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Nm(r,e,i,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,e,i,o);Mm("Data must be an object, but it was:",f,s);const m=_E(s,f);let y,g;if(c.merge)y=new Nn(f.fieldMask),g=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const x=zd(e,S,i);if(!f.contains(x))throw new vt(at.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);EE(T,x)||T.push(x)}y=new Nn(T),g=f.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,g=f.fieldTransforms;return new mw(new bn(m),y,g)}class th extends Jc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}class Om extends Jc{_toFieldTransform(e){return new lx(e.path,new bo)}isEqual(e){return e instanceof Om}}function gE(r,e,i,s){const o=r.ju(1,e,i);Mm("Data must be an object, but it was:",o,s);const c=[],f=bn.empty();Xr(s,(y,g)=>{const T=jm(e,y,i);g=Yn(g);const S=o.Uu(T);if(g instanceof th)c.push(T);else{const x=jo(g,S);x!=null&&(c.push(T),f.set(T,x))}});const m=new Nn(c);return new mE(f,m,o.fieldTransforms)}function yE(r,e,i,s,o,c){const f=r.ju(1,e,i),m=[zd(e,s,i)],y=[o];if(c.length%2!=0)throw new vt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)m.push(zd(e,c[x])),y.push(c[x+1]);const g=[],T=bn.empty();for(let x=m.length-1;x>=0;--x)if(!EE(g,m[x])){const D=m[x];let I=y[x];I=Yn(I);const F=f.Uu(D);if(I instanceof th)g.push(D);else{const N=jo(I,F);N!=null&&(g.push(D),T.set(D,N))}}const S=new Nn(g);return new mE(T,S,f.fieldTransforms)}function gw(r,e,i,s=!1){return jo(i,r.ju(s?4:3,e))}function jo(r,e){if(vE(r=Yn(r)))return Mm("Unsupported field value:",e,r),_E(r,e);if(r instanceof Jc)return function(s,o){if(!pE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let y=jo(m,o.Ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Le.fromDate(s);return{timestampValue:Ic(o.serializer,c)}}if(s instanceof Le){const c=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(o.serializer,c)}}if(s instanceof Dm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zs)return{bytesValue:L0(o.serializer,s._byteString)};if(s instanceof on){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Im)return function(f,m){return{mapValue:{fields:{[f0]:{stringValue:d0},[Rc]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return om(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Zc(s)}`)}(r,e)}function _E(r,e){const i={};return s0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(r,(s,o)=>{const c=jo(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function vE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Dm||r instanceof zs||r instanceof on||r instanceof Jc||r instanceof Im)}function Mm(r,e,i){if(!vE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Zc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function zd(r,e,i){if((e=Yn(e))instanceof Oo)return e._internalPath;if(typeof e=="string")return jm(r,e);throw jc("Field path arguments must be of type string or ",r,!1,void 0,i)}const yw=new RegExp("[~\\*/\\[\\]]");function jm(r,e,i){if(e.search(yw)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Oo(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function jc(r,e,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new vt(at.INVALID_ARGUMENT,m+r+y)}function EE(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _w(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _w extends TE{data(){return super.data()}}function Um(r,e){return typeof e=="string"?jm(r,e):e instanceof Oo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new vt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lm{}class vw extends Lm{}function qd(r,e,...i){let s=[];e instanceof Lm&&s.push(e),s=s.concat(i),function(c){const f=c.filter(y=>y instanceof km).length,m=c.filter(y=>y instanceof eh).length;if(f>1||f>0&&m>0)throw new vt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class eh extends vw{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new eh(e,i,s)}_apply(e){const i=this._parse(e);return SE(e._query,i),new ka(e.firestore,e.converter,Id(e._query,i))}_parse(e){const i=Mo(e.firestore);return function(c,f,m,y,g,T,S){let x;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new vt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){bv(S,T);const I=[];for(const F of S)I.push(Tv(y,c,F));x={arrayValue:{values:I}}}else x=Tv(y,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||bv(S,T),x=gw(m,f,S,T==="in"||T==="not-in");return Ve.create(g,T,x)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Hd(r,e,i){const s=e,o=Um("where",r);return eh._create(o,s,i)}class km extends Lm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new km(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:ei.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let f=o;const m=c.getFlattenedFilters();for(const y of m)SE(f,y),f=Id(f,y)}(e._query,i),new ka(e.firestore,e.converter,Id(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tv(r,e,i){if(typeof(i=Yn(i))=="string"){if(i==="")throw new vt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T0(e)&&i.indexOf("/")!==-1)throw new vt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(fe.fromString(i));if(!bt.isDocumentKey(s))throw new vt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return U_(r,new bt(s))}if(i instanceof on)return U_(r,i._key);throw new vt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zc(i)}.`)}function bv(r,e){if(!Array.isArray(r)||r.length===0)throw new vt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SE(r,e){const i=function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new vt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new vt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Ew{convertValue(e,i="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Rc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>xe(f.doubleValue));return new Im(c)}convertGeoPoint(e){return new Dm(xe(e.latitude),xe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Bc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const i=Fr(e);return new Le(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=fe.fromString(e);te(H0(s));const o=new Eo(s.get(1),s.get(3)),c=new bt(s.popFirst(5));return o.isEqual(i)||lr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AE extends TE{constructor(e,i,s,o,c,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Um("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class _c extends AE{data(e={}){return super.data(e)}}class xE{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new uo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new _c(this._firestore,this._userDataWriter,s.key,s,new uo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new _c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new _c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Tw(m.type),doc:y,oldIndex:g,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Tw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){r=gn(r,on);const e=gn(r.firestore,xi);return lw(No(e),r._key).then(i=>DE(e,r,i))}class Bm extends Ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,i)}}function qs(r){r=gn(r,ka);const e=gn(r.firestore,xi),i=No(e),s=new Bm(e);return bE(r._query),ow(i,r._query).then(o=>new xE(e,s,r,o))}function RE(r,e,i){r=gn(r,on);const s=gn(r.firestore,xi),o=Pm(r.converter,e,i);return Uo(s,[Nm(Mo(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,pn.none())])}function wE(r,e,i,...s){r=gn(r,on);const o=gn(r.firestore,xi),c=Mo(o);let f;return f=typeof(e=Yn(e))=="string"||e instanceof Oo?yE(c,"updateDoc",r._key,e,i,s):gE(c,"updateDoc",r._key,e),Uo(o,[f.toMutation(r._key,pn.exists(!0))])}function bw(r){return Uo(gn(r.firestore,xi),[new Qc(r._key,pn.none())])}function CE(r,e){const i=gn(r.firestore,xi),s=_e(r),o=Pm(r.converter,e);return Uo(i,[Nm(Mo(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,pn.exists(!1))]).then(()=>s)}function mn(r,...e){var i,s,o;r=Yn(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||Ev(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Ev(e[f])){const S=e[f];e[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let y,g,T;if(r instanceof on)g=gn(r.firestore,xi),T=zc(r._key.path),y={next:S=>{e[f]&&e[f](DE(g,r,S))},error:e[f+1],complete:e[f+2]};else{const S=gn(r,ka);g=gn(S.firestore,xi),T=S._query;const x=new Bm(g);y={next:D=>{e[f]&&e[f](new xE(g,x,S,D))},error:e[f+1],complete:e[f+2]},bE(r._query)}return function(x,D,I,F){const N=new Cm(F),P=new xm(D,N,I);return x.asyncQueue.enqueueAndForget(async()=>bm(await Mc(x),P)),()=>{N.su(),x.asyncQueue.enqueueAndForget(async()=>Sm(await Mc(x),P))}}(No(g),T,m,y)}function Uo(r,e){return function(s,o){const c=new rr;return s.asyncQueue.enqueueAndForget(async()=>$R(await sw(s),o,c)),c.promise}(No(r),e)}function DE(r,e,i){const s=i.docs.get(e._key),o=new Bm(r);return new AE(r,o,e._key,s,new uo(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Mo(e)}set(e,i,s){this._verifyNotCommitted();const o=gd(e,this._firestore),c=Pm(o.converter,i,s),f=Nm(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,pn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const c=gd(e,this._firestore);let f;return f=typeof(i=Yn(i))=="string"||i instanceof Oo?yE(this._dataReader,"WriteBatch.update",c._key,i,s,o):gE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(f.toMutation(c._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=gd(e,this._firestore);return this._mutations=this._mutations.concat(new Qc(i._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gd(r,e){if((r=Yn(r)).firestore!==e)throw new vt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ia(){return new Om("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(r){return No(r=gn(r,xi)),new Sw(r,e=>Uo(r,e))}(function(e,i=!0){(function(o){Qs=o})(nA),Sc(new go("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new xi(new _A(s.getProvider("auth-internal")),new TA(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new vt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(g.options.projectId,T)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Os(A_,x_,e),Os(A_,x_,"esm2017")})();const Aw={apiKey:"AIzaSyA",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"347137303283",appId:"1:347137303283:web:9369753f976dffcf65cd86"},xw=Yv(Aw),Nt=hw(xw);function Rw({onLoginSuccess:r}){const[e,i]=L.useState(""),[s,o]=L.useState(""),[c,f]=L.useState(""),m=Kd(),y=T=>{const S=(T||"").toString().trim(),x=S.slice(0,6).replace(/[^0-9]/g,""),D=S.slice(6).replace(/[^A-Za-z-]/g,"");return{birth6:x,name:D}},g=async()=>{f("");const T=(e||"").replace(/\s+/g,""),S=(s||"").replace(/[^0-9]/g,"").slice(0,4),{birth6:x,name:D}=y(T);if(x.length!==6||!D){f(" 6+  . : 170806");return}if(S.length!==4){f("    4.");return}try{const I=await qs(Qe(Nt,"students")),F=[];if(I.forEach(P=>{const H=P.data()||{},q=(H.name||"").toString().trim(),ut=(H.birth||"").toString().replace(/[^0-9]/g,"").slice(-6),M=(H.parentPhone||H.parent_phone||H.momPhone||"").toString().replace(/[^0-9]/g,"").slice(-4);ut===x&&q===D&&M===S&&F.push({id:P.id,data:H})}),F.length===0){f("  . (+) ( 4)  .");return}const N=F[0];localStorage.setItem("studentId",N.id),localStorage.setItem("studentName",N.data.name||"");try{await CE(Qe(Nt,"parentLogins"),{studentId:N.id,studentName:N.data.name||"",loginTime:Ia()})}catch(P){console.error("parentLogins   :",P)}r&&r(),m("/attendance")}catch(I){console.error(I),f("   .")}};return E.jsxs("div",{style:{maxWidth:380,margin:"40px auto",padding:16},children:[E.jsx("h1",{style:{fontSize:22,fontWeight:800,marginBottom:12},children:" "}),E.jsx("label",{style:{display:"block",fontWeight:600,marginTop:8},children:""}),E.jsx("input",{value:e,onChange:T=>i(T.target.value),placeholder:": 170806 (6+)",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #d1d5db"}}),E.jsx("label",{style:{display:"block",fontWeight:600,marginTop:12},children:""}),E.jsx("input",{value:s,onChange:T=>o(T.target.value.replace(/[^0-9]/g,"").slice(0,4)),placeholder:"   4",inputMode:"numeric",maxLength:4,style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #d1d5db"}}),E.jsx("button",{onClick:g,style:{width:"100%",padding:12,borderRadius:10,marginTop:16,fontWeight:800,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",cursor:"pointer"},children:""}),c&&E.jsx("div",{style:{color:"#dc3545",marginTop:8},children:c}),E.jsxs("div",{style:{marginTop:12,fontSize:12,color:"#6b7280",lineHeight:1.5},children:[' : 2017-08-06  ""   ',E.jsx("b",{children:"170806"}),",  ",E.jsx("b",{children:"  4"}),E.jsx("br",{})]})]})}function ww(){const r=(localStorage.getItem("studentName")||"").trim(),[e,i]=L.useState({}),[s,o]=L.useState({}),[c,f]=L.useState(()=>new Date().getFullYear()),[m,y]=L.useState(()=>new Date().getMonth());L.useEffect(()=>{const N=mn(Qe(Nt,"attendance"),P=>{const H={};P.forEach(q=>{const ht=q.id,ut=q.data()||{};H[ht]=ut}),i(H)});return()=>N()},[]),L.useEffect(()=>{const N=mn(Qe(Nt,"holidays"),P=>{const H={};P.forEach(q=>{const ht=q.data()||{},ut=(ht.date||"").toString(),yt=(ht.name||"").toString();ut&&(H[ut]=yt||"")}),o(H)});return()=>N()},[]);const g=L.useMemo(()=>r?Object.entries(e).map(([N,P])=>{const H=P==null?void 0:P[r];return H?{date:N,time:H.time||"",departureTime:H.departureTime||"",status:H.status||""}:null}).filter(Boolean).sort((N,P)=>P.date.localeCompare(N.date)):[],[e,r]),T=L.useMemo(()=>{const N=`${c}-${String(m+1).padStart(2,"0")}`;return g.filter(P=>P.date.startsWith(N))},[g,c,m]),S=L.useMemo(()=>{const N=new Date(c,m,1),P=[],H=N.getDay(),q=new Date(N),ht=(H+6)%7;q.setDate(N.getDate()-ht);for(let ut=0;ut<6;ut++){const yt=[],M=new Date(q);M.setDate(q.getDate()+ut*7);for(let R=0;R<7;R++){const w=new Date(M);w.setDate(M.getDate()+R);const j=w.getDay();j>=1&&j<=5&&yt.push(new Date(w))}yt.some(R=>R.getMonth()===m||R.getMonth()!==m&&R.getDate()<=7)&&P.push(yt)}for(;P.length&&P[P.length-1].every(ut=>ut.getMonth()!==m);)P.pop();return P},[c,m]),x=N=>{const P=N.getFullYear(),H=String(N.getMonth()+1).padStart(2,"0"),q=String(N.getDate()).padStart(2,"0");return`${P}-${H}-${q}`},D=`${c} ${String(m+1).padStart(2,"0")}`,I=()=>{const N=new Date(c,m-1,1);f(N.getFullYear()),y(N.getMonth())},F=()=>{const N=new Date(c,m+1,1);f(N.getFullYear()),y(N.getMonth())};return E.jsxs("div",{style:{padding:16},children:[E.jsx("h1",{style:{fontSize:22,fontWeight:800,marginBottom:8},children:" "}),E.jsx("div",{style:{color:"#6b7280",marginBottom:12},children:r?`: ${r}`:"  ."}),E.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,marginBottom:16},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[E.jsx("button",{onClick:I,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer"},children:""}),E.jsx("div",{style:{fontWeight:800},children:D}),E.jsx("button",{onClick:F,style:{padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer"},children:""})]}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8,paddingBottom:8,borderBottom:"1px solid #f1f5f9",fontWeight:700,color:"#6b7280"},children:["","","","",""].map(N=>E.jsx("div",{style:{textAlign:"center"},children:N},N))}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:8,marginTop:8},children:S.map((N,P)=>E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:8},children:N.map(H=>{var M;const q=x(H),ht=H.getMonth()===m,ut=(M=e==null?void 0:e[q])==null?void 0:M[r],yt=!!s[q];return E.jsxs("div",{title:yt?`${q}  ${s[q]}`:q,style:{minHeight:72,border:`1px solid ${yt?"#fecaca":"#e5e7eb"}`,borderRadius:8,padding:8,background:ht?yt?"#fff1f2":"#fff":"#fafafa",opacity:ht?1:.6},children:[E.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:6,marginBottom:4},children:[E.jsx("div",{style:{fontWeight:800,color:yt?"#ef4444":"#111827"},children:H.getDate()}),yt&&E.jsx("span",{style:{fontSize:11,color:"#ef4444",fontWeight:700},children:s[q]})]}),ut?E.jsxs("div",{style:{fontSize:12,color:"#111827"},children:[E.jsxs("div",{children:[": ",ut.time||"-"]}),E.jsxs("div",{children:[": ",ut.departureTime||"-"]})]}):E.jsx("div",{style:{fontSize:12,color:"#9ca3af"},children:" "})]},q)})},P))})]}),E.jsxs("div",{style:{textAlign:"left"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[E.jsx("h2",{style:{fontSize:18,margin:0},children:"   (/)"}),E.jsxs("div",{children:[E.jsx("button",{onClick:I,style:{padding:"4px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer",marginRight:6},children:""}),E.jsx("span",{style:{fontWeight:700},children:D}),E.jsx("button",{onClick:F,style:{padding:"4px 10px",border:"1px solid #d1d5db",borderRadius:8,background:"#fff",cursor:"pointer",marginLeft:6},children:""})]})]}),T.length===0?E.jsx("div",{style:{color:"#6b7280"},children:"    ."}):E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:"#f8fafc"},children:[E.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),E.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),E.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""}),E.jsx("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #e5e7eb"},children:""})]})}),E.jsx("tbody",{children:T.sort((N,P)=>P.date.localeCompare(N.date)).map(N=>E.jsxs("tr",{children:[E.jsxs("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:[N.date,s[N.date]&&E.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#ef4444",fontWeight:700},children:["(",s[N.date],")"]})]}),E.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.time||"-"}),E.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.departureTime||"-"}),E.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #f1f5f9"},children:N.status||"-"})]},N.date))})]})]})]})}function Cw(){var H;const r=localStorage.getItem("studentId"),e=L.useRef(!1),[i,s]=L.useState(null),[o,c]=L.useState([]),[f,m]=L.useState(0),[y,g]=L.useState({}),[T,S]=L.useState(!1),x=["","",""];L.useEffect(()=>{if(!r)return;const q=mn(_e(Nt,"students",r),ht=>{ht.exists()&&s({id:ht.id,...ht.data()})});return()=>q()},[r]),L.useEffect(()=>{if(!r)return;const q=mn(Qe(Nt,"payments"),ht=>{const ut={};ht.docs.forEach(yt=>{const M=yt.data();M.studentId===r&&(ut[M.routineNumber]=M.paymentMethod)}),g(ut)});return()=>q()},[r]),L.useEffect(()=>{if(!r)return;const q=mn(Qe(Nt,"routines"),async ht=>{const ut=ht.docs.filter(U=>{const C=U.data();return C.students&&C.students[r]});if(ut.length===0){c([]);return}let yt=[];ut.forEach(U=>{const C=U.data(),St=C.students[r],Mt=St.routineNumber||C.routineNumber||1,K=St.sessions||{};Object.values(K).sort((ot,gt)=>(ot.session||0)-(gt.session||0)).forEach(ot=>{yt.push({date:ot.date,session:ot.session,routineNumber:Mt})})});const M=Array.from(new Set(yt.map(U=>U.date))),R=i&&i.name||null,w=await Promise.all(M.map(async U=>{const C=await Ma(_e(Nt,"attendance",U));if(!C.exists())return[U,{}];const St=C.data(),Mt=St[r]||R&&St[R]||{};return[U,Mt]})),j=Object.fromEntries(w),B=yt.map(U=>{var C,St;return{...U,status:((C=j[U.date])==null?void 0:C.status)||"",time:((St=j[U.date])==null?void 0:St.time)||""}});if(c(B),!e.current){e.current=!0;const U=new Date().toISOString().slice(0,10),C={};B.forEach(Mt=>{const K=Mt.routineNumber||1;C[K]||(C[K]=[]),C[K].push(Mt)}),Object.values(C).sort((Mt,K)=>Mt[0].routineNumber-K[0].routineNumber).findIndex(Mt=>Mt.some(K=>K.date===U)),m(0)}});return()=>q()},[r,i]);const D=async(q,ht)=>{g(ut=>({...ut,[ht]:q})),await RE(_e(Nt,"payments",`${r}_routine_${ht}`),{studentId:r,routineNumber:ht,paymentMethod:q,paymentComplete:!1,updatedAt:new Date().toISOString()},{merge:!0})},I={};o.forEach(q=>{const ht=q.routineNumber||1;I[ht]||(I[ht]=[]),I[ht].push(q)});const F=Object.values(I).sort((q,ht)=>ht[0].routineNumber-q[0].routineNumber),N=F[f]||[],P=((H=N[0])==null?void 0:H.routineNumber)??f+1;return L.useEffect(()=>{if(!i||!P){S(!1);return}const q=`${i.name}_${P}`;(async()=>{try{const ut=await Ma(_e(Nt,"payment_completed",q));if(!ut.exists()){S(!1);return}const yt=ut.data();S(!!yt.paymentComplete)}catch(ut){console.error("payment_completed  :",ut),S(!1)}})()},[i,P]),i?E.jsxs("div",{className:"container-wide",style:{textAlign:"center"},children:[E.jsxs("h1",{style:{fontSize:20,marginBottom:16},children:[" ",i.name,"   ",P,""]}),E.jsx("p",{style:{fontSize:18,marginBottom:16},children:T?"  .":"  .    ."}),E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:24},children:[E.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:"bold"},children:""}),x.map(q=>E.jsx("button",{onClick:()=>D(q,P),style:{padding:"4px 8px",background:q===""?"#4caf50":q===""?"#2196f3":"#f44336",color:"white",borderRadius:4,minWidth:80},children:q},q))]}),E.jsxs("p",{style:{fontSize:16,marginBottom:16},children:["   : ",y[P]||"",y[P]===""&&E.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"      "}),y[P]===""&&E.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:"  5  ."}),y[P]===""&&E.jsx("span",{style:{display:"block",marginTop:8,fontSize:14,color:"#555"},children:" 3333-31-6107963  * "})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:24},children:[E.jsx("button",{onClick:()=>m(q=>Math.max(q-1,0)),disabled:f===0,style:{padding:"8px 16px",background:f===0?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:f===0?"default":"pointer"},children:""}),E.jsx("button",{onClick:()=>m(q=>Math.min(q+1,F.length-1)),disabled:f>=F.length-1,style:{padding:"8px 16px",background:f>=F.length-1?"#ccc":"#1565c0",color:"white",border:"none",borderRadius:4,cursor:f>=F.length-1?"default":"pointer"},children:""})]}),E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),E.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),E.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""}),E.jsx("th",{style:{border:"1px solid #ccc",padding:8},children:""})]})}),E.jsxs("tbody",{children:[N.map((q,ht)=>{const ut=N.slice(0,ht).reduce((R,w)=>R+(w.status==="carryover"?1:0),0),yt=q.status==="carryover",M=yt?"X":(q.session||ht+1)-ut;return E.jsxs("tr",{children:[E.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:M}),E.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:E.jsx("span",{style:yt?{textDecoration:"line-through",color:"#999"}:{},children:q.date})}),E.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:q.status}),E.jsx("td",{style:{border:"1px solid #ccc",padding:8,textAlign:"center"},children:q.time||"-"})]},ht)}),N.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:4,style:{padding:16,textAlign:"center",color:"#888"},children:"  ."})})]})]})]}):E.jsx("p",{children:" "})}const Dw=5;function Iw(r=""){return r?r.split(`
`).map(e=>e||"&nbsp;").join("<br />"):""}function Vw(){const[r,e]=L.useState([]),[i,s]=L.useState(null),[o,c]=L.useState({}),[f,m]=L.useState([]),[y,g]=L.useState([]),[T,S]=L.useState(!1);L.useEffect(()=>{(async()=>{const F=(await qs(Qe(Nt,"notices"))).docs.map(N=>{const P=N.data();return{id:N.id,title:P.title||"",date:P.date||"",showOnParents:P.showOnParents,isPinned:P.isPinned===!0,priority:typeof P.priority=="number"?P.priority:9999}}).filter(N=>N.showOnParents!==!1);F.sort((N,P)=>{const H=N.isPinned?1:0,q=P.isPinned?1:0;if(H!==q)return q-H;const ht=N.priority??9999,ut=P.priority??9999;if(ht!==ut)return ht-ut;const yt=N.date||"";return(P.date||"").localeCompare(yt)}),e(F.slice(0,Dw))})(),(async()=>{const D=await qs(Qe(Nt,"holidays")),I=new Date().toISOString().slice(0,10),F=D.docs.map(H=>({id:H.id,...H.data()})).filter(H=>!!H.date),N=F.filter(H=>(H.date||"").toString()>=I).sort((H,q)=>(H.date||"").toString().localeCompare((q.date||"").toString())),P=F.filter(H=>(H.date||"").toString()<I).sort((H,q)=>(q.date||"").toString().localeCompare((H.date||"").toString()));m(N),g(P)})()},[]);const x=async D=>{if(i===D){s(null);return}if(!o[D]){const I=await Ma(_e(Nt,"notices",D));if(I.exists()){const F=I.data(),N=(F.contentHtml||"").toString(),P=(F.contentPlain||"").toString(),H=(F.content||"").toString();let q=P||H,ht=N;ht||(ht=Iw(q)),c(ut=>({...ut,[D]:{html:ht,plain:q}}))}}s(D)};return E.jsxs("div",{className:"container",style:{maxWidth:800,margin:"0 auto",padding:"16px"},children:[E.jsxs("div",{style:{background:"#f9fafb",padding:"12px 14px",borderRadius:8,marginBottom:18,border:"1px solid #e5e7eb"},children:[E.jsxs("h2",{style:{fontSize:18,fontWeight:600,marginBottom:6,display:"flex",alignItems:"center",gap:6},children:[E.jsx("span",{children:""})," ",E.jsx("span",{children:"  "})]}),f.length>0?E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:f.map(D=>E.jsxs("li",{style:{marginBottom:4,fontSize:14,display:"flex",justifyContent:"space-between"},children:[E.jsx("span",{children:D.name}),E.jsx("span",{style:{color:"#dc2626",marginLeft:8},children:D.date})]},D.id))}):E.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"  ."}),y.length>0&&E.jsxs("div",{style:{marginTop:10},children:[E.jsx("button",{type:"button",onClick:()=>S(D=>!D),style:{fontSize:12,padding:"4px 8px",borderRadius:4,border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:T?"   ":"   "}),T&&E.jsx("div",{style:{marginTop:8,maxHeight:160,overflowY:"auto",borderTop:"1px dashed #e5e7eb",paddingTop:6},children:E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:y.map(D=>E.jsxs("li",{style:{marginBottom:3,fontSize:13,display:"flex",justifyContent:"space-between",color:"#6b7280"},children:[E.jsx("span",{children:D.name}),E.jsx("span",{style:{marginLeft:8},children:D.date})]},D.id))})})]})]}),E.jsx("h1",{style:{fontSize:22,fontWeight:700,marginBottom:10},children:" "}),r.length===0&&E.jsx("p",{style:{fontSize:14,color:"#6b7280"},children:"    ."}),E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:r.map(D=>{const I=i===D.id,F=o[D.id];return E.jsxs("li",{style:{margin:"6px 0",borderBottom:"1px solid #e5e7eb",padding:"8px 4px 10px"},children:[E.jsxs("div",{onClick:()=>x(D.id),style:{cursor:"pointer",fontWeight:600,fontSize:15,display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[E.jsxs("span",{style:{flex:1},children:[D.isPinned&&E.jsx("span",{style:{display:"inline-block",fontSize:11,color:"#f97316",border:"1px solid #fed7aa",borderRadius:4,padding:"2px 4px",marginRight:6},children:""}),D.title]}),E.jsx("span",{style:{fontSize:12,color:"#6b7280",whiteSpace:"nowrap"},children:D.date})]}),I&&E.jsx("div",{style:{marginTop:8},children:F?E.jsx("div",{style:{fontSize:14,color:"#111827",lineHeight:1.6},dangerouslySetInnerHTML:{__html:F.html}}):E.jsx("span",{style:{fontSize:13,color:"#6b7280"},children:" ..."})})]},D.id)})})]})}function Nw(){const{id:r}=zb(),[e,i]=L.useState(null);return L.useEffect(()=>{(async()=>{const s=await Ma(_e(Nt,"notices",r));s.exists()&&i({id:s.id,...s.data()})})()},[r]),e?E.jsxs("div",{className:"container",style:{maxWidth:800,margin:"0 auto",padding:"16px"},children:[E.jsx("h1",{style:{fontSize:22,fontWeight:"bold",marginBottom:8},children:e.title}),E.jsxs("p",{style:{fontSize:13,color:"#6b7280",marginBottom:16},children:[E.jsx("strong",{children:":"})," ",e.date]}),E.jsx("div",{style:{marginTop:12,fontSize:14,color:"#111827",lineHeight:1.7,whiteSpace:"normal"},dangerouslySetInnerHTML:{__html:e.content||""}}),E.jsx("p",{style:{marginTop:24},children:E.jsx(Jd,{to:"/notices",style:{fontSize:14,color:"#2563eb"},children:"  "})})]}):E.jsx("p",{children:"  "})}function Ow(){console.log("  !");const[r,e]=L.useState([]),[i,s]=L.useState(""),o=localStorage.getItem("studentId");L.useEffect(()=>{const m=Qe(Nt,"books");return mn(m,y=>{const T=y.docs.map(S=>({id:S.id,...S.data()})).filter(S=>S.studentId===o);e(T)})},[o]);const c=L.useMemo(()=>i?[...r].sort((y,g)=>i==="grade"?y.grade-g.grade:i==="title"?y.title.localeCompare(g.title):i==="completedDate"?y.completedDate.localeCompare(g.completedDate):0):r,[r,i]),f=()=>{const m=["","",""," ",""],y=c.map((D,I)=>[I+1,D.name,D.grade,D.title,D.completedDate]);let g=m.join(",")+`
`;y.forEach(D=>{g+=D.join(",")+`
`});const T=new Blob([g],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(T),x=document.createElement("a");x.href=S,x.download=`_${new Date().toISOString().slice(0,10)}.csv`,x.click(),URL.revokeObjectURL(S)};return E.jsxs("div",{className:"container",children:[E.jsxs("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:["   ( : ",r.length,")"]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[E.jsx("button",{onClick:f,style:{padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),E.jsx("button",{onClick:()=>s("grade"),style:{padding:"8px 12px",marginLeft:"4px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),E.jsx("button",{onClick:()=>s("title"),style:{padding:"8px 12px",backgroundColor:"#17a2b8",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "}),E.jsx("button",{onClick:()=>s("completedDate"),style:{padding:"8px 12px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"},children:" "})]}),E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),E.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),E.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""}),E.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:" "}),E.jsx("th",{style:{border:"1px solid #ccc",padding:"8px"},children:""})]})}),E.jsx("tbody",{children:c.length>0?c.map((m,y)=>E.jsxs("tr",{children:[E.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:y+1}),E.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.name}),E.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.grade}),E.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.title}),E.jsx("td",{style:{border:"1px solid #ccc",padding:"8px"},children:m.completedDate})]},m.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"5",style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:"  ."})})})]})]})}function Mw(){const[r,e]=L.useState([]),[i,s]=L.useState([]),[o,c]=L.useState({}),[f,m]=L.useState(null),[y,g]=L.useState(""),T=localStorage.getItem("studentId");L.useEffect(()=>{if(!T)return;const I=Qe(Nt,"comments");return mn(I,F=>{const P=F.docs.map(H=>({id:H.id,...H.data()})).filter(H=>H.studentId===T);e(P.sort((H,q)=>(q.createdAt||"").localeCompare(H.createdAt||"")))})},[T]),L.useEffect(()=>{if(!T)return;const I=Qe(Nt,"answer");return mn(I,F=>{const P=F.docs.map(H=>({id:H.id,...H.data()})).filter(H=>H.studentId===T);s(P.sort((H,q)=>(q.createdAt||"").localeCompare(H.createdAt||"")))})},[T]);const S=async I=>{var H;const F=(H=o[I])==null?void 0:H.trim();if(!F)return alert(" !");if(!T)return alert("  .    .");const N=await Ma(_e(Nt,"students",T)),P=N.exists()?N.data().name:"";await CE(Qe(Nt,"answer"),{studentId:T,studentName:P,comment:F,date:new Date().toISOString().slice(0,10),createdAt:new Date().toISOString(),parentId:I}),c(q=>({...q,[I]:""})),alert(" !")},x=async I=>{window.confirm("   ?")&&await bw(_e(Nt,"answer",I))},D=async I=>{if(!y.trim())return alert("  !");await wE(_e(Nt,"answer",I),{comment:y}),m(null),g("")};return E.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[E.jsx("h2",{style:{fontSize:"20px",marginBottom:"16px"},children:"  "}),E.jsx("h3",{style:{fontSize:"15px",marginBottom:"16px"},children:"**    ! **"}),E.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[r.filter(I=>{var F;return!((F=I.comment)!=null&&F.startsWith(":"))}).map(I=>{var N;const F=i.filter(P=>P.parentId===I.id);return E.jsxs("li",{style:{marginBottom:16,borderBottom:"1px solid #eee",paddingBottom:8},children:[E.jsxs("div",{children:[I.comment," ",E.jsxs("span",{style:{color:"#888",fontSize:"12px"},children:["(",I.date,")"]})]}),E.jsxs("div",{style:{fontSize:"12px",color:"#aaa"},children:[": ",(N=I.createdAt)==null?void 0:N.slice(0,19).replace("T"," ")]}),F.map(P=>E.jsx("div",{style:{marginTop:4,marginLeft:10,background:"#f8f8f8",padding:"4px 8px",borderRadius:4},children:f===P.id?E.jsxs(E.Fragment,{children:[E.jsx("input",{value:y,onChange:H=>g(H.target.value),style:{width:"60%",padding:4}}),E.jsx("button",{onClick:()=>D(P.id),style:{marginLeft:8},children:""}),E.jsx("button",{onClick:()=>m(null),style:{marginLeft:4},children:""})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{fontSize:"13px",color:"#333"},children:[" ",P.comment]}),E.jsxs("div",{style:{marginTop:4},children:[E.jsx("button",{onClick:()=>{m(P.id),g(P.comment||"")},style:{marginRight:6},children:""}),E.jsx("button",{onClick:()=>x(P.id),children:""})]})]})},P.id)),E.jsxs("div",{style:{marginTop:8},children:[E.jsx("input",{placeholder:" ",value:o[I.id]||"",onChange:P=>c(H=>({...H,[I.id]:P.target.value})),style:{width:"70%",padding:4}}),E.jsx("button",{onClick:()=>S(I.id),style:{marginLeft:8,padding:"4px 12px"},children:""})]})]},I.id)}),r.filter(I=>{var F;return!((F=I.comment)!=null&&F.startsWith(":"))}).length===0&&E.jsx("li",{style:{color:"#888"},children:"  ."})]})]})}function jw(){const[r,e]=L.useState("comments");return E.jsxs("div",{className:"container",style:{textAlign:"center",marginTop:"40px"},children:[E.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"    "}),E.jsxs("div",{style:{marginBottom:"16px"},children:[E.jsx("button",{onClick:()=>e("comments"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="comments"?"#007bff":"#f0f0f0",color:r==="comments"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""}),E.jsx("button",{onClick:()=>e("books"),style:{padding:"8px 16px",marginRight:"8px",backgroundColor:r==="books"?"#007bff":"#f0f0f0",color:r==="books"?"#fff":"#333",border:"none",borderRadius:"4px",cursor:"pointer"},children:""})]}),r==="comments"&&E.jsx(Mw,{}),E.jsx("div",{className:"page-books",children:r==="books"&&E.jsx(Ow,{})}),r==="points"&&E.jsx(PointsPage,{})]})}function Uw(){var Ii;const[r,e]=L.useState("elementary"),[i,s]=L.useState(""),[o,c]=L.useState(""),[f,m]=L.useState(null),[y,g]=L.useState([]),[T,S]=L.useState({}),[x,D]=L.useState({}),[I,F]=L.useState([]),[N,P]=L.useState(null),[H,q]=L.useState({isOpen:!0,reserveOnly:!1}),ht=[{id:"opt1",label:"() +  1( 1) 13 + 13 = 26"},{id:"opt2",label:"() +  2( 2) 13 + 25 = 38"},{id:"opt3",label:"() : 15"}],ut=ht.reduce((J,ft)=>(J[ft.id]=ft.label,J),{}),[yt,M]=L.useState(""),[R,w]=L.useState(null),j=["","","","",""],B=[{id:"A",label:"A (5 ~ 7)",timeRange:"5 ~ 7"},{id:"B",label:"B (7 ~ 9)",timeRange:"7 ~ 9"}],U=5,C=3,[St,Mt]=L.useState(null),[K,X]=L.useState(null),[ot,gt]=L.useState({}),[O,tt]=L.useState({}),[nt,lt]=L.useState(null),pt=L.useMemo(()=>({elementary:{:["230"],:["3","4"],:["2","3","4"],:["3","4"],:["3","4"]},middle:{:["330","5","630"],:["5","630"],:["5","630"],:["5","630"],:["5","630"]}}),[]),Vt={elementary:"",middle:"",middleClinic:" (/)",operation:" "},At=r==="elementary"||r==="middle"?pt[r]:null,ce=(J,ft)=>`${J}|${ft}`,qt=(J,ft,ct)=>J.some(dt=>dt.day===ft&&dt.time===ct),Ye=(J,ft)=>`${J}|${ft}`,Kn=(J,ft,ct=!1)=>{const dt=Ye(J,ft);let Rt=ot[dt]||0;return ct&&(nt!=null&&nt.regular)&&nt.regular.day===J&&nt.regular.blockId===ft&&(Rt-=1),Rt>=U},On=(J,ft,ct=!1)=>{const dt=Ye(J,ft);let Rt=O[dt]||0;return ct&&(nt!=null&&nt.extra)&&nt.extra.day===J&&nt.extra.blockId===ft&&(Rt-=1),Rt>=C};L.useEffect(()=>{const J=localStorage.getItem("studentId");J&&(s(J),Ma(_e(Nt,"students",J)).then(ft=>{const ct=ft.data();ct!=null&&ct.name&&c(String(ct.name))}).catch(()=>{}))},[]),L.useEffect(()=>{const J=_e(Nt,"settings","enrollments"),ft=mn(J,ct=>{if(!ct.exists())return;const dt=ct.data()||{};q({isOpen:dt.isOpen!==void 0&&dt.isOpen!==null?!!dt.isOpen:!0,reserveOnly:dt.reserveOnly!==void 0&&dt.reserveOnly!==null?!!dt.reserveOnly:!1})},ct=>{console.error("   :",ct)});return()=>ft()},[]),L.useEffect(()=>{if(r==="operation"||r==="middleClinic"){S({}),D({});return}const J=qd(Qe(Nt,"enrollments"),Hd("group","==",r)),ft=mn(J,ct=>{const dt={},Rt={};ct.forEach(Wt=>{const ee=Wt.data(),$t=`${ee.day}|${ee.time}`;if(ee.status==="reserve")Rt[$t]=(Rt[$t]||0)+1;else{if(ee.status==="waitlist")return;dt[$t]=(dt[$t]||0)+1}}),S(dt),D(Rt)});return()=>ft()},[r]),L.useEffect(()=>{if(!o.trim()){F([]),g([]),P(null);return}const J=_e(Nt,"enrollments_by_student",o.trim()),ft=mn(J,ct=>{var dt,Rt;if(ct.exists()){const Wt=ct.data(),ee=Array.isArray(Wt.applied)?Wt.applied:[];F(ee),P(((Rt=(dt=Wt.updatedAt)==null?void 0:dt.toDate)==null?void 0:Rt.call(dt))||null),g(ee.map(({day:$t,time:oe,status:Xt})=>({day:$t,time:oe,status:Xt})))}else F([]),g([]),P(null)});return()=>ft()},[o]),L.useEffect(()=>{if(!i){w(null),M("");return}const J=_e(Nt,"operation_survey",i),ft=mn(J,ct=>{if(ct.exists()){const dt=ct.data();w(dt),M(dt.choice||"")}else w(null),M("")});return()=>ft()},[i]),L.useEffect(()=>{if(!i){lt(null),Mt(null),X(null);return}const J=_e(Nt,"middle_clinic_days",i),ft=mn(J,ct=>{if(!ct.exists()){lt(null),Mt(null),X(null);return}const dt=ct.data()||{};lt(dt),Mt(dt.regular||null),X(dt.extra||null)});return()=>ft()},[i]),L.useEffect(()=>{const J=Qe(Nt,"middle_clinic_days"),ft=mn(J,ct=>{const dt={},Rt={};ct.forEach(Wt=>{const ee=Wt.data()||{};if(ee.regular&&ee.regular.day&&ee.regular.blockId){const $t=Ye(ee.regular.day,ee.regular.blockId);dt[$t]=(dt[$t]||0)+1}if(ee.extra&&ee.extra.day&&ee.extra.blockId){const $t=Ye(ee.extra.day,ee.extra.blockId);Rt[$t]=(Rt[$t]||0)+1}}),gt(dt),tt(Rt)});return()=>ft()},[]);const Ri=(J,ft)=>{const ct=[["",""],["",""],["",""]];if(qt(y,J,ft)){g(y.filter(dt=>!(dt.day===J&&dt.time===ft)));return}if(y.length===0){g([{day:J,time:ft}]);return}if(y.length===1){const dt=y[0];if(dt.day===J){g([{day:J,time:ft}]);return}const Rt=[dt.day,J].sort().join("");if(!ct.some(ee=>ee.slice().sort().join("")===Rt)){alert(" '/', '/', '/'    .");return}g([dt,{day:J,time:ft}]);return}if(y.length>=2){const dt=y.findIndex(Rt=>Rt.day===J);if(dt!==-1){const Rt=[...y];Rt[dt]={day:J,time:ft},g(Rt);return}alert("   '/', '/', '/'     .");return}},wi=(J,ft)=>{if(qt(y,J,ft)){g(y.filter(ct=>!(ct.day===J&&ct.time===ft)));return}if(y.length>=2){alert("    2   .");return}g([...y,{day:J,time:ft}])},Ci=(J,ft)=>g(y.filter(ct=>!(ct.day===J&&ct.time===ft))),Wr=J=>{Mt(ft=>({day:J,blockId:(ft==null?void 0:ft.blockId)||"A"}))},Pa=J=>{if(!(St!=null&&St.day)){alert("   .");return}Mt(ft=>({...ft||{day:j[0]},blockId:J}))},yn=J=>{X(ft=>({day:J,blockId:(ft==null?void 0:ft.blockId)||"A"}))},Xs=J=>{if(!(K!=null&&K.day)){alert("   .");return}X(ft=>({...ft||{day:j[0]},blockId:J}))},Jr=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!St||!St.day||!St.blockId){alert("   (A/B)  .");return}const{day:J,blockId:ft}=St;if(Kn(J,ft,!0)){alert(" /    .");return}const ct=cc(Nt),dt=_e(Nt,"middle_clinic_days",i);ct.set(dt,{studentId:i,studentName:o.trim(),regular:{day:J,blockId:ft},updatedAt:Ia()},{merge:!0}),await ct.commit(),alert("   .")},cr=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!K||!K.day||!K.blockId){alert("   (A/B)  .");return}const{day:J,blockId:ft}=K;if(On(J,ft,!0)){alert(" /    .");return}const ct=cc(Nt),dt=_e(Nt,"middle_clinic_days",i);ct.set(dt,{studentId:i,studentName:o.trim(),extra:{day:J,blockId:ft},updatedAt:Ia()},{merge:!0}),await ct.commit(),alert(" ()  .")},Di=async()=>{if(r==="operation"||r==="middleClinic")return;if(!H.isOpen){alert("  .");return}if(!o.trim()){alert("   .     .");return}if(y.length===0){alert("  .");return}let J=[...y],ft=!1,ct="";if(r==="elementary"){if(y.map(Xt=>Xt.day).length!==2){alert("  2  . (/, /, /   )");return}const oe=[];if(y.forEach(({day:Xt,time:ge})=>{const Pe=ce(Xt,ge),Sn=T[Pe]||0,un=x[Pe]||0;let ri;if(H.reserveOnly){if(un>=10){ft=!0,ct+=`${Xt} ${ge}     .
`;return}ri="reserve"}else if(Sn<6)ri="applied";else if(un<10)ri="reserve";else{ft=!0,ct+=`${Xt} ${ge}      .
`;return}oe.push({day:Xt,time:ge,status:ri})}),ft){alert(ct||"    .   .");return}J=oe}else if(r==="middle"){const $t=[];if(y.forEach(({day:oe,time:Xt})=>{const ge=ce(oe,Xt),Pe=T[ge]||0,Sn=x[ge]||0;let un;if(H.reserveOnly){if(Sn>=10){ft=!0,ct+=`${oe} ${Xt}     .
`;return}un="reserve"}else if(Pe<6)un="applied";else if(Sn<10)un="reserve";else{ft=!0,ct+=`${oe} ${Xt}      .
`;return}$t.push({day:oe,time:Xt,status:un})}),ft){alert(ct||"    .   .");return}J=$t}const dt=cc(Nt),Rt=_e(Nt,"enrollments_by_student",o.trim());dt.set(Rt,{studentName:o.trim(),applied:J.map(({day:$t,time:oe,status:Xt})=>({day:$t,time:oe,group:r,status:Xt==="reserve"?"reserve":"applied",label:Xt==="reserve"?"()":""})),waitlist:[],updatedAt:Ia()});const Wt=qd(Qe(Nt,"enrollments"),Hd("studentName","==",o.trim()));(await qs(Wt)).forEach($t=>dt.delete($t.ref)),J.forEach(({day:$t,time:oe,status:Xt})=>{const ge=Xt==="reserve"?"reserve":"applied",Pe=`${o.trim()}|${r}|${$t}|${oe}|${ge}`,Sn=_e(Nt,"enrollments",Pe);dt.set(Sn,{studentName:o.trim(),group:r,day:$t,time:oe,status:ge,createdAt:Ia()})}),await dt.commit(),g(J),alert(".")},Zs=async()=>{if(!i||!o.trim()){alert("   .     .");return}if(!yt){alert("    .");return}const J=cc(Nt),ft=_e(Nt,"operation_survey",i);J.set(ft,{studentId:i,studentName:o.trim(),choice:yt,updatedAt:Ia()}),await J.commit(),alert("   .")};return E.jsxs("div",{style:{padding:16},children:[E.jsx("h2",{style:{marginBottom:12},children:""}),E.jsx("div",{style:{marginBottom:8,display:"flex",justifyContent:"flex-end"},children:E.jsx("span",{style:{fontSize:11,padding:"4px 10px",borderRadius:999,border:"1px solid #e5e7eb",backgroundColor:H.isOpen?H.reserveOnly?"#fef3c7":"#dcfce7":"#fee2e2",color:H.isOpen?H.reserveOnly?"#92400e":"#166534":"#b91c1c"},children:H.isOpen?H.reserveOnly?" :  ,  ":" :   ":" :   "})}),E.jsxs("div",{style:{marginBottom:16,padding:12,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13,lineHeight:1.5,color:"#374151"},children:[E.jsxs("p",{style:{marginBottom:6},children:["     , ",E.jsx("b",{children:"2026 3  "})," ."]}),E.jsxs("p",{style:{marginBottom:6},children:[E.jsx("b",{children:""})," ",E.jsx("b",{children:"/, /, /"}),"      . (  2  ,  ",E.jsx("b",{children:""}),"   .)"]}),E.jsxs("p",{style:{marginBottom:8},children:["  ",E.jsx("b",{children:" 6"}),",   ",E.jsx("b",{children:"( 10)"}),"  .  6  "," ",E.jsx("b",{children:" ."}),"  ."]}),E.jsx("hr",{style:{border:"none",borderTop:"1px dashed #e5e7eb",margin:"8px 0"}}),E.jsx("p",{style:{marginBottom:6},children:E.jsx("b",{children:"     ( ) "})}),E.jsxs("p",{style:{marginBottom:6},children:[" ",E.jsx("b",{children:" "}),"        ."]}),E.jsxs("p",{style:{marginBottom:6},children:["  ,          "," ",E.jsx("b",{children:"  ( ) "})," ."]}),E.jsxs("p",{style:{marginBottom:6},children:[" ",E.jsx("b",{children:" "})," ",E.jsx("b",{children:"() "})," ,  (A/B)    ",E.jsxs("b",{children:[" ",U,""]}),",    ",E.jsxs("b",{children:[C,""]})," ."]}),E.jsxs("p",{style:{marginBottom:8},children:["  ",E.jsx("b",{children:" (/)"}),"  /     ."]}),E.jsx("p",{style:{marginBottom:6},children:E.jsx("b",{children:"     "})}),E.jsxs("p",{style:{marginBottom:6},children:["  ",E.jsx("b",{children:"  "}),",      ",E.jsx("b",{children:" "}),"         ."]}),E.jsx("p",{style:{marginBottom:0},children:"     ."})]}),E.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:["elementary","middle","middleClinic","operation"].map(J=>{const ft=r===J;return E.jsx("button",{onClick:()=>{e(J),m(null)},style:{padding:"8px 14px",borderRadius:8,border:`1px solid ${ft?"#0d6efd":"#ddd"}`,background:ft?"#0d6efd":"#fff",color:ft?"#fff":"#333",fontWeight:600,cursor:"pointer"},children:Vt[J]},J)})}),r==="operation"?E.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fdfdfd"},children:[E.jsx("h3",{style:{marginBottom:10,fontSize:16},children:" "}),E.jsx("p",{style:{fontSize:13,color:"#4b5563",marginBottom:6},children:"      ."}),E.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:[" ",E.jsx("b",{children:" "}),", ",E.jsx("b",{children:"  3"})," .   ",E.jsx("b",{children:"50 "}),", ",E.jsx("b",{children:"3  / 4 "}),"  "," ",E.jsx("b",{children:"  8"}),"."]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:12},children:ht.map(J=>E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 10px",borderRadius:8,border:yt===J.id?"1px solid #0d6efd":"1px solid #e5e7eb",background:yt===J.id?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,color:"#111827"},children:[E.jsx("input",{type:"radio",name:"operation_choice",value:J.id,checked:yt===J.id,onChange:()=>M(J.id)}),E.jsx("span",{children:J.label})]},J.id))}),E.jsx("button",{onClick:Zs,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginBottom:12},children:"  "}),E.jsxs("div",{style:{padding:10,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:13},children:[E.jsxs("div",{style:{fontWeight:700,marginBottom:4},children:["   ",o?`: ${o}`:""]}),R?E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{marginBottom:4},children:[":"," ",E.jsx("b",{children:ut[R.choice]||"   "})]}),((Ii=R.updatedAt)==null?void 0:Ii.toDate)&&E.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:[":"," ",R.updatedAt.toDate().toLocaleString()]})]}):E.jsx("div",{style:{color:"#6b7280"},children:"    ."})]})]}):r==="middleClinic"?E.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fdfdfd"},children:[E.jsx("h3",{style:{marginBottom:10,fontSize:16},children:" ( / )"}),E.jsx("p",{style:{fontSize:13,color:"#4b5563",marginBottom:6},children:"          ."}),E.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:[E.jsx("b",{children:" "}),"   /(5~7, 7~9)   ,",E.jsx("b",{children:"  "}),"      ."]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:16},children:[E.jsxs("div",{style:{borderRadius:8,border:"1px solid #e5e7eb",padding:10,background:"#f9fafb"},children:[E.jsx("div",{style:{fontWeight:700,marginBottom:8,fontSize:14},children:"   ( + A/B )"}),E.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:[" (A/B)   "," ",E.jsxs("b",{children:[U,""]}),"."]}),E.jsxs("div",{style:{marginBottom:8},children:[E.jsx("div",{style:{fontSize:12,marginBottom:4,color:"#4b5563"},children:" "}),E.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:j.map(J=>{const ft=(St==null?void 0:St.day)===J;return E.jsx("button",{onClick:()=>Wr(J),style:{padding:"6px 10px",borderRadius:999,border:ft?"1px solid #0d6efd":"1px solid #e5e7eb",background:ft?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,minWidth:40},children:J},`reg-day-${J}`)})})]}),E.jsxs("div",{style:{marginBottom:8},children:[E.jsx("div",{style:{fontSize:12,marginBottom:4,color:"#4b5563"},children:" "}),E.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:B.map(J=>{const ft=(St==null?void 0:St.blockId)===J.id,ct=St!=null&&St.day&&J.id?Ye(St.day,J.id):null,dt=ct&&ot[ct]||0,Rt=(St==null?void 0:St.day)&&Kn(St.day,J.id,!0);return E.jsxs("button",{onClick:()=>Pa(J.id),style:{padding:"6px 10px",borderRadius:999,border:ft?"1px solid #0d6efd":"1px solid #e5e7eb",background:ft?"#e7f1ff":"#ffffff",cursor:Rt?"not-allowed":"pointer",fontSize:12,opacity:Rt?.6:1,whiteSpace:"nowrap"},disabled:Rt,title:ct?`  ${dt} /  ${U}`:void 0,children:[J.label,ct&&E.jsxs("span",{style:{marginLeft:4,fontSize:11,color:"#6b7280"},children:["(",dt,"/",U,")"]})]},`reg-block-${J.id}`)})})]}),E.jsx("button",{onClick:Jr,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginTop:4},children:"  "}),E.jsxs("div",{style:{marginTop:10,fontSize:12,color:"#4b5563"},children:[E.jsxs("div",{style:{fontWeight:600,marginBottom:4},children:["   ",o?` (${o})`:""]}),nt!=null&&nt.regular?E.jsxs("div",{children:[nt.regular.day,""," ",nt.regular.blockId==="A"?"A (5~7)":"B (7~9)"]}):E.jsx("div",{style:{color:"#9ca3af"},children:"   ."})]})]}),E.jsxs("div",{style:{borderRadius:8,border:"1px solid #e5e7eb",padding:10,background:"#ffffff"},children:[E.jsx("div",{style:{fontWeight:700,marginBottom:8,fontSize:14},children:"()  "}),E.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:["  ,     ."," "," (A/B)  "," ",E.jsxs("b",{children:[" ",C,""]})," ."]}),E.jsxs("div",{style:{marginBottom:8},children:[E.jsx("div",{style:{fontSize:12,marginBottom:4,color:"#4b5563"},children:" "}),E.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:j.map(J=>{const ft=(K==null?void 0:K.day)===J;return E.jsx("button",{onClick:()=>yn(J),style:{padding:"6px 10px",borderRadius:999,border:ft?"1px solid #0d6efd":"1px solid #e5e7eb",background:ft?"#e7f1ff":"#ffffff",cursor:"pointer",fontSize:13,minWidth:40},children:J},`ex-day-${J}`)})})]}),E.jsxs("div",{style:{marginBottom:8},children:[E.jsx("div",{style:{fontSize:12,marginBottom:4,color:"#4b5563"},children:" "}),E.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:B.map(J=>{const ft=(K==null?void 0:K.blockId)===J.id,ct=K!=null&&K.day&&J.id?Ye(K.day,J.id):null,dt=ct&&O[ct]||0,Rt=(K==null?void 0:K.day)&&On(K.day,J.id,!0);return E.jsxs("button",{onClick:()=>Xs(J.id),style:{padding:"6px 10px",borderRadius:999,border:ft?"1px solid #0d6efd":"1px solid #e5e7eb",background:ft?"#e7f1ff":"#ffffff",cursor:Rt?"not-allowed":"pointer",fontSize:12,opacity:Rt?.6:1,whiteSpace:"nowrap"},disabled:Rt,title:ct?`  ${dt} /  ${C}`:void 0,children:[J.label,ct&&E.jsxs("span",{style:{marginLeft:4,fontSize:11,color:"#6b7280"},children:["(",dt,"/",C,")"]})]},`ex-block-${J.id}`)})})]}),E.jsx("button",{onClick:cr,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer",marginTop:4},children:"  "}),E.jsxs("div",{style:{marginTop:10,fontSize:12,color:"#4b5563"},children:[E.jsxs("div",{style:{fontWeight:600,marginBottom:4},children:["   ",o?` (${o})`:""]}),nt!=null&&nt.extra?E.jsxs("div",{children:[nt.extra.day,""," ",nt.extra.blockId==="A"?"A (5~7)":"B (7~9)"]}):E.jsx("div",{style:{color:"#9ca3af"},children:"   ."})]})]})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:560,border:"1px solid #e5e7eb"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:"#f8fafc"},children:[E.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",fontWeight:700,width:90,whiteSpace:"nowrap"},children:""}),E.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",fontWeight:700},children:" ( / )"})]})}),E.jsx("tbody",{children:At&&Object.entries(At).map(([J,ft])=>E.jsxs("tr",{children:[E.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f59",fontWeight:600,whiteSpace:"nowrap"},children:J}),E.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9"},children:E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:ft.map(ct=>{const dt=ce(J,ct),Rt=T[dt]||0,Wt=x[dt]||0,ee=f&&f.day===J&&f.time===ct,$t=qt(y,J,ct),oe=Rt>=6,Xt=Wt>=10,ge=H.isOpen?(H.reserveOnly||oe)&&Xt:!0;return E.jsxs("button",{onClick:()=>{if(!H.isOpen){alert("  .");return}if(H.reserveOnly){if(Xt){alert("     .");return}}else if(oe&&Xt){alert("      .");return}m({day:J,time:ct}),r==="elementary"?Ri(J,ct):r==="middle"&&wi(J,ct)},disabled:ge,style:{padding:"8px 10px",borderRadius:8,border:`1px solid ${$t||ee?"#0d6efd":"#d1d5db"}`,background:$t?"#e7f1ff":ee?"#f3f4ff":"#fff",color:ge?"#9ca3af":"#111827",fontWeight:600,cursor:ge?"not-allowed":"pointer",whiteSpace:"nowrap",opacity:ge?.6:1,textAlign:"left"},title:`${J} ${ct}`,children:[E.jsx("div",{children:ct}),E.jsxs("div",{style:{color:"#6b7280",fontWeight:500,marginTop:2,fontSize:11},children:[" ",Rt," /  ",Wt,oe&&E.jsx("span",{style:{marginLeft:4,color:"#b91c1c"},children:" ."}),!oe&&H.reserveOnly&&E.jsx("span",{style:{marginLeft:4,color:"#92400e"},children:"( )"})]}),$t&&E.jsx("div",{style:{marginTop:2,fontSize:11,color:"#0d6efd"},children:" "})]},`${J}-${ct}`)})})})]},J))})]})}),E.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[E.jsx("div",{style:{minWidth:220,color:"#374151"},children:f?E.jsxs("span",{children:[" : ",E.jsx("b",{children:f.day})," ",E.jsx("b",{children:f.time})]}):E.jsx("span",{style:{color:"#6b7280"},children:"   "})}),E.jsx("button",{onClick:Di,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer"},children:""})]}),E.jsx("div",{style:{marginTop:16,display:"grid",gap:12,gridTemplateColumns:"1fr"},children:E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ( 2)"}),y.length===0?E.jsx("div",{style:{color:"#6b7280"},children:""}):E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:y.map(({day:J,time:ft,status:ct})=>E.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:`1px solid ${ct==="reserve"?"#6c757d":"#0d6efd"}`,background:ct==="reserve"?"#f1f1f1":"#e7f1ff",display:"inline-flex",alignItems:"center",gap:8},title:ct==="reserve"?"()":"",children:[J," ",ft,ct==="reserve"?" ()":"",E.jsx("button",{onClick:()=>Ci(J,ft),title:"",style:{border:"none",background:"transparent",cursor:"pointer",fontWeight:700,color:ct==="reserve"?"#6c757d":"#0d6efd"},children:""})]},`ap-${J}-${ft}`))})]})}),E.jsxs("div",{style:{marginTop:20,padding:12,border:"1px solid #e5e7eb",borderRadius:8},children:[E.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["  ",o?`: ${o}`:""]}),o?E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{marginBottom:4},children:[E.jsx("b",{children:":"})," ",I.length?I.map(J=>{const ft=J.group==="elementary"?"":"",ct=J.status==="reserve"||(J==null?void 0:J.label)==="()"?" ()":"";return`${ft} ${J.day} ${J.time}${ct}`}).join(", "):E.jsx("span",{style:{color:"#6b7280"},children:""})]}),N&&E.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#6b7280"},children:[": ",N.toLocaleString()]})]}):E.jsx("div",{style:{color:"#6b7280"},children:"   "})]})]})]})}function Lw(){const[r,e]=L.useState("elementary"),i={elementary:"",middle:""},o=L.useMemo(()=>({elementary:{:["230"],:["3","4"],:["2","3","4"],:["3","4"],:["3","4"]},middle:{:["330","5","630"],:["5","630"],:["5","630"],:["5","630"],:["5","630"]}}),[])[r],[c,f]=L.useState({}),[m,y]=L.useState({});L.useEffect(()=>{const X=qd(Qe(Nt,"enrollments"),Hd("group","==",r)),ot=mn(X,gt=>{const O={},tt={};gt.forEach(nt=>{const lt=nt.data(),pt=`${lt.day}|${lt.time}`;lt.status==="waitlist"?tt[pt]=(tt[pt]||0)+1:O[pt]=(O[pt]||0)+1}),f(O),y(tt)});return()=>ot()},[r]);const[g,T]=L.useState(null),[S,x]=L.useState([]),[D,I]=L.useState([]),F=(X,ot)=>`${X}|${ot}`,N=(X,ot,gt)=>X.some(O=>O.day===ot&&O.time===gt),P=()=>{if(!g)return;const{day:X,time:ot}=g,gt=F(X,ot),O=c[gt]||0;if(N(S,X,ot)){x(S.filter(pt=>!(pt.day===X&&pt.time===ot)));return}let tt="reserve",nt="   .   . ";if(O>=6&&O<8?(tt="reserve",nt=" 6 .      ."):O>=8&&(tt="waitlist",nt="   .  ."),tt==="waitlist"){alert(nt),H();return}if(S.length>=2){alert("  2 .");return}const lt=S.findIndex(pt=>pt.day===X);if(lt!==-1){const pt=[...S];pt[lt]={day:X,time:ot,status:tt},x(pt)}else x([...S,{day:X,time:ot,status:tt}]);N(D,X,ot)&&I(D.filter(pt=>!(pt.day===X&&pt.time===ot))),alert(nt)},H=()=>{if(!g)return;const{day:X,time:ot}=g;if(N(D,X,ot)){I(D.filter(gt=>!(gt.day===X&&gt.time===ot)));return}N(S,X,ot)&&x(S.filter(gt=>!(gt.day===X&&gt.time===ot))),I([...D,{day:X,time:ot}])},q=(X,ot)=>x(S.filter(gt=>!(gt.day===X&&gt.time===ot))),ht=(X,ot)=>I(D.filter(gt=>!(gt.day===X&&gt.time===ot))),[ut,yt]=L.useState(""),[M,R]=L.useState(""),[w,j]=L.useState(""),[B,U]=L.useState(""),C=X=>X.replace(/[^0-9]/g,""),St=X=>X.replace(/[^0-9]/g,"").slice(0,6),Mt=async()=>{U("");const X=ut.trim(),ot=C(M),gt=St(w);if(!X||gt.length!==6||ot.length<7){U("/6/    .");return}const O=_e(Nt,"newstudent",X),tt=await Ma(O);if(!tt.exists()){U("   . []   ."),x([]),I([]);return}const nt=tt.data()||{},lt=(nt.birth6||"").toString()===gt,pt=C(nt.parentPhone||"")===ot;if(!lt||!pt){U("   /  ."),x([]),I([]);return}const Vt=Array.isArray(nt.applied)?nt.applied:[],At=Array.isArray(nt.waitlist)?nt.waitlist:[];x(Vt.map(({day:ce,time:qt})=>({day:ce,time:qt}))),I(At.map(({day:ce,time:qt})=>({day:ce,time:qt}))),U(" .")},K=async()=>{const X=ut.trim(),ot=C(M),gt=St(w);if(!X){alert("   .");return}if(gt.length!==6){alert(" 6  .");return}if(ot.length<7){alert("    .");return}if(S.length===0&&D.length===0&&!confirm("/  .   ?"))return;const O=_e(Nt,"newstudent",X);await RE(O,{studentName:X,parentPhone:ot,birth6:gt,applied:S.map(({day:tt,time:nt,status:lt})=>({day:tt,time:nt,group:r,status:lt,label:lt==="reserve"?"()":""})),waitlist:D.map(({day:tt,time:nt})=>({day:tt,time:nt,group:r,status:"waitlist",label:""})),updatedAt:Ia()},{merge:!0}),alert("."),U(" .")};return E.jsxs("div",{style:{padding:16},children:[E.jsx("h2",{style:{marginBottom:12},children:"  ( /)"}),E.jsxs("div",{style:{padding:12,border:"1px solid #e5e7eb",borderRadius:8,marginBottom:12},children:[E.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"1fr 1fr 1fr"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" "}),E.jsx("input",{value:ut,onChange:X=>yt(X.target.value),placeholder:": ",style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" "}),E.jsx("input",{value:M,onChange:X=>R(X.target.value),placeholder:": 01012345678(-)",style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:" 6"}),E.jsx("input",{value:w,onChange:X=>j(X.target.value.replace(/[^0-9]/g,"").slice(0,6)),placeholder:": 170806",inputMode:"numeric",maxLength:6,style:{width:"100%",padding:8,border:"1px solid #d1d5db",borderRadius:8}})]})]}),E.jsxs("div",{style:{marginTop:10,display:"flex",gap:8},children:[E.jsx("button",{onClick:Mt,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:"#6c757d",color:"#fff",fontWeight:700,cursor:"pointer"},children:""}),E.jsx("button",{onClick:K,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:"#0d6efd",color:"#fff",fontWeight:700,cursor:"pointer"},children:""})]}),B&&E.jsx("div",{style:{marginTop:8,color:"#374151"},children:B})]}),E.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:["elementary","middle"].map(X=>{const ot=X===r;return E.jsx("button",{onClick:()=>{e(X),T(null)},style:{padding:"8px 14px",borderRadius:8,border:`1px solid ${ot?"#0d6efd":"#ddd"}`,background:ot?"#0d6efd":"#fff",color:ot?"#fff":"#333",fontWeight:600,cursor:"pointer"},children:i[X]},X)})}),E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{style:{width:"100%",minWidth:560,borderCollapse:"collapse",border:"1px solid #e5e7eb"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{background:"#f8fafc"},children:[E.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb",width:90},children:""}),E.jsx("th",{style:{textAlign:"left",padding:"10px 12px",borderBottom:"1px solid #e5e7eb"},children:" ( / )"})]})}),E.jsx("tbody",{children:Object.entries(o).map(([X,ot])=>E.jsxs("tr",{children:[E.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9",fontWeight:600},children:X}),E.jsx("td",{style:{padding:"10px 12px",borderBottom:"1px solid #f1f5f9"},children:E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:ot.map(gt=>{const O=F(X,gt),tt=c[O]||0,nt=m[O]||0,lt=g&&g.day===X&&g.time===gt,pt=N(S,X,gt),Vt=N(D,X,gt);return E.jsxs("button",{onClick:()=>T(lt?null:{day:X,time:gt}),style:{padding:"8px 10px",borderRadius:8,border:`1px solid ${lt?"#0d6efd":"#d1d5db"}`,background:lt?"#e7f1ff":"#fff",fontWeight:600,whiteSpace:"nowrap",cursor:"pointer"},title:`${X} ${gt}`,children:[gt,E.jsxs("span",{style:{color:"#6b7280",marginLeft:6},children:["( ",tt," /  ",nt,")"]}),pt&&E.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#0d6efd"},children:" "}),Vt&&E.jsx("span",{style:{marginLeft:6,fontSize:12,color:"#6c757d"},children:" "})]},`${X}-${gt}`)})})})]},X))})]})}),E.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[E.jsx("div",{style:{minWidth:220,color:"#374151"},children:g?E.jsxs("span",{children:[": ",E.jsx("b",{children:g.day})," ",E.jsx("b",{children:g.time})]}):E.jsx("span",{style:{color:"#6b7280"},children:"   "})}),E.jsx("button",{disabled:!g,onClick:P,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #0d6efd",background:g?"#0d6efd":"#e5e7eb",color:g?"#fff":"#9ca3af",fontWeight:700,cursor:g?"pointer":"not-allowed"},children:" ( 2)"}),E.jsx("button",{disabled:!g,onClick:H,style:{padding:"8px 12px",borderRadius:8,border:"1px solid #6c757d",background:g?"#6c757d":"#e5e7eb",color:g?"##fff":"#9ca3af",fontWeight:700,cursor:g?"pointer":"not-allowed"},children:" ()"})]}),E.jsxs("div",{style:{marginTop:16,display:"grid",gap:12,gridTemplateColumns:"1fr 1fr"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ( 2)"}),S.length===0?E.jsx("div",{style:{color:"#6b7280"},children:""}):E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:S.map(({day:X,time:ot,status:gt})=>E.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:`1px solid ${gt==="reserve"?"#6c757d":"#0d6efd"}`,background:gt==="reserve"?"#f1f1f1":"#e7f1ff",display:"inline-flex",gap:8},title:gt==="reserve"?"()":"",children:[X," ",ot,gt==="reserve"?" ()":"",E.jsx("button",{onClick:()=>q(X,ot),style:{border:"none",background:"transparent",cursor:"pointer",color:gt==="reserve"?"#6c757d":"#0d6efd",fontWeight:700},children:""})]},`ap-${X}-${ot}`))})]}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:700,marginBottom:6},children:" ()"}),D.length===0?E.jsx("div",{style:{color:"#6b7280"},children:""}):E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:D.map(({day:X,time:ot})=>E.jsxs("span",{style:{padding:"6px 10px",borderRadius:999,border:"1px solid #6c757d",background:"#f1f1f1",display:"inline-flex",gap:8},children:[X," ",ot,E.jsx("button",{onClick:()=>ht(X,ot),style:{border:"none",background:"transparent",cursor:"pointer",color:"#6c757d",fontWeight:700},children:""})]},`wt-${X}-${ot}`))})]})]})]})}class kw extends rb.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("ErrorBoundary caught:",e,i)}render(){return this.state.hasError?E.jsx("div",{style:{padding:16},children:" . (F5),       ."}):this.props.children}}const Sv=r=>{if(!r)return null;if(typeof r.toDate=="function")return r.toDate();const e=new Date(r);return isNaN(e)?null:e};function Pw(){return E.jsx(R1,{children:E.jsx(kw,{children:E.jsx(Bw,{})})})}function Bw(){const[r,e]=L.useState(!!localStorage.getItem("studentId")),[i,s]=L.useState(!1),[o,c]=L.useState(""),f=ur(),[m,y]=L.useState(!1);L.useEffect(()=>{const T=()=>{e(!!localStorage.getItem("studentId"))};return window.addEventListener("storage",T),()=>{window.removeEventListener("storage",T)}},[]),L.useEffect(()=>{e(!!localStorage.getItem("studentId"))},[f]),L.useEffect(()=>{const T=localStorage.getItem("studentId");if(!T)return;(async()=>{const x=new Date,D=new Date;D.setDate(x.getDate()-3);const I=await qs(Qe(Nt,"comments")),F=await qs(Qe(Nt,"books")),N=I.docs.some(H=>{const q=H.data();return q.studentId===T&&(Sv(q.createdAt||q.completedDate)??new Date(0))>=D}),P=F.docs.some(H=>{const q=H.data();return q.studentId===T&&(Sv(q.createdAt||q.completedDate)??new Date(0))>=D});y(N||P)})()},[]),L.useEffect(()=>{let T;const S=()=>{clearTimeout(T),T=setTimeout(()=>{localStorage.clear(),e(!1),window.location.hash="#/login",alert("1     .")},36e5)};if(r){const x=["mousemove","keydown","click","scroll","touchstart"];return x.forEach(D=>window.addEventListener(D,S)),S(),()=>{clearTimeout(T),x.forEach(D=>window.removeEventListener(D,S))}}},[r]);async function g(){const T=localStorage.getItem("studentId");if(!T||o.length!==4){alert("PIN 4   .");return}try{await wE(_e(Nt,"students",T),{pin:o}),alert("PIN  ."),s(!1),c("")}catch(S){console.error(S),alert("PIN    .")}}return E.jsxs("div",{className:"app-shell page",children:[r&&E.jsxs("nav",{className:"nav",children:[E.jsxs("div",{className:"nav-links",style:{justifyContent:"center"},children:[["/attendance","/payment","/notices","/myclass","/enroll"].map(T=>E.jsx(kv,{to:T,style:({isActive:S})=>({margin:"0 0",padding:"6px 12px",borderRadius:6,textDecoration:"none",fontWeight:S?"bold":"normal",color:S?"#fff":"#333",backgroundColor:S?"#007bff":"#f5f5f7",position:"relative",display:"inline-flex",alignItems:"center",whiteSpace:"nowrap"}),children:{"/attendance":"","/payment":"","/notices":"","/myclass":E.jsxs(E.Fragment,{children:["",m&&E.jsx("span",{className:"pulse wiggle",style:{position:"absolute",top:-8,right:-12,backgroundColor:"red",color:"white",borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold",fontFamily:"'Segoe UI','Apple SD Gothic Neo',sans-serif"},children:" "})]}),"/enroll":""}[T]},T)),E.jsx("button",{onClick:()=>s(!0),style:{padding:"6px 12px",border:"none",borderRadius:6,backgroundColor:"#f0f0f0",cursor:"pointer"},children:"PIN "}),E.jsx("button",{onClick:()=>{localStorage.clear(),e(!1),window.location.hash="#/login"},style:{padding:"6px 12px",border:"none",borderRadius:6,backgroundColor:"#f0f0f0",cursor:"pointer"},children:""})]}),i&&E.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsxs("div",{className:"modal",style:{background:"#fff",padding:20,borderRadius:8},children:[E.jsx("h2",{children:"PIN "}),E.jsx("input",{type:"text",maxLength:4,value:o,onChange:T=>c(T.target.value.replace(/\D/g,"")),placeholder:" PIN (4)",style:{width:"100%",padding:8,margin:"12px 0"}}),E.jsxs("div",{style:{textAlign:"right"},children:[E.jsx("button",{onClick:()=>s(!1),style:{marginRight:8},children:""}),E.jsx("button",{onClick:g,children:""})]})]})})]}),E.jsxs(n1,{children:[E.jsx(ti,{index:!0,element:r?E.jsx(nr,{to:"notices",replace:!0}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"login",element:E.jsx(Rw,{onLoginSuccess:()=>e(!0)})}),E.jsx(ti,{path:"new-enroll",element:E.jsx(Lw,{})}),E.jsx(ti,{path:"attendance",element:r?E.jsx(ww,{}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"payment",element:r?E.jsx(Cw,{}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"notices",element:r?E.jsx(Vw,{}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"notices/:id",element:r?E.jsx(Nw,{}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"myclass",element:r?E.jsx(jw,{}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"enroll",element:r?E.jsx(Uw,{}):E.jsx(nr,{to:"login",replace:!0})}),E.jsx(ti,{path:"*",element:E.jsx(nr,{to:"/",replace:!0})})]})]})}const zw="modulepreload",qw=function(r){return"/ysmath/"+r},Av={},Hw=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let f=function(g){return Promise.all(g.map(T=>Promise.resolve(T).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(i.map(g=>{if(g=qw(g),g in Av)return;Av[g]=!0;const T=g.endsWith(".css"),S=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const x=document.createElement("link");if(x.rel=T?"stylesheet":zw,T||(x.as="script"),x.crossOrigin="",x.href=g,y&&x.setAttribute("nonce",y),document.head.appendChild(x),T)return new Promise((D,I)=>{x.addEventListener("load",D),x.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})};function Gw(r={}){const{immediate:e=!1,onNeedRefresh:i,onOfflineReady:s,onRegistered:o,onRegisteredSW:c,onRegisterError:f}=r;let m,y;const g=async(S=!0)=>{await y};async function T(){if("serviceWorker"in navigator){if(m=await Hw(async()=>{const{Workbox:S}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:S}},[]).then(({Workbox:S})=>new S("/ysmath/sw.js",{scope:"/ysmath/",type:"classic"})).catch(S=>{f==null||f(S)}),!m)return;m.addEventListener("activated",S=>{(S.isUpdate||S.isExternal)&&window.location.reload()}),m.addEventListener("installed",S=>{S.isUpdate||s==null||s()}),m.register({immediate:e}).then(S=>{c?c("/ysmath/sw.js",S):o==null||o(S)}).catch(S=>{f==null||f(S)})}}return y=T(),g}Gw({immediate:!0});hb.createRoot(document.getElementById("root")).render(E.jsx(L.StrictMode,{children:E.jsx(Pw,{})}));
